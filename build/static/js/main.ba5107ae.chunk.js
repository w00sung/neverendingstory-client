(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1028:function(e,t,a){},1029:function(e,t){e.exports={STORAGE:"https://iovar.s3.ap-northeast-2.amazonaws.com",SERVER:"http://54.180.24.213:80",CLIENT:"https://www.iovar.co.kr",SOCKET:"https://www.iovar.co.kr",KAKAO_KEY:"31ba9e7c5c25cdc29ae62436da6f8733"}},1130:function(e,t,a){},1131:function(e,t,a){},1134:function(e,t,a){},1135:function(e,t,a){},1136:function(e,t,a){},1137:function(e,t,a){},1138:function(e,t,a){},1148:function(e,t){},1150:function(e,t,a){},1151:function(e,t,a){},1153:function(e,t,a){},1154:function(e,t,a){},1155:function(e,t,a){},1156:function(e,t,a){},1157:function(e,t,a){},1158:function(e,t,a){},1159:function(e,t,a){},1160:function(e,t,a){},1161:function(e,t,a){},1162:function(e,t,a){},1163:function(e,t,a){},1164:function(e,t,a){},1165:function(e,t,a){},1166:function(e,t,a){},1167:function(e,t,a){},1168:function(e,t,a){},1169:function(e,t,a){},1175:function(e,t,a){},1176:function(e,t,a){},1177:function(e,t,a){},1178:function(e,t,a){},1179:function(e,t,a){},1180:function(e,t,a){},1181:function(e,t,a){},1182:function(e,t,a){},1211:function(e,t,a){},1212:function(e,t,a){},1213:function(e,t,a){},1222:function(e,t,a){"use strict";a.r(t);a(389),a(400),a(401),a(402),a(403),a(404),a(405),a(406),a(407),a(408),a(409),a(410),a(411),a(412),a(413),a(622),a(623),a(624),a(625),a(626),a(627),a(628),a(416),a(630),a(240),a(631),a(632),a(633),a(634),a(635),a(636),a(637),a(638),a(639),a(640),a(641),a(643),a(644),a(646),a(647),a(424),a(242),a(648),a(649),a(650),a(651),a(652),a(653),a(654),a(655),a(656),a(657),a(658),a(659),a(660),a(661),a(662),a(663),a(429),a(664),a(665),a(666),a(667),a(668),a(669),a(670),a(671),a(672),a(674),a(675),a(677),a(678),a(679),a(680),a(681),a(682),a(683),a(684),a(685),a(686),a(687),a(688),a(689),a(690),a(691),a(692),a(693),a(694),a(695),a(696),a(327),a(698),a(699),a(701),a(702),a(703),a(705),a(706),a(707),a(708),a(709),a(710),a(711),a(712),a(713),a(714),a(715),a(441),a(716),a(717),a(329),a(718),a(719),a(720),a(721),a(250),a(722),a(723),a(724),a(725),a(726),a(727),a(728),a(729),a(730),a(731),a(732),a(733),a(734),a(735),a(736),a(737),a(738),a(739),a(740),a(741),a(742),a(743),a(744),a(745),a(746),a(747),a(749),a(750),a(751),a(752),a(753),a(754),a(755),a(756),a(757),a(758),a(759),a(760),a(762),a(763),a(764),a(765),a(766),a(767),a(768),a(769),a(770),a(772),a(773),a(774),a(775),a(776),a(777),a(778),a(779),a(780),a(781),a(782),a(783),a(334),a(784),a(785),a(787),a(788),a(789),a(790),a(791),a(451),a(452),a(453),a(454),a(455),a(456),a(457),a(458),a(459),a(460),a(461),a(462),a(463),a(464),a(465),a(466),a(467),a(794),a(795),a(796),a(797),a(798),a(799),a(800),a(801),a(802),a(803),a(804),a(805),a(806),a(807),a(808),a(809),a(811),a(813),a(814),a(815),a(816),a(817),a(818),a(819),a(820),a(821),a(822),a(469),a(471),a(472),a(473),a(474),a(475),a(476),a(477),a(478),a(479),a(480),a(481),a(482),a(483),a(484),a(485),a(486),a(487),a(823),a(824),a(825),a(827),a(488),a(489),a(490),a(829),a(830),a(831),a(832),a(833),a(834),a(835),a(836),a(492),a(838),a(839),a(840),a(842),a(494),a(843),a(495);var n=a(0),c=a.n(n),r=a(11),l=a.n(r),i=(a(853),a(24)),o=a.n(i),s=a(40),u=a(2),m=a(37),d=a(588),g=a.n(d),f=a(4),b=a.n(f);function v(e){return{type:"register_user",payload:b.a.post("".concat("/api/users","/register"),e).then((function(e){return e.data}))}}function p(){return{type:"auth_user",payload:b.a.get("".concat("/api/users","/auth")).then((function(e){return e.data}))}}var E=a(7),h=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],r=a[1];c||(e(),r(!0))},_=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function r(r){var l=Object(E.c)((function(e){return e.user})),i=Object(E.b)();return Object(n.useEffect)((function(){i(p()).then((function(e){e.payload.isAuth?(a&&!e.payload.isAdmin||!1===t)&&r.history.replace("/"):t&&r.history.push("/login")}))}),[]),c.a.createElement(e,Object.assign({},r,{user:l}))}return r},y=function(e){function t(t){var a=Object(m.g)();return Object(n.useEffect)((function(){void 0===a.state&&t.history.replace("/")}),[]),a.state?c.a.createElement(e,t):c.a.createElement("div",null,"\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4\u314b\u314b")}return t},O=(a(905),a(520),a(310)),j=(a(521),a(378).TitleModalForm);function N(e){var t=e.replace,a=Object(n.useState)(""),r=Object(u.a)(a,2),l=r[0],i=r[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),g=d[0],f=d[1],v=Object(n.useState)(""),p=Object(u.a)(v,2),h=p[0],_=p[1],y=Object(n.useState)(""),N=Object(u.a)(y,2),k=N[0],x=N[1],A=Object(n.useRef)(!1),w=Object(E.c)((function(e){return e.user})),I=function(){var e=Object(s.a)(o.a.mark((function e(a,n){var c,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length){e.next=3;break}return O.a.error("\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 3:if(n.length){e.next=6;break}return O.a.error("\uc2a4\ud1a0\ub9ac \uc124\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 6:if(!A.current){e.next=8;break}return e.abrupt("return");case 8:return A.current=!0,e.next=11,b.a.post("/api/game/uploadgameframe",{title:a,description:n,category:l});case 11:if((c=e.sent).data.success){e.next=15;break}return alert("game Frame\uc81c\uc791 \uc2e4\ud328"),e.abrupt("return");case 15:return r={gameId:c.data.game._id,prevSceneId:null,sceneDepth:0,isFirst:1,title:""},e.next=18,b.a.post("/api/scene/create",r);case 18:if((i=e.sent).data.success){e.next=22;break}return alert("scene Frame\uc81c\uc791 \uc2e4\ud328"),e.abrupt("return");case 22:O.a.success("\uc774\uc57c\uae30\ub97c \uc2dc\uc791\ud574\uc8fc\uc138\uc694. \uc624\ub978\ucabd\uc758 \ubc84\ud2bc\uc744 \ud65c\uc6a9\ud574 \uc774\ubbf8\uc9c0\ub4e4\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),setTimeout((function(){t({pathname:"/scene/make",state:{gameId:c.data.game._id,sceneId:i.data.sceneId}})}),1e3);case 24:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"banner-main-button main3-button1",onClick:function(){var e;(null===(e=w.userData)||void 0===e?void 0:e.isAuth)?f(!0):O.a.error("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")}},"\uc0c8\ub85c\uc6b4 \uc2a4\ud1a0\ub9ac \ub9cc\ub4e4\uae30"),c.a.createElement(j,{visible:g,onCancel:function(){return f(!1)},onCreate:function(){I(h,k)},setGameTitle:_,setGameDescription:x,setCategory:i}))}var k=a(1247),x=a(1225),A=a(616),w=a(188);function I(e){var t=e.isModalVisible,a=e.setIsModalVisible,r=Object(n.useState)("feedback"),l=Object(u.a)(r,2),i=l[0],o=l[1],s=Object(n.useState)(""),m=Object(u.a)(s,2),d=m[0],g=m[1],f=Object(n.useState)(""),v=Object(u.a)(f,2),p=v[0],E=v[1],h=Object(n.useState)(""),_=Object(u.a)(h,2),y=_[0],j=_[1],N=k.a.Option,I=x.a.TextArea;return c.a.createElement("div",null,c.a.createElement(A.a,{title:"Contact us",visible:t,onOk:function(){var e,t={Type:i,Email:p,PhoneNumber:y,Content:d};(null===(e=t.Content)||void 0===e?void 0:e.length)?(b.a.post("api/users/send-feedback",t).then((function(e){e.data.success?O.a.success("\uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uace0\ub9d9\uc2b5\ub2c8\ub2e4."):O.a.error("\uc804\uc1a1 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc870\uc18d\ud788 \ucc98\ub9ac\ud558\uaca0\uc2b5\ub2c8\ub2e4."),o("feedback"),g(""),E(""),j("")})),a(!1)):O.a.error("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")},onCancel:function(){a(!1)}},c.a.createElement("p",null,"\uc0ac\uc774\ud2b8\uc5d0 \ub300\ud55c \ud53c\ub4dc\ubc31 \ud639\uc740 \ubb38\uc758\ub97c \ub0a8\uaca8\uc8fc\uc138\uc694. \ud544\uc694\ud558\uc2dc\ub2e4\uba74, \ub2f5\uc7a5 \ubc1b\uc73c\uc2e4 \uc5f0\ub77d\ucc98\ub97c \ub0a8\uaca8\uc8fc\uc138\uc694."),c.a.createElement("p",null),c.a.createElement("div",null,c.a.createElement(k.a,{defaultValue:"feedback",style:{width:120},onChange:function(e){o(e)}},c.a.createElement(N,{value:"feedback"},"\ud53c\ub4dc\ubc31"),c.a.createElement(N,{value:"ask"},"\ubb38\uc758"),c.a.createElement(N,{value:"copywrite"},"\uc800\uc791\uad8c \uad00\ub828"))),c.a.createElement(w.a.Item,{required:!0},c.a.createElement("p",null),c.a.createElement(I,{placeholder:"\ub0b4\uc6a9\uc744 \uc801\uc5b4\uc8fc\uc138\uc694",rows:6,value:d,onChange:function(e){g(e.currentTarget.value)}}),c.a.createElement("p",null),"\uc774\uba54\uc77c :",c.a.createElement(x.a,{placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c",value:p,onChange:function(e){E(e.currentTarget.value)}}),c.a.createElement("p",null),"\uc5f0\ub77d\ucc98 :",c.a.createElement(x.a,{placeholder:"\ud734\ub300\ud3f0 \ubc88\ud638",value:y,onChange:function(e){j(e.currentTarget.value)}}))))}var S={arrow_1:"M-1.73589e-06 5.2875L16.6883 22.5L-2.31124e-07 39.7125L5.13765 45L27 22.5L5.13765 -2.24574e-07L-1.73589e-06 5.2875Z",playIcon_1:"M0.497437 0.796925V17.5524L15.8567 9.17468L0.497437 0.796925Z",close_1:"M11 0C4.917 0 0 4.917 0 11C0 17.083 4.917 22 11 22C17.083 22 22 17.083 22 11C22 4.917 17.083 0 11 0ZM16.5 14.949L14.949 16.5L11 12.551L7.051 16.5L5.5 14.949L9.449 11L5.5 7.051L7.051 5.5L11 9.449L14.949 5.5L16.5 7.051L12.551 11L16.5 14.949Z",close_2:"M10 0.600006C4.47 0.600006 0 5.07001 0 10.6C0 16.13 4.47 20.6 10 20.6C15.53 20.6 20 16.13 20 10.6C20 5.07001 15.53 0.600006 10 0.600006ZM15 14.19L13.59 15.6L10 12.01L6.41 15.6L5 14.19L8.59 10.6L5 7.01001L6.41 5.60001L10 9.19001L13.59 5.60001L15 7.01001L11.41 10.6L15 14.19Z",click:"M237.298,99.533c-0.301-0.34-0.562-0.677-0.916-0.999c-3.937-3.535-4.043-2.491,0.266-6.463   c3.192-2.929,7.063-5.222,10.574-7.755c9.286-6.711,15.398-15.699,19.529-26.356C276.02,34.033,248.707,17.503,235,3.344   c-9.904-10.247-25.496,5.382-15.604,15.604c7.643,7.912,17.489,14.328,24.14,23.123c7.453,9.848-3.901,20.712-11.68,26.194   c-12.026,8.473-22.423,19.727-20.02,31.794c-53.971,5.042-103.87,34.623-103.87,86.767V333.2c0,64.664,52.603,117.27,117.27,117.27   c64.663,0,117.27-52.605,117.27-117.27V186.817C342.51,129.888,289.543,102.317,237.298,99.533z M130.044,186.817   c0-38.707,42.017-61.117,85.535-64.841v135.005c-39.697-1.998-71.928-11.042-85.535-15.457V186.817z M320.433,333.194   c0,52.5-42.705,95.199-95.192,95.199c-52.488,0-95.196-42.699-95.196-95.199V264.73c19.713,5.958,56.817,14.995,100.676,14.995   c28.088,0,58.93-3.759,89.713-14.352V333.194z M320.433,241.896c-27.916,10.675-56.424,14.849-82.78,15.415v-135.66   c42.569,2.553,82.78,22.969,82.78,65.175V241.896z M206.072,133.429v111.973c-17.153,3.027-67.583-11.094-67.583-11.094   C131.049,155.812,160.429,142.005,206.072,133.429z",search_1:"M24.2996 21.3836H22.7639L22.2196 20.8588C24.1246 18.6427 25.2716 15.7656 25.2716 12.6358C25.2716 5.65695 19.6146 0 12.6358 0C5.65695 0 0 5.65695 0 12.6358C0 19.6146 5.65695 25.2716 12.6358 25.2716C15.7656 25.2716 18.6427 24.1246 20.8588 22.2196L21.3836 22.7639V24.2996L31.1035 34L34 31.1035L24.2996 21.3836ZM12.6358 21.3836C7.79531 21.3836 3.88794 17.4763 3.88794 12.6358C3.88794 7.79531 7.79531 3.88794 12.6358 3.88794C17.4763 3.88794 21.3836 7.79531 21.3836 12.6358C21.3836 17.4763 17.4763 21.3836 12.6358 21.3836Z"};function C(e){var t=e.src,a=e.color,n=e.width,r=e.height;return c.a.createElement("svg",{width:n||"auto",height:r||"auto",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:S[t],fill:a}))}function L(){return c.a.createElement("svg",{height:"270px",width:"270px",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 96 96",xmlSpace:"preserve"},c.a.createElement("g",null,c.a.createElement("g",null,c.a.createElement("circle",{cx:"85",cy:"19.6",r:"6"}),c.a.createElement("path",{d:"M59,52.4c-0.1-0.2-0.4-0.1-0.5,0.1l-2.9,9.3c-0.1,0.4-0.5,0.8-0.9,0.8L45,63.9c-0.6,0.1-1,0.6-1,1.2v1c0,0.6,0.5,1,1,1.1    l12.2,0.4c0.8,0,1.6-0.4,2-1.1l4.4-7.6c0.1-0.2,0.1-0.5-0.1-0.7L59,52.4z"}),c.a.createElement("path",{d:"M84.1,37.8c-0.3-0.3-0.4-0.6-0.4-1l0.2-5.9c0-0.7-0.1-1.4-0.4-2l-0.2-0.5c-0.1-0.1-0.1-0.3-0.2-0.4    c-1.4-1.7-3.4-2.9-5.6-3.4l-0.8-0.2c-0.4-0.1-0.9-0.1-1.3-0.1l-8.7,0.2c-1.2,0-2.3,0.6-3.1,1.5l-5.4,6.9c-0.6,0.8-0.5,1.9,0.3,2.5    l0.1,0.1c0.6,0.4,1.4,0.4,1.9-0.2l4.9-4.8c0.4-0.4,0.9-0.5,1.4-0.4l3.3,0.7c0.3,0.1,0.4,0.4,0.3,0.7L69.5,33c0,0-4.9,6.7-8.1,11.4    c-1.7,2.5-1.5,5.7,0.4,8l3.3,4l4.9,6.4c0.5,0.6,0.6,1.4,0.4,2.2l-2.9,10.7c-0.3,1,0.4,1.9,1.5,2l0.6,0c0.7,0,1.3-0.3,1.5-0.9    l5.8-12.5c0.5-1.1,0.5-2.4-0.1-3.4l-6.2-11.7c-0.5-0.9-0.4-2,0.3-2.8l4.9-6.2l1.1-0.4c0.9-0.3,1.6-0.9,2.1-1.6v1.1    c0,0.8,0.4,1.6,1,2l7.1,5c0.7,0.5,1.6,0.5,2.3,0c1.1-0.9,1.1-2.6,0.1-3.5L84.1,37.8z"}),c.a.createElement("circle",{cx:"44.2",cy:"19.8",r:"6.3"}),c.a.createElement("path",{d:"M45,51.2l1-1.6c0.1-0.2,0.1-0.4-0.1-0.5l-2.4-1.4c-0.2-0.1-0.4,0-0.5,0.1l-0.9,1.4c-0.1,0.2-0.1,0.4,0.1,0.5l2.3,1.5    C44.7,51.4,44.9,51.4,45,51.2z"}),c.a.createElement("path",{d:"M47.8,41.1l2.1,1.7c0.2,0.1,0.4,0.1,0.6-0.1l3.1-4.9c0.1-0.2,0.1-0.4-0.1-0.5l-2.3-1.5c-0.2-0.1-0.4-0.1-0.5,0.1l-3,4.7    C47.6,40.8,47.6,41,47.8,41.1z"}),c.a.createElement("path",{d:"M28.6,53.7c-0.2-0.2-0.6-0.2-0.7,0.1l-3.5,6.5c-0.2,0.3-0.1,0.7,0.2,0.9l2.5,1.9c0.3,0.3,0.5,0.7,0.4,1.1l-2.9,10.5    c-0.3,1,0.5,2,1.5,2.1l0.7,0c0.7,0,1.3-0.4,1.6-1l5.8-12.4c0.7-1.5,0.4-3.3-0.7-4.5L28.6,53.7z"}),c.a.createElement("path",{d:"M48.8,47.8c1.2-0.9,1.2-2.7,0.1-3.6L43.3,39c-0.3-0.3-0.4-0.6-0.4-1l0.2-6.2c0-0.7-0.1-1.5-0.4-2.1L42.5,29    c-0.1-0.1-0.1-0.3-0.2-0.4c-1.5-1.8-3.6-3.1-5.9-3.6l-0.8-0.2c-0.5-0.1-0.9-0.1-1.4-0.1L25,25c-1.3,0-2.5,0.6-3.2,1.6l-5.6,7.2    c-0.6,0.8-0.5,2,0.4,2.6l0.1,0.1c0.6,0.5,1.5,0.4,2-0.2l5.2-5c0.4-0.4,0.9-0.5,1.5-0.4l3.5,0.7c0.3,0.1,0.5,0.4,0.3,0.7l-1.1,1.6    l-7.9,10.4l0,0c-3,3.7-4.9,8.1-5.7,12.7l-1,5.9c-0.1,0.5-0.5,0.8-1,0.9l-10,1.5c-0.6,0.1-1.1,0.6-1.1,1.2v1.1    c0,0.6,0.5,1.1,1.1,1.1l12.8,0.5c0.8,0,1.6-0.4,2-1.1l9.5-16.3l7.1-9.2l0,0l1.6-0.5c1.1-0.4,2-1.2,2.5-2.3l0.1-0.2v0.9    c0,0.8,0.4,1.6,1.1,2.1l7.4,5.3C47.2,48.3,48.2,48.3,48.8,47.8z"}))))}function M(){return c.a.createElement("svg",{height:"270px",width:"270px",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48",xmlSpace:"preserve"},c.a.createElement("g",null,c.a.createElement("ellipse",{fill:"#000000",cx:"22.3",cy:"6.3",rx:"4.6",ry:"4.3"}),c.a.createElement("path",{fill:"#000000",d:"M46.8,23.7c-0.4-0.2-9.3-5.8-25.1-1.4c-14,3.9-18.6-0.7-18.7-0.8c-0.5-0.6-1.4-0.6-2-0.1   c-0.6,0.5-0.7,1.4-0.1,2c0.2,0.2,3,3.3,10.7,3.3c2.9,0,6.5-0.5,10.9-1.7c14.4-4.1,22.7,1,22.7,1c0.7,0.4,1.6,0.2,2-0.4   C47.7,25,47.5,24.1,46.8,23.7z"}),c.a.createElement("path",{fill:"#000000",d:"M13,21.7c0.1,0,0.2,0,0.3,0c1.1-0.1,2-1.1,1.9-2.2c0.1-0.3,0.7-1,2.8-1.4V21c0,0,7.4-2.1,10.3-2.3l0-2.3   c5.4-2.3,7.1-8.2,7.5-11.6c0.1-1.1-0.7-2.2-1.9-2.3c-1.2-0.1-2.3,0.7-2.4,1.8c0,0.4-1.2,9.2-8.8,9.2c-0.1,0-0.1,0-0.2,0   c-5-0.1-8.4,0.8-10.3,2.7c-1.5,1.6-1.3,3.2-1.3,3.5C11,20.9,11.9,21.7,13,21.7z"}),c.a.createElement("path",{fill:"#000000",d:"M28,25.8L18,28l-0.2,2.3c-0.1,0.9-0.5,2.2-0.8,2.3c0,0-1.1,0.1-3.8-2.7C12.3,29,10.9,29,10,29.7   c-0.9,0.8-1,2.1-0.1,2.9c1,1.1,3.9,4.1,7.1,4.1c0.5,0,1-0.1,1.5-0.2c2.9-1,4.8-5.4,4.9-6.6l4.1,7.1l-2,6.4   c-0.3,1.1,0.3,2.2,1.5,2.6c0.2,0.1,0.4,0.1,0.6,0.1c1,0,1.8-0.6,2.1-1.5l2.2-7.1c0.1-0.5,0.1-0.9-0.1-1.4L28,25.8z"})))}function T(){return c.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"70px",height:"35px",viewBox:"0 0 1049 536",enableBackground:"new 0 0 1049 536",xmlSpace:"preserve"},c.a.createElement("image",{id:"logo_icon",width:"1049",height:"536",x:"0",y:"0",xlinkHref:"data:image/png;base64,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"}))}function D(e){return c.a.createElement("svg",{width:"15",height:"3",viewBox:"0 0 15 3",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("rect",{width:"15",height:"3",fill:"white"}))}function B(e){return c.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("circle",{cx:"8.5",cy:"8.5",r:"8.5",fill:"#ffffff"}))}function F(e){return c.a.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"50%",height:"100",viewBox:"0 0 450.47 450.47",xmlSpace:"preserve",fill:"white"},c.a.createElement("g",null,c.a.createElement("path",{d:"M237.298,99.533c-0.301-0.34-0.562-0.677-0.916-0.999c-3.937-3.535-4.043-2.491,0.266-6.463\r c3.192-2.929,7.063-5.222,10.574-7.755c9.286-6.711,15.398-15.699,19.529-26.356C276.02,34.033,248.707,17.503,235,3.344\r c-9.904-10.247-25.496,5.382-15.604,15.604c7.643,7.912,17.489,14.328,24.14,23.123c7.453,9.848-3.901,20.712-11.68,26.194\r c-12.026,8.473-22.423,19.727-20.02,31.794c-53.971,5.042-103.87,34.623-103.87,86.767V333.2c0,64.664,52.603,117.27,117.27,117.27\r c64.663,0,117.27-52.605,117.27-117.27V186.817C342.51,129.888,289.543,102.317,237.298,99.533z M130.044,186.817\r c0-38.707,42.017-61.117,85.535-64.841v135.005c-39.697-1.998-71.928-11.042-85.535-15.457V186.817z M320.433,333.194\r c0,52.5-42.705,95.199-95.192,95.199c-52.488,0-95.196-42.699-95.196-95.199V264.73c19.713,5.958,56.817,14.995,100.676,14.995\r c28.088,0,58.93-3.759,89.713-14.352V333.194z M320.433,241.896c-27.916,10.675-56.424,14.849-82.78,15.415v-135.66\r c42.569,2.553,82.78,22.969,82.78,65.175V241.896z M206.072,133.429v111.973c-17.153,3.027-67.583-11.094-67.583-11.094\r C131.049,155.812,160.429,142.005,206.072,133.429z"})),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null))}function P(e){return c.a.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 504 504",xmlSpace:"preserve"},c.a.createElement("circle",{fill:"#90DFAA",cx:"252",cy:"252",r:"252"}),c.a.createElement("polygon",{fill:"#FFFFFF",points:"183.7,376 75.4,338.2 149.7,179.5 211.4,190.7 "}),c.a.createElement("polygon",{fill:"#E6E9EE",points:"183.7,376 298.1,338 276.5,179.5 211.4,190.7 "}),c.a.createElement("polygon",{fill:"#FFFFFF",points:"434.8,376 298.1,338 276.5,179.5 344.9,190.7 "}),c.a.createElement("g",null,c.a.createElement("polygon",{fill:"#84DBFF",points:"326,207.4 279.1,198.8 294.3,310.5 382,334 \t"}),c.a.createElement("polygon",{fill:"#84DBFF",points:"159.9,201.3 104.9,321.7 187.2,347.2 208.2,210 \t"})),c.a.createElement("polygon",{fill:"#54C0EB",points:"279.1,198.8 208.2,210 187.2,347.2 294.3,310.5 "}),c.a.createElement("path",{fill:"#F1543F",d:"M331.8,139.9c0,45-81.5,143.3-81.5,143.3s-81.5-98.3-81.5-143.3s36.5-81.5,81.5-81.5\r S331.8,94.8,331.8,139.9z"}),c.a.createElement("circle",{fill:"#FFFFFF",cx:"250.2",cy:"133.2",r:"41.3"}),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null),c.a.createElement("g",null))}function R(e){var t=e.replace,a=Object(n.useState)(1),r=Object(u.a)(a,2),l=r[0],i=r[1],o=Object(n.useState)(!1),s=Object(u.a)(o,2),m=s[0],d=s[1],g=Object(n.useState)(!1),f=Object(u.a)(g,2),b=f[0],v=f[1],p=Object(n.useState)(Math.min(window.innerWidth,1440)),E=Object(u.a)(p,2),h=E[0],_=E[1],y=c.a.createRef(),O=c.a.createRef(),j=window.matchMedia("(pointer: coarse)").matches,N={},k={},x={top:"90%"},A=Object(n.useRef)([]),w=function(e){if(0!==l){var t=document.getElementById("banner_bar"+String(l));null===t?console.log("can not find target bar"):t.style.filter="brightness(50%)"}i(0==e&&j?1:e)},I=function(){w(l>=4?0:l+1)};function S(){_(Math.min(window.innerWidth,1440))}Object(n.useEffect)((function(){return window.addEventListener("resize",S),function(){window.removeEventListener("resize",S)}}),[]),Object(n.useEffect)((function(){if(j||function(){var e=setTimeout((function(){I()}),0==l?0:1e4);A.current.push(e)}(),y.current&&(y.current.style.transition=0!=l&&b?"all 1s ease-in-out":"all 0s",v(!0),y.current.style.transform="translateX(-".concat(100*l/5,"%)")),0!==l){var e=document.getElementById("banner_bar"+String(l));null===e?console.log("can not find target bar"):e.style.filter="brightness(100%)"}return function(){j||function(){for(var e=0;e<A.current.length;e++)clearTimeout(A.current[e]);A.current=[]}()}}),[l]),j&&(k={opacity:.5}),h>767&&(N={height:3*h/7},x={top:"".concat(3*h/7*.9,"px")});for(var L=[],M=function(e){L.push(c.a.createElement("div",{id:"banner_bar".concat(e),className:"banner-bar",key:"".concat(e),onClick:function(){w(e)}},c.a.createElement(B,null)))},T=1;T<=4;T++)M(T);return c.a.createElement("div",null,c.a.createElement("div",{className:"banner-container",ref:y,style:N},c.a.createElement(z,{isModalVisible:m,setIsModalVisible:d}),c.a.createElement(G,{width:h}),c.a.createElement(Q,{width:h}),c.a.createElement(V,{replace:t}),c.a.createElement(z,{isModalVisible:m,setIsModalVisible:d})),c.a.createElement("div",{className:"banner-right-arrow",ref:O,onClick:function(){I()},style:k},c.a.createElement(C,{src:"arrow_1",width:"100%",height:"100%",color:"#F5F5F5"})),c.a.createElement("div",{className:"banner-positionBar",style:x},L))}function G(e){var t=e.width;return c.a.createElement("div",{className:"banner-main main1-background"},c.a.createElement("div",{className:"banner-main-slogan main1-slogan1"},'"\uc774\uc5b4\ubd10\uc5d0\ub294 \uc218\ub9ce\uc740 \uc5d4\ub529\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"'),c.a.createElement("div",{className:"banner-main-slogan main1-slogan2"},"\uc774 \uc21c\uac04\uc5d0\ub3c4 \ub9ce\uc740 \uc774\uc57c\uae30\ub4e4\uc774 \uc7ac\uc0dd\uc0b0\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ud0d0\ud5d8\ud558\uc138\uc694!"),c.a.createElement("button",{className:"banner-main-button main1-button1",onClick:function(){window.scrollTo({top:3*t/7,left:0,behavior:"smooth"})}},"\uc2a4\ud1a0\ub9ac \ud50c\ub808\uc774\ud558\uae30"))}function z(e){var t=e.isModalVisible,a=e.setIsModalVisible;return c.a.createElement("div",{className:"banner-main main2-background"},c.a.createElement("div",{className:"banner-main-slogan main2-emoji1"},"\ud83d\udc68\u200d\ud83d\udcbb"),c.a.createElement("div",{className:"banner-main-slogan main2-slogan1"},"\ud53c\ub4dc\ubc31\uc744 \uc694\uccad\ud569\ub2c8\ub2e4!"),c.a.createElement("div",{className:"banner-main-slogan main2-slogan2"},"\ub354 \uba4b\uc9c4 \uc11c\ube44\uc2a4\ub97c \uc704\ud574 \uc5ec\ub7ec\ubd84\uc758 \uc758\uacac\uc744 \ub0a8\uaca8\uc8fc\uc138\uc694."),c.a.createElement("button",{className:"banner-main-button main2-button1",onClick:function(){return a(!0)}},"\ud53c\ub4dc\ubc31 \ub0a8\uae30\uae30"),c.a.createElement(I,{isModalVisible:t,setIsModalVisible:a}))}function Q(e){var t=e.width;return c.a.createElement("div",{className:"banner-main main3-background"},c.a.createElement("div",{className:"banner-main-slogan main3-slogan1"},"\uc120\ud0dd\uc758 \uae38\uacfc \ub9c8\uc8fc\ud558\uc138\uc694\ud83e\udded"),c.a.createElement("div",{className:"banner-main-slogan main3-slogan2"},"\uac01\uac01\uc758 \uc120\ud0dd\uc740 \ubaa8\ub450 \ub2e4\ub978 \uc2a4\ud1a0\ub9ac\ub85c \uc774\uc5b4\uc9c8 \uac83\uc785\ub2c8\ub2e4."),c.a.createElement("div",{className:"banner-main-slogan main3-slogan3"},'"\uc774\uc57c\uae30\uac00 \ub9d8\uc5d0\ub4e4\uc9c0 \uc54a\ub2e4\uad6c\uc694? \uadf8\ub7fc \uc790\uc2e0\uc758 \uc2a4\ud1a0\ub9ac\ub85c \uc774\uc5b4\ubcf4\uc138\uc694!"'),c.a.createElement("button",{className:"banner-main-button main3-button1",onClick:function(){window.scrollTo({top:3*t/7,left:0,behavior:"smooth"})}},"\uc2a4\ud1a0\ub9ac \uc774\uc73c\ub7ec\uac00\uae30"))}function V(e){var t=e.replace;return c.a.createElement("div",{className:"banner-main main4-background"},c.a.createElement("div",{className:"banner-main-slogan main4-slogan1"},"\uac19\uc774 \ub098\ub204\uace0 \uc2f6\uc740 \uc774\uc57c\uae30\uac00 \uc788\ub098\uc694?"),c.a.createElement("div",{className:"banner-main-slogan main4-slogan2"},'"\uc774\uc5b4\ubd10\uc5d0\uc11c \ud3bc\uccd0\ubcf4\uc138\uc694!"'),c.a.createElement("div",{className:"banner-main-slogan main4-slogan3"},"\ub2f9\uc2e0\uc758 \uce90\ub9ad\ud130\uc640 \ubc30\uacbd\uc73c\ub85c \uc0c8\ub85c\uc6b4 \uac8c\uc784\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),c.a.createElement(N,{replace:t}))}a(1028);var U=a(26);a(85);function Z(e){var t=e.data,a=e.games,r=e.rank,l=Object(n.useState)(Math.min(window.innerWidth,1440)),i=Object(u.a)(l,2),o=i[0],s=i[1],m=window.matchMedia("(pointer: coarse)").matches,d={},g={},f={};function b(){s(Math.min(window.innerWidth,1440))}Object(n.useEffect)((function(){return window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}}),[]),o<767?d={height:.9*o*9/16+"px"}:(g={width:(o-80)/4+"px",height:(o-80)/4*5/7+"px"},d={height:(o-80)/4*.95*9/16+"px"}),t.length=0;var v=a.map((function(e,a){var n;return(null===e||void 0===e?void 0:e.first_scene)?(t.length+=1,n=e.thumbnail,r?c.a.createElement("div",{className:"gamelist-game",key:e._id,style:g},c.a.createElement(U.b,{to:"/game/".concat(e._id)},c.a.createElement("img",{className:"game-image",src:n,alt:e.title,style:d}),c.a.createElement("div",{className:"game-title",style:{paddingLeft:"30px"}},e.title),c.a.createElement("div",{className:"game-writerNum"},e.contributerList.length,"\uba85 \ucc38\uc5ec")),c.a.createElement("div",{className:"game-rank"},t.length),c.a.createElement("div",{className:"game-category",style:{paddingLeft:"30px"}},e.category)):c.a.createElement("div",{className:"gamelist-game",key:e._id,style:g},c.a.createElement(U.b,{to:"/game/".concat(e._id)},c.a.createElement("img",{className:"game-image",src:n,alt:e.title,style:d}),c.a.createElement("div",{className:"game-title"},e.title),c.a.createElement("div",{className:"game-writerNum"},e.contributerList.length,"\uba85 \ucc38\uc5ec")),c.a.createElement("div",{className:"game-category"},e.category))):null}));t.limit=Math.round(t.length/4+.49),f=m&&t.limit>1?{display:"block",height:(o-80)/4*.95*9/16+"px"}:{height:(o-80)/4*.95*9/16+"px"};for(var p=[],E=t.limit-1;E>0;E--)p.push(c.a.createElement("div",{id:"".concat(t.id,"_bar").concat(E),className:"bar",key:"".concat(E)},c.a.createElement(D,null)));return p.push(c.a.createElement("div",{id:"".concat(t.id,"_bar0"),className:"bar",key:0,style:{filter:"brightness(100%)"}},c.a.createElement(D,null))),o<767?c.a.createElement("div",{className:"box-container game-box",style:{height:1.4*o*9/16*t.length+"px"}},c.a.createElement("div",{className:"box-title"},t.category),c.a.createElement("div",{className:"box-gameList"},c.a.createElement("div",{id:"".concat(t.id,"_gameList"),className:"gamelist-container",style:{height:1.2*o*9/16*t.length+"px"}},v))):c.a.createElement("div",{className:"box-container game-box"},c.a.createElement("div",{className:"box-title"},t.category),c.a.createElement("div",{className:"box-positionBar"},p),c.a.createElement("div",{className:"box-gameList",onMouseEnter:function(){!function(e){var t,a=document.getElementById(e.id+"_right_arrow");if(e.pos<e.limit-1){if(null===a)throw Error("can not find target arrow");a.style.display="block"}if(a=document.getElementById(e.id+"_left_arrow"),e.pos>0){if(null===a)throw Error("can not find target arrow");a.style.display="block"}for(var n=0;n<e.limit;n++){if(null===(t=document.getElementById(e.id+"_bar"+String(n))))throw Error("can not find target bar");t.style.transform="opacity(1)",t.style.opacity="1"}}(t)},onMouseLeave:function(){!function(e){var t,a=document.getElementById(e.id+"_right_arrow");if(null===a)throw Error("can not find target arrow");if(a.style.display="none",a=document.getElementById(e.id+"_left_arrow"),e.pos>0){if(null===a)throw Error("can not find target arrow");a.style.display="none"}for(var n=0;n<e.limit;n++){if(null===(t=document.getElementById(e.id+"_bar"+String(n))))throw Error("can not find target bar");t.style.transform="opacity(0)",t.style.opacity="0"}}(t)}},c.a.createElement("div",{id:"".concat(t.id,"_gameList"),className:"gamelist-container",style:{width:t.length*(o-80)/4+"px"}},v),c.a.createElement("div",{id:"".concat(t.id,"_left_arrow"),className:"gamelist-left-arrow",onClick:function(){!function(e,t){if(e.pos>0){var a=document.getElementById(e.id+"_bar"+String(e.pos));if(null===a)throw Error("can not find target bar");a.style.filter="brightness(50%)",e.pos-=1;var n=document.getElementById(e.id+"_gameList");if(null===n)throw Error("can not find target container");if(n.style.transform="translate(".concat((80-t)*e.pos,"px, 0px)"),null===(a=document.getElementById(e.id+"_bar"+String(e.pos))))throw Error("can not find target bar");if(a.style.filter="brightness(100%)",0==e.pos){var c=document.getElementById(e.id+"_left_arrow");if(null===c)throw Error("can not find target arrow");c.style.display="none"}if(null===(c=document.getElementById(e.id+"_right_arrow")))throw Error("can not find target arrow");c.style.display="block"}}(t,o)},style:d},c.a.createElement(C,{src:"arrow_1",width:"100%",height:"100%",color:"#F5F5F5"})),c.a.createElement("div",{id:"".concat(t.id,"_right_arrow"),className:"gamelist-right-arrow",onClick:function(){!function(e,t){if(e.pos<e.limit-1){var a=document.getElementById(e.id+"_bar"+String(e.pos));if(null===a)throw Error("can not find target bar");a.style.filter="brightness(50%)",e.pos+=1;var n=document.getElementById(e.id+"_gameList");if(null===n)throw Error("can not find target container");if(n.style.transform="translate(".concat((80-t)*e.pos,"px, 0px)"),null===(a=document.getElementById(e.id+"_bar"+String(e.pos))))throw Error("can not find target bar");if(a.style.filter="brightness(100%)",e.pos==e.limit-1){var c=document.getElementById(e.id+"_right_arrow");if(null===c)throw Error("can not find target arrow");c.style.display="none"}if(null===(c=document.getElementById(e.id+"_left_arrow")))throw Error("can not find target arrow");c.style.display="block"}}(t,o)},style:f},c.a.createElement(C,{src:"arrow_1",width:"100%",height:"100%",color:"#F5F5F5"}))))}function q(e){return{type:"navbar_control",payload:e}}function Y(e){return{type:"footer_control",payload:e}}function H(e){return{type:"search_control",payload:e}}var X={recent_games:{category:"\ucd5c\uadfc \ud50c\ub808\uc774\ud55c \uc2a4\ud1a0\ub9ac",id:"recent",length:0,pos:0,limit:0},popular_games:{category:"\uc778\uae30 \uc2a4\ud1a0\ub9ac",id:"popular",length:0,pos:0,limit:0}};var K=function(e){var t=Object(E.b)(),a=Object(n.useState)([]),r=Object(u.a)(a,2),l=r[0],i=r[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){t(q(!0)),t(Y(!0)),X.popular_games.pos=0,X.recent_games.pos=0,b.a.get("/api/game/popular-games").then((function(e){e.data.success?i(e.data.games):alert("\uc778\uae30\uac8c\uc784 \ub85c\ub4dc\uc5d0 load\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})),b.a.get("/api/game/recent-games").then((function(e){e.data.success?d(e.data.games):alert("\ucd5c\uadfc\uac8c\uc784 \ub85c\ub4dc\uc5d0 load\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]),c.a.createElement("div",{className:"mainPage_container"},c.a.createElement("div",{className:"box-container"},c.a.createElement(R,{replace:e.history.replace})),c.a.createElement(Z,{data:X.popular_games,games:l,rank:!0}),c.a.createElement(Z,{data:X.recent_games,games:m,rank:!1}))},W=a(183),J=a(76),$=a(21),ee=a(1250),te=(a(1130),a(601)),ae=a(85);var ne=Object(m.h)((function(e){var t=Object(E.b)(),a=!!localStorage.getItem("rememberMe"),r=Object(n.useState)(""),l=Object(u.a)(r,2),i=l[0],o=l[1],s=Object(n.useState)(a),m=Object(u.a)(s,2),d=m[0],g=m[1],f=function(){g(!d)},v=localStorage.getItem("rememberMe")?localStorage.getItem("rememberMe"):void 0,p=function(t){b.a.post("/api/passport/kakao/oauth",{profile:t.profile}).then((function(a){a.data.success&&(a.data.newUser?e.history.replace({pathname:"/passport/register",state:{snsId:t.profile.id,snsProvider:"kakao"}}):e.history.replace("/"))}))},h=function(t){e.history.replace({pathname:"/login"})};return c.a.createElement(W.a,{initialValues:{email:v,password:""},validationSchema:J.object().shape({email:J.string().email("\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.").required("\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694."),password:J.string().min(6,"\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 6\uae00\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.").required("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.")}),onSubmit:function(a,n){var c=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password};t(function(e){return{type:"login_user",payload:b.a.post("".concat("/api/users","/login"),e).then((function(e){return e.data}))}}(n)).then((function(t){t.payload.loginSuccess?(!0===d&&a.email?window.localStorage.setItem("rememberMe",a.email):localStorage.removeItem("rememberMe"),e.history.replace("/")):o("\uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574 \uc8fc\uc138\uc694.")})).catch((function(e){o("\uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574 \uc8fc\uc138\uc694."),setTimeout((function(){o("")}),3e3)})),c(!1)}),500)}},(function(e){var t=e.values,a=e.touched,n=e.errors,r=e.isSubmitting,l=e.handleChange,o=e.handleBlur,s=e.handleSubmit;return c.a.createElement("div",{className:"loginPage-container"},c.a.createElement("div",{className:"loginDiv-container"},c.a.createElement("div",{className:"login-Title"},"\ub85c\uadf8\uc778"),c.a.createElement("div",{className:"login-newUser"},"\uc2e0\uaddc \uc0ac\uc6a9\uc790\uc774\uc2e0\uac00\uc694? ",c.a.createElement(U.b,{className:"login-register",to:"/register"},"\uacc4\uc815\ub9cc\ub4e4\uae30")),c.a.createElement("form",{onSubmit:s},c.a.createElement(w.a.Item,{required:!0},c.a.createElement(x.a,{id:"email",prefix:c.a.createElement($.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c",type:"email",value:t.email,onChange:l,onBlur:o,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&c.a.createElement("div",{className:"input-feedback",style:{color:"rgb(255, 60, 60)"}},n.email)),c.a.createElement(w.a.Item,{required:!0},c.a.createElement(x.a,{id:"password",prefix:c.a.createElement($.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",value:t.password,onChange:l,onBlur:o,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&c.a.createElement("div",{className:"input-feedback",style:{color:"rgb(255, 60, 60)"}},n.password)),i&&c.a.createElement("label",null,c.a.createElement("p",{className:"login-error"},i)),c.a.createElement(w.a.Item,null,c.a.createElement(ee.a,{className:"rememberMe",onChange:f,checked:d,style:{color:"white"}},"\uc544\uc774\ub514 \uae30\uc5b5\ud558\uae30"),c.a.createElement(w.a.Item,null,c.a.createElement("div",null,c.a.createElement("button",{type:"submit",className:"login-button",disabled:r,onSubmit:function(){return s()}},"\ub85c\uadf8\uc778"),c.a.createElement(te.a,{token:ae.KAKAO_KEY,onSuccess:function(e){return p(e)},onFail:function(e){h()},className:"login-button login-kakao"},"\uce74\uce74\uc624 \ub85c\uadf8\uc778")))))))}))}));a(573);var ce=function(e){var t=Object(E.b)();return n.createElement(W.a,{initialValues:{email:"",nickname:"",password:"",confirmPassword:""},validationSchema:J.object().shape({nickname:J.string().max(12,"\ub2c9\ub124\uc784\uc740 \ucd5c\ub300 12\uae00\uc790\uae4c\uc9c0 \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4.").required("\ud544\uc218 \uc815\ubcf4\uc785\ub2c8\ub2e4."),email:J.string().email("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4.").required("\ud544\uc218 \uc815\ubcf4\uc785\ub2c8\ub2e4."),password:J.string().min(6,"\ud328\uc2a4\uc6cc\ub4dc\ub294 \ucd5c\uc18c 6\uae00\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694.").required("\ud544\uc218 \uc815\ubcf4\uc785\ub2c8\ub2e4."),confirmPassword:J.string().oneOf([J.ref("password"),void 0],"\ud328\uc2a4\uc6cc\ub4dc\uac00 \ud2c0\ub9bd\ub2c8\ub2e4.").required("\ud328\uc2a4\uc6cc\ub4dc\ub97c \ub2e4\uc2dc \uc785\ub825\ud574\uc8fc\uc138\uc694.")}),onSubmit:function(a,n){var c=n.setSubmitting;setTimeout(Object(s.a)(o.a.mark((function n(){var r,l,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.post("/api/users/email-check",{email:a.email}).then((function(e){r=e.data.usedEmail}));case 2:if(!r){n.next=6;break}return alert("\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc774\uba54\uc77c \uc785\ub2c8\ub2e4."),c(!1),n.abrupt("return");case 6:return n.next=8,b.a.post("/api/users/nickname-check",{nickname:a.nickname}).then((function(e){l=e.data.usedNickname}));case 8:if(!l){n.next=12;break}return alert("\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \ub2c9\ub124\uc784 \uc785\ub2c8\ub2e4."),c(!1),n.abrupt("return");case 12:return i={email:a.email,password:a.password,nickname:a.nickname,image:"https://i.imgur.com/rF80MBo.png"},n.next=15,t(v(i)).then((function(t){t.payload.success?e.history.push("/"):alert(t.payload.err.errmsg)}));case 15:c(!1);case 16:case"end":return n.stop()}}),n)}))),500)}},(function(e){var t=e.values,a=e.touched,c=e.errors,r=e.isSubmitting,l=e.handleChange,i=e.handleBlur,o=e.handleSubmit;return n.createElement("div",{className:"registerPage-container"},n.createElement("div",{className:"registerDiv-container"},n.createElement("div",{className:"register-Title"},"\ud68c\uc6d0\uac00\uc785"),n.createElement("div",{className:"register-oldUser"},"\uae30\uc874 \uc0ac\uc6a9\uc790\uc774\uc2e0\uac00\uc694? ",n.createElement(U.b,{className:"register-login",to:"/login"},"\ub85c\uadf8\uc778\ud558\uae30")),n.createElement(w.a,{onSubmit:o,labelAlign:"left",labelCol:{span:5},wrapperCol:{span:19}},n.createElement(w.a.Item,{required:!0,label:n.createElement("label",{style:{color:"white"}}," \ub2c9\ub124\uc784")},n.createElement(x.a,{id:"nickname",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694",type:"text",value:t.nickname,onChange:l,onBlur:i,className:c.nickname&&a.nickname?"text-input error":"text-input"}),c.nickname&&a.nickname&&n.createElement("div",{className:"input-feedback",style:{color:"rgb(255, 60, 60)"}},c.nickname)),n.createElement(w.a.Item,{required:!0,label:n.createElement("label",{style:{color:"white"}}," \uc774\uba54\uc77c"),hasFeedback:!0,validateStatus:c.email&&a.email?"error":"success"},n.createElement(x.a,{id:"email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694.",type:"email",value:t.email,onChange:l,onBlur:i,className:c.email&&a.email?"text-input error":"text-input"}),c.email&&a.email&&n.createElement("div",{className:"input-feedback",style:{color:"rgb(255, 60, 60)"}},c.email)),n.createElement(w.a.Item,{required:!0,label:n.createElement("label",{style:{color:"white"}}," \ube44\ubc00\ubc88\ud638"),hasFeedback:!0,validateStatus:c.password&&a.password?"error":"success"},n.createElement(x.a,{id:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",type:"password",value:t.password,onChange:l,onBlur:i,className:c.password&&a.password?"text-input error":"text-input"}),c.password&&a.password&&n.createElement("div",{className:"input-feedback",style:{color:"rgb(255, 60, 60)"}},c.password)),n.createElement(w.a.Item,{required:!0,label:n.createElement("label",{style:{color:"white"}}," \ube44\ubc00\ubc88\ud638 \uc7ac\ud655\uc778"),hasFeedback:!0},n.createElement(x.a,{id:"confirmPassword",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc7ac\uc785\ub825\ud558\uc138\uc694",type:"password",value:t.confirmPassword,onChange:l,onBlur:i,className:c.confirmPassword&&a.confirmPassword?"text-input error":"text-input"}),c.confirmPassword&&a.confirmPassword&&n.createElement("div",{className:"input-feedback",style:{color:"rgb(255, 60, 60)"}},c.confirmPassword)),n.createElement(w.a.Item,null,n.createElement("div",null,n.createElement("button",{type:"submit",className:"register-button",disabled:r,onSubmit:function(){return o()}},"\ud68c\uc6d0\uac00\uc785"))))))}))};var re=function(e){var t=Object(E.b)(),a=Object(m.g)().state,c=a.snsId,r=a.snsProvider;return n.createElement(W.a,{initialValues:{nickname:""},validationSchema:J.object().shape({nickname:J.string().max(15,"\ub2c9\ub124\uc784\uc740 \ucd5c\ub300 15\uae00\uc790\uae4c\uc9c0 \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4.").required("\ud544\uc218 \uc815\ubcf4\uc785\ub2c8\ub2e4.")}),onSubmit:function(a,n){var l=n.setSubmitting;setTimeout(Object(s.a)(o.a.mark((function n(){var i,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.post("/api/users/nickname-check",{nickname:a.nickname}).then((function(e){i=e.data.usedNickname}));case 2:if(!i){n.next=6;break}return alert("\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \ub2c9\ub124\uc784 \uc785\ub2c8\ub2e4."),l(!1),n.abrupt("return");case 6:return s={nickname:a.nickname,snsId:c,snsProvider:r,image:"https://i.imgur.com/rF80MBo.png"},n.next=9,t(v(s)).then((function(t){t.payload.success?e.history.replace("/"):alert(t.payload.err.errmsg)}));case 9:l(!1);case 10:case"end":return n.stop()}}),n)}))),500)}},(function(e){var t=e.values,a=e.touched,c=e.errors,r=e.isSubmitting,l=e.handleChange,i=e.handleBlur,o=e.handleSubmit;return n.createElement("div",{className:"registerPage-container"},n.createElement("div",{className:"registerDiv-container"},n.createElement("div",{className:"register-Title"},"\ud68c\uc6d0\uac00\uc785"),n.createElement(w.a,{onSubmit:o,labelAlign:"left",labelCol:{span:5},wrapperCol:{span:19}},n.createElement(w.a.Item,{required:!0,label:n.createElement("label",{style:{color:"white"}}," \ub2c9\ub124\uc784")},n.createElement(x.a,{id:"nickname",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694",type:"text",value:t.nickname,onChange:l,onBlur:i,className:c.nickname&&a.nickname?"text-input error":"text-input"}),c.nickname&&a.nickname&&n.createElement("div",{className:"input-feedback",style:{color:"rgb(255, 60, 60)"}},c.nickname)),n.createElement(w.a.Item,null,n.createElement("div",null,n.createElement("button",{type:"submit",className:"register-button",disabled:r,onSubmit:function(){return o()}},"\ud68c\uc6d0\uac00\uc785"))))))}))},le=(a(1131),a(33)),ie=a(31);var oe=function(e){var t=e.gameId,a=e.sceneCnt,r=e.userId,l=Object(n.useState)({createdAt:"",description:"",sceneCnt:0,thumbnail:"",title:"",first_scene:null}),i=Object(u.a)(l,2),o=i[0],s=i[1],m=Object(n.useState)(0),d=Object(u.a)(m,2),g=d[0],f=d[1],v=Object(n.useState)(0),p=Object(u.a)(v,2),E=p[0],h=p[1];if(Object(n.useEffect)((function(){b.a.get("/api/game/detail/".concat(t)).then((function(e){var n=e.data.gameDetail;n?(s(n),h(n.view),f(n.thumbsUp)):-1==a?b.a.delete("/api/users/contribute-game/".concat(t,"/").concat(r)):b.a.delete("/api/users/contribute-scene/".concat(t,"/").concat(r))}))}),[]),""===(null===o||void 0===o?void 0:o.title))return c.a.createElement("div",null);var _=o.description.length>300?o.description.slice(0,300)+"...":o.description;return(null===o||void 0===o?void 0:o.first_scene)?c.a.createElement("div",{className:"contribute__container"},c.a.createElement(U.b,{to:"/game/".concat(t)},c.a.createElement("img",{className:"contribute__img",src:o.thumbnail,alt:"\uc774\ubbf8\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),c.a.createElement("div",{className:"contribute__icon"},c.a.createElement("div",null,o.sceneCnt,c.a.createElement(le.a,{icon:ie.h,className:"specific_icon"})),c.a.createElement("div",null,E,c.a.createElement(le.a,{icon:ie.g,className:"specific_icon"})),c.a.createElement("div",null,g,c.a.createElement(le.a,{className:"specific_icon",icon:ie.i})))),c.a.createElement("div",{className:"contribute__info"},c.a.createElement("div",{className:"contribute__title"},o.title),c.a.createElement("div",{className:"contribute__text"},_),a>=0?c.a.createElement("div",{className:"contribute__contributeCntText"},"\uae30\uc5ec\ud55c \uc2a4\ud1a0\ub9ac \uac1c\uc218:",c.a.createElement("div",{className:"contribute__cnt"},a)):c.a.createElement("div",null))):c.a.createElement(c.a.Fragment,null)};a(1134);var se=function(e){var t=e.match.params.userId,a=Object(E.c)((function(e){return e.user.userData})),r=Object(n.useState)({makingGameList:[],image:"",email:"",nickname:"",_id:"",contributedSceneList:[],contributedGameList:[]}),l=Object(u.a)(r,2),i=l[0],o=l[1],s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=(m[0],m[1],Object(n.useState)(5)),g=Object(u.a)(d,2),f=g[0],v=g[1],p=Object(n.useState)(5),h=Object(u.a)(p,2),_=h[0],y=h[1],j=Object(n.useState)(0),N=Object(u.a)(j,2),k=N[0],x=N[1],A=Object(n.useState)(0),w=Object(u.a)(A,2),I=w[0],S=w[1];Object(n.useEffect)((function(){b.a.post("/api/users/profile",{userId:t}).then((function(e){if(e.data.success){o(e.data.user);for(var t=0,a=0;a<e.data.user.contributedSceneList.length;a++)t+=e.data.user.contributedSceneList[a].sceneCnt;x(t),S(e.data.user.contributedGameList.length)}else O.a.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]),null===a||void 0===a||a._id;var C=function(e){var t=document.getElementById(e);document.getElementById("contributedGame").style.display="none",document.getElementById("contributedScene").style.display="none",t.style.display="block"};return c.a.createElement("div",{className:"profile__container"},c.a.createElement("div",{className:"profile__thumbnail_container"},c.a.createElement("img",{className:"profile__thumbnail",src:"https://i.imgur.com/UwPKBqQ.jpg",alt:""}),c.a.createElement("div",{className:"profile__gradation"}),c.a.createElement("div",{className:"profile__userInfo"},c.a.createElement("img",{src:i.image,alt:"",className:"profile__img"}),c.a.createElement("div",{className:"profile__text"},c.a.createElement("div",null,i.nickname),c.a.createElement("div",null,i.email)))),c.a.createElement("div",{className:"profile__btn_container"},c.a.createElement("div",{className:"profile__btn",onClick:function(){return C("contributedScene")}},"\uae30\uc5ec\ud55c \uc2a4\ud1a0\ub9ac"),c.a.createElement("div",{className:"profile__btn",onClick:function(){return C("contributedGame")}},"\ub9cc\ub4e0 \uc2a4\ud1a0\ub9ac")),c.a.createElement("div",{id:"contributedScene",style:{display:"block"}},c.a.createElement("div",{className:"profile__title"},"\uae30\uc5ec\ud55c \uc2a4\ud1a0\ub9ac ",k," \uac1c"),function(e){var a=e.contributedSceneList.slice(0,_);if(a){var n=a.map((function(e){return c.a.createElement("div",{key:e.gameId},c.a.createElement(oe,{gameId:e.gameId,sceneCnt:e.sceneCnt,userId:t}))}));return c.a.createElement(c.a.Fragment,null,n,e.contributedSceneList.length>_?c.a.createElement("div",{className:"displayMore",onClick:function(){return y((function(e){return e+5}))}},"\ub354\ubcf4\uae30"):c.a.createElement("div",null))}}(i)),c.a.createElement("div",{id:"contributedGame",style:{display:"none"}},c.a.createElement("div",{className:"profile__title"},"\ub9cc\ub4e0 \uc2a4\ud1a0\ub9ac ",I," \uac1c"),function(e){var t=e.contributedGameList.slice(0,f);if(t){var n=t.map((function(e){return c.a.createElement("div",{key:e.gameId},c.a.createElement(oe,{gameId:e.gameId,sceneCnt:-1,userId:null===a||void 0===a?void 0:a._id}))}));return c.a.createElement(c.a.Fragment,null,n,e.contributedGameList.length>f?c.a.createElement("div",{className:"displayMore",onClick:function(){return v((function(e){return e+5}))}},"\ub354\ubcf4\uae30"):c.a.createElement("div",null))}}(i)))};a(1135),a(1136);var ue=Object(n.memo)((function(e){var t=e.comment,a=e.updateToggle_comment,r=e.gameId,l=e.setReplyCnt,i=Object(E.c)((function(e){return e.user.userData?e.user.userData.isAuth:null})),o=Object(E.c)((function(e){return e.user.userData?e.user.userData._id:null})),s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],g=m[1],f=Object(n.useState)(""),v=Object(u.a)(f,2),p=v[0],h=v[1],_=Object(n.useState)(t.like),y=Object(u.a)(_,2),j=y[0],N=y[1],k=Object(n.useState)(t.content),x=Object(u.a)(k,2),A=x[0],w=x[1];return c.a.createElement("div",{className:"container_box",id:t._id},c.a.createElement("div",{className:"comment_container"},c.a.createElement("img",{src:t.writer.image,alt:"img",className:"SingleReply__img"}),c.a.createElement("div",{className:"comment_contents"},c.a.createElement("div",{className:"SingleReply__nickname"},t.writer.nickname),i&d?c.a.createElement("div",{className:"edit_container"},c.a.createElement("textarea",{className:"comment_input",onChange:function(e){h(e.currentTarget.value)},value:p}),c.a.createElement("button",{className:"comment__btn",onClick:function(e){e.preventDefault(),b.a.patch("/api/comment/".concat(t._id,"/").concat(p)).then((function(e){e.data.success?(O.a.success("\ub313\uae00\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),w(p)):O.a.error("\ub313\uae00 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})),g((function(e){return!e}))}},"\uc218\uc815")):c.a.createElement("div",{className:"SingleReply__content"},A),c.a.createElement("div",{className:"SingleReply__comment_info"},c.a.createElement("div",{onClick:function(){if(!1!==i){var e={gameId:r,userId:o,commentId:t._id};b.a.post("/api/like/",e).then((function(e){e.data.success?e.data.isClicked?N((function(e){return e+1})):N((function(e){return e-1})):O.a.error("\uc88b\uc544\uc694\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}},className:"comment_like"},"\uc88b\uc544\uc694 : ",j),t.writer._id===o&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:function(){g((function(e){return!e})),h(t.content)},className:"comment_option"},d?"\uc218\uc815 \ucde8\uc18c":"\uc218\uc815"),c.a.createElement("div",{onClick:function(){g(!1),b.a.delete("/api/comment/".concat(t._id,"/").concat(r)).then((function(e){e.data.success?(O.a.success("\ub313\uae00\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),a(),l((function(e){return e-1}))):O.a.error("\ub313\uae00 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},className:"comment_option"},"\uc0ad\uc81c"))))))}));a(1137);var me=Object(n.memo)((function(e){var t=e.gameId,a=e.comment,r=e.updateToggle_comment,l=Object(E.c)((function(e){return e.user})),i=Object(E.c)((function(e){return e.user.userData?e.user.userData.isAuth:null})),o=Object(E.c)((function(e){return e.user.userData?e.user.userData._id:null})),s=Object(n.useRef)(),m=Object(n.useState)(""),d=Object(u.a)(m,2),g=d[0],f=d[1],v=Object(n.useState)([]),p=Object(u.a)(v,2),h=p[0],_=p[1],y=Object(n.useState)(0),j=Object(u.a)(y,2),N=j[0],k=j[1],x=Object(n.useState)(!1),A=Object(u.a)(x,2),w=A[0],I=A[1],S=Object(n.useState)(!1),C=Object(u.a)(S,2),L=C[0],M=C[1],T=Object(n.useState)(""),D=Object(u.a)(T,2),B=D[0],F=D[1],P=Object(n.useState)(!1),R=Object(u.a)(P,2),G=R[0],z=R[1],Q=Object(n.useState)(0),V=Object(u.a)(Q,2),U=V[0],Z=V[1],q=function(){b.a.get("/api/comment/".concat(t,"/").concat(a._id.toString())).then((function(e){e.data.success?_(e.data.result):O.a.error("\ub300\ub313\uae00\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))};Object(n.useEffect)((function(){Z(a.like),k(a.responseCnt)}),[]);var Y=h.map((function(e,a){return c.a.createElement("div",{key:e._id,style:{marginLeft:"10px"}},e&&c.a.createElement(ue,{updateToggle_comment:q,gameId:t,comment:e,setReplyCnt:k}))})),H=Object(n.useState)(!0),X=Object(u.a)(H,2),K=X[0],W=X[1];return c.a.createElement("div",{className:"container_box",id:a._id},c.a.createElement("div",{className:"comment_container"},c.a.createElement("img",{src:a.writer.image,alt:"img",className:"img"}),c.a.createElement("div",{className:"comment_contents"},c.a.createElement("div",{className:"nickname"},a.writer.nickname),L?c.a.createElement("div",{className:"edit_container"},c.a.createElement("textarea",{className:"singleComment_input",onChange:function(e){F(e.currentTarget.value)},value:B}),c.a.createElement("button",{className:"comment__btn",onClick:function(e){e.preventDefault(),b.a.patch("/api/comment/".concat(a._id,"/").concat(B)).then((function(e){e.data.success?(O.a.success("\ub313\uae00\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),r()):O.a.error("\ub313\uae00 \uc218\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})),M((function(e){return!e}))}},"\uc218\uc815")):c.a.createElement("div",{className:"content"},"".concat(K?a.content.slice(0,150):a.content),a.content.length>150&&c.a.createElement("div",{onClick:function(){W((function(e){return!e}))}},K?"\ub354\ubcf4\uae30":"\uc228\uae30\uae30")),c.a.createElement("div",{className:"comment_info"},c.a.createElement("div",{onClick:function(){if(!1!==i){var e={gameId:t,userId:o,commentId:a._id};b.a.post("/api/like/",e).then((function(e){e.data.success?e.data.isClicked?Z((function(e){return e+1})):Z((function(e){return e-1})):O.a.error("\uc88b\uc544\uc694\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}},className:"comment_like"},"\uc88b\uc544\uc694 : ",U),N>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:function(){"block"===s.current.style.display?(s.current.style.display="none",z(!1),I(!1)):(b.a.get("/api/comment/".concat(t,"/").concat(a._id.toString())).then((function(e){e.data.success?_(e.data.result):O.a.error("\ub300\ub313\uae00\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})),s.current.style.display="block",z(!0))},className:"comment_displayReplyToggle"},G?c.a.createElement("div",null,"\ub313\uae00 \ub2eb\uae30"):c.a.createElement("div",null,"\ub313\uae00 ",N,"\uac1c"))):c.a.createElement("div",null),c.a.createElement("div",{onClick:function(){I((function(e){return!e}))},className:"comment_option"},w?"\uc791\uc131 \ucde8\uc18c":"\ub313\uae00 \uc791\uc131"),a.writer._id===o&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:function(){M((function(e){return!e})),F(a.content)},className:"comment_option"},L?"\uc218\uc815 \ucde8\uc18c":"\uc218\uc815"),c.a.createElement("div",{onClick:function(){M(!1),b.a.delete("/api/comment/".concat(a._id,"/").concat(t)).then((function(e){e.data.success?(O.a.success("\ub313\uae00\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),r()):O.a.error("\ub313\uae00 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},className:"comment_option"},"\uc0ad\uc81c"))),i&w?c.a.createElement("form",{className:"comment__form"},c.a.createElement("textarea",{className:"singleComment__textarea",onChange:function(e){f(e.currentTarget.value)},value:g}),c.a.createElement("button",{className:"comment__btn",onClick:function(e){if(e.preventDefault(),""!==g){var n={content:g,writer:l.userData._id,gameId:t,sceneId:"",responseTo:a._id.toString()};b.a.post("/api/comment/",n).then((function(e){e.data.success?(O.a.success("\ub313\uae00 \uac10\uc0ac\ud569\ub2c8\ub2e4!"),q(),k((function(e){return e+1})),f(""),"block"!==s.current.style.display&&(s.current.style.display="block",z(!0))):O.a.error("\ub313\uae00 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}}},"\ub313\uae00")):c.a.createElement("div",null))),c.a.createElement("div",{ref:s,className:"reply_container"},Y))}));var de=Object(n.memo)((function(e){var t=e.gameId,a=e.sceneId,r=Object(E.c)((function(e){return e.user})),l=Object(E.c)((function(e){return e.user.userData?e.user.userData.isAuth:null})),i=Object(n.useState)(""),m=Object(u.a)(i,2),d=m[0],g=m[1],f=Object(n.useState)([]),v=Object(u.a)(f,2),p=v[0],h=v[1],_=Object(n.useState)(!1),y=Object(u.a)(_,2),j=y[0],N=y[1],k=Object(n.useState)([]),x=Object(u.a)(k,2),A=x[0],w=x[1],I=Object(n.useState)(8),S=Object(u.a)(I,2),C=S[0],L=S[1],M=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!0),h(A.slice(0,C+8)),L((function(e){return e+8})),N(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=document.documentElement.scrollHeight;document.documentElement.scrollTop+1.5*document.documentElement.clientHeight>=e&&!1===j&&M()};Object(n.useEffect)((function(){return window.addEventListener("scroll",T),function(){window.removeEventListener("scroll",T)}}));var D=function(){a?b.a.get("/api/comment/scene/".concat(t,"/").concat(a)).then((function(e){e.data.success?(w(e.data.result),h(e.data.result.slice(0,C))):O.a.error("\ub313\uae00\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})):b.a.get("/api/comment/".concat(t)).then((function(e){e.data.success?(w(e.data.result),h(e.data.result.slice(0,C))):O.a.error("\ub313\uae00\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))};Object(n.useEffect)((function(){D()}),[]);var B=p.map((function(e,a){return c.a.createElement("div",{key:e._id},e&&c.a.createElement(me,{updateToggle_comment:D,gameId:t,comment:e}))}));return c.a.createElement("div",{className:a?"comment__container gamePlay_comment":"comment__container"},c.a.createElement("div",{className:"comment__commentCnt"},"\ub313\uae00 ",A.length,"\uac1c"),c.a.createElement("hr",null),c.a.createElement("br",null),l&&c.a.createElement("form",{className:"comment__form"},c.a.createElement("textarea",{className:"comment__textarea",onChange:function(e){g(e.currentTarget.value)},value:d}),c.a.createElement("button",{className:"comment__btn",onClick:function(e){var n;(e.preventDefault(),""!==d)&&(n=a?{content:d,writer:r.userData._id,gameId:t,sceneId:a,responseTo:""}:{content:d,writer:r.userData._id,gameId:t,sceneId:"",responseTo:""},O.a.loading("\ub313\uae00 \uc800\uc7a5 \uc911..",1),b.a.post("/api/comment/",n).then((function(e){e.data.success?(O.a.success("\ub313\uae00 \uac10\uc0ac\ud569\ub2c8\ub2e4."),D(),g("")):O.a.error("\ub313\uae00 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})))}},"\ub313\uae00")),B,c.a.createElement("br",null))}));var ge=function(e){var t=e.contributer,a=e.creatorNickname,n=e.fakeRatio,r=e.contributeRatio,l=e.index,i=e.isMake;return c.a.createElement("div",{key:t.userId,className:"detailPage__contributer"},c.a.createElement("div",{className:"detailPage__contributer_rankNum ".concat(i," ").concat(l)},l>=0?"".concat(l+1,"\uc704"):""),c.a.createElement("img",{className:"detailPage__contributer_img ".concat(i),src:t.image?t.image:"https://i.imgur.com/rF80MBo.png",alt:"image"}),c.a.createElement("div",{className:"detailPage__contributer_info ".concat(i)},c.a.createElement(U.b,{to:"/profile/".concat(t.userId),className:a===t.nickname?"detailPage__creater_nickname ".concat(i):"detailPage__contributer_nickname ".concat(i),target:i?"_blank":""},t.nickname.length>11?c.a.createElement(c.a.Fragment,null,"".concat(t.nickname.substr(0,11),"...")):c.a.createElement(c.a.Fragment,null,t.nickname)),c.a.createElement("div",{className:"detailPage__contributer_graph ".concat(i)},c.a.createElement("div",{className:"detailPage__graph_wrapper",style:{width:"".concat(n,"%")}},c.a.createElement("div",{className:"detailPage__graph ".concat(i)},r,"%")))))};var fe=function(e){var t,a=e.contributerList,n=e.totalSceneCnt,r=e.creatorNickname,l=e.isMake,i=null===(t=a[0])||void 0===t?void 0:t.userSceneCnt,o=a.map((function(e,t){if(0!==e.userSceneCnt){var a=Math.round(e.userSceneCnt/n*100),o=Math.round(e.userSceneCnt/i*100);return c.a.createElement("div",{key:e.userId},c.a.createElement(ge,{contributer:e,creatorNickname:r,fakeRatio:o,contributeRatio:a,index:t,isMake:l}))}}));return c.a.createElement("div",null,o)},be=(a(1138),a(602)),ve=a.n(be),pe=(a(1150),a(378)),Ee=function(e){var t=e.history,a=e.user,r=e.gameId,l=Object(n.useState)(""),i=Object(u.a)(l,2),m=i[0],d=i[1],g=Object(n.useState)(!1),f=Object(u.a)(g,2),v=f[0],p=f[1],E=Object(n.useState)(""),h=Object(u.a)(E,2),_=h[0],y=h[1],j=Object(n.useState)(""),N=Object(u.a)(j,2),k=N[0],x=N[1];O.a.config({maxCount:2});var A=function(){var e=Object(s.a)(o.a.mark((function e(){var n,c,l,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===a||void 0===a||null===(n=a.userData)||void 0===n?void 0:n.isAuth)){e.next=19;break}return c={userId:a.userData._id,parentGameId:r,title:_,description:k,category:m},e.next=4,b.a.post("/api/game/fork",c);case 4:if((l=e.sent).data.success){e.next=8;break}return alert("game Frame\uc81c\uc791 \uc2e4\ud328"),e.abrupt("return");case 8:return i={gameId:l.data.game._id,prevSceneId:null,sceneDepth:0,isFirst:1,title:""},e.next=11,b.a.post("/api/scene/create",i);case 11:if((s=e.sent).data.success){e.next=15;break}return alert("scene Frame\uc81c\uc791 \uc2e4\ud328"),e.abrupt("return");case 15:O.a.success("\uc774\uc57c\uae30\ub97c \uc2dc\uc791\ud574\uc8fc\uc138\uc694. \uc624\ub978\ucabd\uc758 \ubc84\ud2bc\uc744 \ud65c\uc6a9\ud574 \uc774\ubbf8\uc9c0\ub4e4\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),setTimeout((function(){t.replace({pathname:"/scene/make",state:{gameId:l.data.game._id,sceneId:s.data.sceneId}})}),1e3),e.next=20;break;case 19:O.a.error("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("div",{className:"link_bttn",onClick:function(){return p(!0)}},c.a.createElement(le.a,{icon:ie.m}),"\ubc84\uc804 \ucd94\uac00\ud558\uae30\xa0"),c.a.createElement(pe.TitleModalForm,{visible:v,type:"fork",onCancel:function(){return p(!1)},onCreate:function(){_.length?k.length?A():O.a.error("\uc2a4\ud1a0\ub9ac \uc124\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."):O.a.error("\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.")},setGameTitle:y,setGameDescription:x,setCategory:d}))},he=a(85),_e=function(e){var t="".concat(he.CLIENT,"/game/").concat(e),a=document.createElement("input");document.body.appendChild(a),a.value=t,a.select(),document.execCommand("copy"),document.body.removeChild(a),O.a.info("\ub9c1\ud06c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")};function ye(e){var t=e.title,a=void 0===t?"\uc774\uc5b4\ubd10":t,n=e.description,c=void 0===n?"\ud568\uaed8 \ub9cc\ub4dc\ub294 \ubb34\ud55c\ud55c \uc774\uc57c\uae30":n,r=e.imageUrl,l=void 0===r?"https://i.imgur.com/PPWsg92.png":r;document.querySelector('meta[property="og:title"]').setAttribute("content","".concat(a)),document.querySelector('meta[property="og:description"]').setAttribute("content",c),document.querySelector('meta[property="og:image"]').setAttribute("content",l),document.querySelector('meta[property="og:url"]').setAttribute("content",window.location.href)}a(85);function Oe(e){ve.a.parse(null===(t=e.location)||void 0===t?void 0:t.search,{ignoreQueryPrefix:!0});var t,a=e.match.params.gameId;O.a.config({maxCount:2});var r,l,i,m,d,g,f,v=Object(n.useState)(!1),p=Object(u.a)(v,2),h=p[0],_=p[1],y=Object(n.useState)({}),j=Object(u.a)(y,2),N=j[0],k=j[1],x=Object(n.useState)(null),w=Object(u.a)(x,2),I=w[0],S=w[1],L=Object(n.useState)(!1),M=Object(u.a)(L,2),T=M[0],D=M[1],B=Object(n.useState)(0),F=Object(u.a)(B,2),P=F[0],R=F[1],G=Object(n.useState)(0),z=Object(u.a)(G,2),Q=z[0],V=z[1],Z=Object(n.useState)(!1),q=Object(u.a)(Z,2),Y=q[0],H=q[1],X=Object(n.useState)(0),K=Object(u.a)(X,2),W=K[0],J=K[1],$=Object(n.useState)(0),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),ce=Object(u.a)(ne,2),re=ce[0],oe=ce[1],se=Object(n.useState)(!1),ue=Object(u.a)(se,2),me=ue[0],ge=ue[1],be=Object(E.c)((function(e){return e.user})),pe=function(){var t=Object(s.a)(o.a.mark((function t(n,c){var r,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!n){t.next=15;break}return t.next=4,b.a.post("/api/users/playing-list/clear",{gameId:a,sceneId:I});case 4:if(!(r=t.sent).data.success){t.next=15;break}if(l=r.data.nowIsMaking,!be.userData.isAuth||!l){t.next=11;break}cn.emit("empty_num_increase",{user_id:be.userData._id.toString(),scene_id:r.data.prevOfLastScene.toString()}),t.next=15;break;case 11:if(!r.data.refresh){t.next=15;break}return O.a.error("\ub2e4\ub978 \uc2a4\ud1a0\ub9ac \uac10\uc0c1 \uc2dc\ub3c4\ub97c \uac10\uc9c0\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),window.location.reload(),t.abrupt("return");case 15:e.history.replace({pathname:!n&&T?"/scene/make":"/gameplay".concat(c?"/full":""),state:{sceneId:n?r.data.teleportSceneId:I,gameId:a}}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e,a){return t.apply(this,arguments)}}(),he=Object(n.useRef)(!0);return Object(n.useEffect)((function(){if(be&&be.userData&&he.current){he.current=!1,b.a.get("/api/game/start/".concat(a)).then((function(e){var t=e.data,a=t.success,n=t.sceneId,c=t.isMaking,r=t.isPlayed;a?(S(n),D(c),ge(r)):O.a.error("\ub85c\uadf8\uc778 \ud574\uc8fc\uc138\uc694.")}));var e=be.userData._id;b.a.get("/api/detailpage/".concat(a,"/").concat(e)).then((function(e){if(e.data.success){var t=e.data,a=t.topRank,n=t.contributerCnt,c=t.totalSceneCnt,r=t.gameDetail,l=t.isClicked,i=t.thumbsup,o=t.view;V(i),H(l),k(r),R(o),oe(a),ae(n),J(c),ye({title:"\uc774\uc5b4\ubd10:".concat(r.title),description:"".concat(r.description.slice(0,20),"..."),imageUrl:null===r||void 0===r?void 0:r.thumbnail})}}))}return function(){ye({})}}),[be]),W?c.a.createElement("div",{className:"detailPage__container"},c.a.createElement("div",{className:"detailPage__thumbnail_container"},c.a.createElement("img",{className:"detailPage__thumbnail",src:null===N||void 0===N?void 0:N.thumbnail,alt:"thumbnail"}),c.a.createElement("div",{className:"detailPage__gradation"})),c.a.createElement("div",{className:"detailPage__gamePlay"},c.a.createElement("div",{className:"detailPage__UPTitle"},null===N||void 0===N?void 0:N.title,c.a.createElement("div",{className:"detailPage__genre"},c.a.createElement("div",{style:{display:"block"}},"\uc791\uac00:\xa0",c.a.createElement(U.b,{to:"/profile/".concat(null===N||void 0===N||null===(r=N.creator)||void 0===r?void 0:r._id),className:"bold_text"},null===N||void 0===N||null===(l=N.creator)||void 0===l||null===(i=l.nickname)||void 0===i?void 0:i.substr(0,20)),"\xa0\xa0"),c.a.createElement("div",{style:{display:"block"}},"\uc7a5\ub974:\xa0",null===N||void 0===N?void 0:N.category,"\xa0")),c.a.createElement("div",{className:"detailPage__gamePlay_link",onClick:function(){return pe(!1)}},c.a.createElement("div",{className:"icon"},c.a.createElement(C,{src:"playIcon_1",width:"30",height:"30",color:"#FFF"})),me?T?"\uacc4\uc18d \uc81c\uc791\ud558\uae30":"\uc774\uc5b4\ud558\uae30":"\uc2dc\uc791\ud558\uae30"),me&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"detailPage__gamePlayFromStart_link",onClick:function(){return T?_(!0):pe(!0)}},"\ucc98\uc74c\ubd80\ud130 \ud558\uae30"),c.a.createElement(A.a,{visible:h,onOk:function(){return pe(!0)},onCancel:function(){return _(!1)},maskClosable:!1,closable:!1,centered:!0,width:650,bodyStyle:{height:"170px",display:"flex"},okText:"\ud655\uc778",cancelText:"\ucde8\uc18c"},c.a.createElement("div",{className:"ending_modal_warning_sign"},c.a.createElement("svg",{color:"#faad14",viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"exclamation-circle",width:"20px",height:"20px",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),c.a.createElement("path",{d:"M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}))),c.a.createElement("div",{className:"ending_modal_warning_textarea"},c.a.createElement("h2",null,"\uc8fc\uc758!"),c.a.createElement("br",null),c.a.createElement("h3",null,"\uc81c\uc791 \uc911\uc778 \uc774\uc57c\uae30\uac00 \uc0ad\uc81c\ub429\ub2c8\ub2e4."),c.a.createElement("h3",null,"\uc81c\uc791 \uc911\uc5d0\ub3c4 \uc55e \uc774\uc57c\uae30\ub97c \ud655\uc778\ud560 \uc218 \uc788\ub294 \uc11c\ube44\uc2a4\uac00 \uc900\ube44\uc911\uc785\ub2c8\ub2e4..."))))),c.a.createElement("div",{className:"detailPage__contributer_container_box"},c.a.createElement("div",{className:"detailPage__contributer_container_box fit"},c.a.createElement("div",{className:"detailPage__contributer_container"},c.a.createElement("div",{className:"detailPage__contributer_title"}," \uac00\uc7a5 \ub9ce\uc740 \uae30\uc5ec\ub97c \ud55c \uc0ac\ub78c"),c.a.createElement(fe,{contributerList:re,creatorNickname:null===N||void 0===N||null===(m=N.creator)||void 0===m?void 0:m.nickname,totalSceneCnt:W})),c.a.createElement("div",{className:"detailPage__gamePlay_container_box"},c.a.createElement("div",{className:"detailPage__gamePlay_container"},c.a.createElement("div",{className:"detailPage__gamePlay_text"},"\ud604\uc7ac \uc2a4\ud1a0\ub9ac"),c.a.createElement("div",{className:"detailPage__gamePlay_sceneCntContainer"},c.a.createElement("div",{className:"detailPage__gamePlay_sceneCnt"},W),c.a.createElement("div",{className:"detailPage__gamePlay_cntText"},"\uac1c"))),c.a.createElement("h1",{style:{color:"white",fontSize:"50px"}},"|"),c.a.createElement("div",{className:"detailPage__gamePlay_container"},c.a.createElement("div",{className:"detailPage__gamePlay_text"},"\ud604\uc7ac \uae30\uc5ec\uc790"),c.a.createElement("div",{className:"detailPage__gamePlay_sceneCntContainer"},c.a.createElement("div",{className:"detailPage__gamePlay_sceneCnt"},te),c.a.createElement("div",{className:"detailPage__gamePlay_cntText"},"\uba85"))))))),c.a.createElement("div",{className:"detailPage__info_container"},c.a.createElement("div",{className:"detailPage__info_bar"},(null===N||void 0===N||null===(d=N.creator)||void 0===d||null===(g=d._id)||void 0===g?void 0:g.toString())===(null===be||void 0===be||null===(f=be.userData)||void 0===f?void 0:f._id)&&c.a.createElement(U.b,{to:"/admin/".concat(a),className:"admin_btn"},"\uc2a4\ud1a0\ub9ac \ubbf8\ub2c8\ub9f5"),c.a.createElement("div",{className:"detailPage__interaction"},c.a.createElement("div",{className:"detailPage__view"},c.a.createElement(le.a,{icon:ie.g,style:{marginLeft:"3px"}}),P,"\ud68c"),c.a.createElement("div",{onClick:function(){var e;if(null===be||void 0===be||null===(e=be.userData)||void 0===e?void 0:e.isAuth){var t={userId:be.userData._id,objectId:a,flag:"1"};V((function(e){return Y?e-1:e+1})),H((function(e){return!e})),b.a.post("/api/thumbsup/",t)}else O.a.error("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")},className:"detailPage__like"},Y?c.a.createElement(le.a,{style:{color:"red",marginLeft:"3px"},icon:ie.i}):c.a.createElement(le.a,{icon:ie.i,style:{marginLeft:"3px"}}),Q,"\uac1c"),c.a.createElement("div",{className:"link_bttn",onClick:function(e){_e(a)}},c.a.createElement(le.a,{icon:ie.j}),"\ucd08\ub300\ub9c1\ud06c\ubcf5\uc0ac\xa0"),c.a.createElement(Ee,{history:e.history,user:be,gameId:a}))),c.a.createElement("div",{className:"detailPage__description"},null===N||void 0===N?void 0:N.description),c.a.createElement(de,{gameId:a}))):c.a.createElement("div",{className:"loader_container"},c.a.createElement("div",{className:"loader"}))}var je=a(1246),Ne=a(143),ke=a(130),xe=(a(1151),x.a.TextArea),Ae=je.a.Title,we=[{value:0,label:"Private"},{value:1,label:"Public"}],Ie=[{value:0,label:"\uc0b4\uc544\ub0a8\uae30"},{value:1,label:"\ub85c\ub9e8\uc2a4"},{value:2,label:"\uc2a4\ud1a0\ub9ac"},{value:3,label:"\ucd94\ub9ac"},{value:4,label:"\ubcd1\ub9db"}];"".concat(9/16),"".concat(16/9);var Se=function(e){var t=Object(E.c)((function(e){return e.user})),a=Object(n.useState)(""),r=Object(u.a)(a,2),l=r[0],i=r[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),m=s[0],d=s[1],g=Object(n.useState)(0),f=Object(u.a)(g,2),v=f[0],p=f[1],h=Object(n.useState)("\uc0b4\uc544\ub0a8\uae30"),_=Object(u.a)(h,2),y=_[0],j=_[1],N=Object(n.useState)(!0),k=Object(u.a)(N,2),A=k[0],I=k[1],S=Object(n.useState)(""),C=Object(u.a)(S,2),L=C[0],M=C[1],T=function(e){I((function(e){return!e}))},D=function(a){if(a.preventDefault(),""!==l&&""!==m&&""!==L){var n;n=A?9/16:16/9;var c={creator:t.userData._id,title:l,description:m,thumbnail:L,privacy:v,category:y,ratio:n,writer:[t.userData._id],character:[],background:[],bgm:[],sound:[]};b.a.post("/api/game/uploadgame",c).then((function(t){t.data.success?(O.a.success("\uc774\uc57c\uae30\ub97c \uc2dc\uc791\ud574\uc8fc\uc138\uc694. \uc624\ub978\ucabd\uc758 +\ubc84\ud2bc\uc744 \ud65c\uc6a9\ud574 \uc774\ubbf8\uc9c0\ub4e4\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),setTimeout((function(){e.history.replace("/game/upload/".concat(t.data.game._id))}),1e3)):alert("game\uc81c\uc791 \uc2e4\ud328")}))}else alert("\ubaa8\ub4e0 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")};return c.a.createElement("div",{style:{maxWidth:"700px",margin:"2rem auto"}},c.a.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},c.a.createElement(Ae,{level:2},"Upload Game")),c.a.createElement(w.a,{onSubmit:D},c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement(ke.a,{onDrop:function(e){if(e[0]){var t=new FormData;t.append("file",e[0]),b.a.post("/api/game/uploadfiles",t,{header:{"content-type":"multipart/form-data"}}).then((function(e){e.data.success?M(e.data.url):alert("\uc5c5\ub85c\ub4dc \uc2e4\ud328")}))}else alert("\uc190\uc0c1\ub41c \ud30c\uc77c\uc785\ub2c8\ub2e4.")},multiple:!1,maxSize:1e9},(function(e){var t=e.getRootProps,a=e.getInputProps;return c.a.createElement("div",Object.assign({style:{width:"300px",height:"240px",border:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"}},t()),c.a.createElement("input",a()),c.a.createElement($.a,{type:"plus",style:{fontSize:"3rem"}}))})),L&&c.a.createElement("div",null,c.a.createElement("img",{className:"thumbnail__img",src:"http://".concat("localhost",":5000/").concat(L),alt:"thumbnail"}))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("label",null,"Title"),c.a.createElement(x.a,{onChange:function(e){i(e.currentTarget.value)},value:l}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("label",null,"Description"),c.a.createElement(xe,{onChange:function(e){d(e.currentTarget.value)},value:m}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("select",{onChange:function(e){p(e.currentTarget.value)}},we.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.label)}))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("select",{onChange:function(e){var t=e.currentTarget.value;j(e.currentTarget[t].text)}},Ie.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.label)}))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"ratio",checked:A,onChange:T}),"\ucef4\ud4e8\ud130"),c.a.createElement("br",null),c.a.createElement("label",null,c.a.createElement("input",{type:"radio",name:"ratio",checked:!A,onChange:T}),"\uc2a4\ub9c8\ud2b8\ud3f0"),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(Ne.a,{type:"primary",size:"large",onClick:D},"Next Step")))};a(1242),a(1243),je.a.Title,a(85);var Ce=a(9),Le=a(20),Me=(a(1153),a(1154),a(1155),function(e){var t=e.characterList,a=null===t||void 0===t?void 0:t.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("div",{className:"CharacterBlock",style:{left:"".concat(e.posX,"%")}},c.a.createElement("div",{className:"character__container",style:{height:"".concat(e.size,"%"),top:"".concat(e.posY,"%")}},c.a.createElement("img",{className:e.reverse?"characterImg reverse":"characterImg",src:e.image,alt:"img"}))))}));return c.a.createElement("div",{className:"CharacterBlocks"},a)});a(1156);var Te=function(e,t){var a=Object(n.useRef)(t);Object(n.useEffect)((function(){a.current=t})),Object(n.useEffect)((function(){function t(t){t.code!==e||t.shiftKey||a.current(t)}return document.addEventListener("keypress",t),function(){return document.removeEventListener("keypress",t)}}),[e])},De=(a(1157),w.a.create({name:"modal_form"})((function(e){var t=e.visible,a=e.onCancel,r=e.onCreate,l=e.setSceneTitle,i=e.remainTime,o=Object(n.useRef)(!1);window.matchMedia("(pointer: coarse)").matches&&(o.current=!0);var s=Object(n.useRef)(null),u=parseInt(i/60),m=parseInt(i%60);return m<10&&(m="0"+m),s.current="\ub2e4\uc74c \ud398\uc774\uc9c0\uc5d0\uc11c \uc900\ube44\ub41c \uc0ac\uc9c4\uacfc \uc74c\uc545\uc744 \ud65c\uc6a9\ud574 \uc774\uc57c\uae30\ub97c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n".concat(u,": ").concat(m," \uc774\ud6c4 \uc790\ub3d9\uc73c\ub85c \ucc3d\uc774 \ub2eb\ud799\ub2c8\ub2e4."),t?c.a.createElement(A.a,{visible:!0,className:"inputmodal",title:"\ub2e4\uc74c \uc774\uc57c\uae30\ub294 \uc5b4\ub5bb\uac8c \uc774\uc5b4\uc9c8\uae4c\uc694? ",okText:"\uc774\uc57c\uae30 \uc774\uc5b4\uac00\uae30",cancelText:"\ucde8\uc18c",onCancel:a,onOk:r,getContainer:".gamePlay__container",centered:!0,closable:!1},c.a.createElement(w.a,{layout:"vertical"},c.a.createElement(w.a.Item,{className:"scenemake_modal_input_container",name:"title",rules:[{required:!0,message:"\ub2f9\uc2e0\uc758 \ub2f5\ubcc0\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"}]},c.a.createElement(x.a,{className:"scenemake_modal_input",onChange:function(e){l(e.currentTarget.value)},placeholder:"\uc774\uacf3\uc5d0 \uc785\ub825\ud558\uc2dc\ub294 \ub0b4\uc6a9\uc774 \uc120\ud0dd\uc9c0\ub85c \ubcf4\uc5ec\uc9d1\ub2c8\ub2e4.",maxLength:20,ref:function(e){o.current||e&&e.focus()}})),c.a.createElement("div",{className:"scenemake_modal_msg"},s.current))):""}))),Be=Object(n.memo)(De);function Fe(e){return{type:"gameLoading_gamePlay",payload:e}}function Pe(e){return{type:"pause_gamePlay",payload:e}}var Re=Object(n.memo)((function(e){var t,a=e.scene_id,r=e.scene_depth,l=e.game_id,i=e.scene_next_list,d=e.theme,g=Object(E.b)(),f=Object(m.f)(),v=Object(E.c)((function(e){return e.user})),p=Object(E.c)((function(e){return e.sync.emptyNum})),h=Object(n.useState)(!1),_=Object(u.a)(h,2),y=_[0],j=_[1],N=Object(n.useState)(""),k=Object(u.a)(N,2),x=k[0],A=k[1],w=Object(n.useState)(0),I=Object(u.a)(w,2),S=I[0],C=I[1],L=Object(n.useState)(1),M=Object(u.a)(L,2),T=(M[0],M[1],Object(n.useRef)(void 0)),D=Object(n.useRef)(!1),B=function(){var e=Object(s.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearTimeout(T.current),!D.current&&y){e.next=3;break}return e.abrupt("return");case 3:return D.current=!0,t={gameId:l,prevSceneId:a,isFirst:0,sceneDepth:r+1,title:x},e.next=7,b.a.post("/api/scene/create",t);case 7:n=e.sent,cn.emit("created_choice",{sceneId:a,userId:v.userData._id,exp:n.data.exp}),j(!1),f.replace({pathname:"/scene/make",state:{gameId:l,sceneId:n.data.sceneId}});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){cn.emit("empty_num_increase",{scene_id:a,user_id:v.userData._id}),clearTimeout(T.current),j(!1),g(Pe(!1))},P=Object(n.useState)(0),R=Object(u.a)(P,2),G=R[0],z=R[1];return Object(n.useEffect)((function(){return cn.on("decrease_failed",(function(){j(!1),z(0),z(1)})),cn.emit("validate_empty_num",{scene_id:a}),function(){cn.off("decrease_failed")}}),[a]),Object(n.useEffect)((function(){G&&clearTimeout(T.current)}),[G]),c.a.createElement(c.a.Fragment,null,(null===i||void 0===i?void 0:i.length)<4&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"text_line_choice text_line_empty ".concat(d),onClick:p>0?function(){if(v.userData.isAuth){g(Pe(!0)),clearTimeout(T.current);var e=300;C(e),t=setInterval((function(){if(0===--e)return clearInterval(t),void F();C(e)}),970),T.current=t,cn.emit("empty_num_decrease",{scene_id:a,user_id:v.userData._id}),j(!0)}else O.a.error("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")}:null},"\uc774\uc57c\uae30\ub97c \uc774\uc5b4\ubd10!\xa0\xa0",c.a.createElement("p",null,"(\ub0a8\uc740 \ube48 \uc120\ud0dd\uc9c0 ",p,"\uac1c)"))),c.a.createElement(Be,{visible:y,onCancel:F,onCreate:function(){if(x.length||!y)return B();O.a.error("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694")},remainTime:S,setSceneTitle:A}))})),Ge=a(614);var ze=function(e,t){var a=Object(n.useRef)(t);Object(n.useEffect)((function(){a.current=t})),Object(n.useEffect)((function(){function t(e){a.current(e)}return document.addEventListener(e,t),function(){return document.removeEventListener(e,t)}}),[])},Qe=a(85),Ve=new Audio("".concat(Qe.STORAGE,"/uploads/TYPING.mp3"));Ve.volume=.8;var Ue=function(e){var t=e.cut_script,a=e.setIsTyping,r=(e.muted,Object(n.useState)(!1)),l=Object(u.a)(r,2),i=l[0],o=l[1],s=0,m=Object(Ge.a)(t,{pace:function(){return 50},onFinished:function(){Ve&&Ve.pause(),o(!0)},onChar:function(){0==s||" "===t[s]||"."===t[s]?Ve&&Ve.pause():Ve&&Ve.play(),s++}}),d=Object(u.a)(m,2),g=d[0],f=d[1].skip;function b(e){f()}return Te("Enter",b),Te("Space",b),ze("mouseup",b),Object(n.useEffect)((function(){return function(){a(!1)}}),[i]),t?c.a.createElement("div",null,g):c.a.createElement("div",null)},Ze=(a(575),function(e){var t=e.gameId,a=e.setScene,r=e.sceneId,l=Object(m.f)(),i=(Object(E.c)((function(e){return e.user})),Object(n.useState)(!1)),o=Object(u.a)(i,2),s=o[0],d=o[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,{onClick:function(){d(!0)},className:"ending_button"},"\ucc98\uc74c\uc73c\ub85c \ub3cc\uc544\uac00\uae30"),c.a.createElement(A.a,{visible:s,onOk:function(){b.a.post("/api/users/playing-list/clear",{gameId:t,sceneId:r}).then((function(e){e.data.success?(d(!1),a({}),l.replace({pathname:"/gameplay",state:{sceneId:e.data.teleportSceneId,gameId:t}})):(d(!1),alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."))}))},onCancel:function(){d(!1)},maskClosable:!1,closable:!1,centered:!0,width:650,getContainer:".gamePlay__container",bodyStyle:{height:"170px",display:"flex"},okText:"\ud655\uc778",cancelText:"\ucde8\uc18c"},c.a.createElement("div",{className:"ending_modal_warning_sign"},c.a.createElement("svg",{color:"#faad14",viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"exclamation-circle",width:"20px",height:"20px",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),c.a.createElement("path",{d:"M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}))),c.a.createElement("div",{className:"ending_modal_warning_textarea"},c.a.createElement("h2",null,"\uc8fc\uc758!"),c.a.createElement("br",null),c.a.createElement("h3",null,"\uc2a4\ud1a0\ub9ac\uc758 \uccab \uc7a5\uba74\uc73c\ub85c \ub3cc\uc544\uac11\ub2c8\ub2e4."),c.a.createElement("h3",null,"\ud2b9\uc815 \uc7a5\uba74\uc73c\ub85c \ub3cc\uc544\uac00\uae38 \uc6d0\ud558\uc2dc\uba74 \uc624\ub978\ucabd \uc544\ub798 \ubbf8\ub2c8\ub9f5\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694"))))}),qe=function(e){var t=e.gameId,a=e.setScene,n=Object(m.f)(),r=Object(E.c)((function(e){return e.user}));return c.a.createElement(Ne.a,{onClick:function(){r?b.a.get("/api/users/playing-list/pop").then((function(e){e.data.success?(a({}),n.replace({pathname:"/gameplay",state:{sceneId:e.data.teleportSceneId,gameId:t}})):alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")})):alert("\ub85c\uadf8\uc778 \uc2dc \uc9c0\uc6d0\ub418\ub294 \uae30\ub2a5\uc785\ub2c8\ub2e4.")},className:"ending_button"},"\uc774\uc804\uc73c\ub85c \ub3cc\uc544\uac00\uae30")},Ye=function(e){var t=e.gameId,a=e.setScene,n=e.sceneId;return c.a.createElement("div",{className:"ending_box"},c.a.createElement("div",null,"The End"),c.a.createElement("div",{className:"ending_button_container"},c.a.createElement(c.a.Fragment,null,c.a.createElement(Ze,{key:0,gameId:t,setScene:a,sceneId:n}),c.a.createElement(qe,{key:1,gameId:t,setScene:a}))))},He=function(e){var t=e.cut_name,a=e.cut_script,n=e.setIsTyping,r=e.isTyping,l=e.theme,i=e.muted,o=e.isFullscreen?"full":"",s=e.isPlay?"play":"make";return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"text_window ".concat(l)},a?c.a.createElement("div",{className:"text_container ".concat(l," ").concat(s," ").concat(o)},c.a.createElement("div",{className:"name_block ".concat(l," ").concat(s," ").concat(o)},t),c.a.createElement("div",{className:"text_block ".concat(l," ").concat(s," ").concat(o)},c.a.createElement("div",{className:"text_line ".concat(l," ").concat(s," ").concat(o)}," ",r?c.a.createElement(Ue,{cut_script:a,setIsTyping:n,muted:i}):a))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"text_line ".concat(l)}," ",r?c.a.createElement(Ue,{cut_script:" ",setIsTyping:n,muted:i}):a)),!r&&c.a.createElement("div",{className:"click_icon_container ".concat(l)},c.a.createElement(F,null),c.a.createElement("span",null,"Click!"))))},Xe=function(e){var t=e.game_id,a=e.cut_name,n=e.cut_script,r=e.scene_next_list,l=e.scene_id,i=e.scene_depth,o=e.setIsTyping,s=e.isTyping,u=e.isEnding,m=e.isLastMotion,d=e.theme,g=e.setScene,f=e.isFullscreen,b=e.isPlay,v=r.map((function(e,a){return c.a.createElement(U.b,{to:{pathname:"/gameplay",key:a,state:{gameId:t,sceneId:e.sceneId}},key:a,style:{textDecoration:"none"},className:"text_line_choice ".concat(d),onClick:function(){return g({})}},e.script)}));return c.a.createElement("div",{className:"text_window ".concat(d)},c.a.createElement(He,{cut_name:a,cut_script:n,setIsTyping:o,isTyping:s,theme:d,isFullscree:f,isPlay:b}),m&&c.a.createElement("div",{className:"choice_box ".concat(u," ").concat(d," ").concat(f)},!0===u?c.a.createElement(Ye,{gameId:t,setScene:g,sceneId:l}):c.a.createElement(c.a.Fragment,null,v,r.length<4?c.a.createElement(Re,{scene_id:l,scene_depth:i,game_id:t,scene_next_list:r,theme:d}):c.a.createElement("div",null," "))))};a(576),a(577);function Ke(){var e=document.getElementsByClassName("HistoryMap_inner")[0],t=window.getComputedStyle(e).getPropertyValue("transform"),a="none"!==t?parseInt(t.split(",")[4]):0;e.style.transform="translate(".concat(a+250,"px, 0px)")}function We(){var e=document.getElementsByClassName("HistoryMap_inner")[0],t=window.getComputedStyle(e).getPropertyValue("transform"),a="none"!==t?parseInt(t.split(",")[4]):0;e.style.transform="translate(".concat(a-250,"px, 0px)")}var Je=[],$e=1;var et=function(e){var t=e.userhistory,a=e.setTrigger,r=e.setScene,l=e.isFullscreen,i=e.history,o=i.gameId,s=i.sceneId,m=Object(n.useState)([]),d=Object(u.a)(m,2),g=d[0],f=d[1],v=Object(n.useState)(!1),p=Object(u.a)(v,2),E=p[0],h=p[1];Object(n.useEffect)((function(){if(e.trigger)return b.a.get("/api/game/simple-scene-info").then((function(e){Je=e.data.sceneinfo,f(Je)})),function(){f([])}}),[e.trigger]);var _=l?"full":"",y=g.map((function(e,t){return t===g.length-1?c.a.createElement("div",{className:"HistoryMap_scene",key:t+1,style:{border:"0.2em orange solid"}},c.a.createElement("div",{className:"HistoryMap_scene_num ".concat(_)}," #",t+1),c.a.createElement("img",{className:"HistoryMap_scene_img ".concat(_),src:e.background}),c.a.createElement("div",{className:"HistoryMap_scene_name ".concat(_)},e.name,":"),c.a.createElement("div",{className:"HistoryMap_scene_text ".concat(_)},'"',e.script,'"')):c.a.createElement("div",{className:"HistoryMap_scene",key:t+1,onClick:function(){return $e=t+1,void h(!0)}},c.a.createElement("div",{className:"HistoryMap_scene_num ".concat(_)}," #",t+1),c.a.createElement("img",{className:"HistoryMap_scene_img ".concat(_),src:e.background}),c.a.createElement("div",{className:"HistoryMap_scene_name ".concat(_)},e.name,":"),c.a.createElement("div",{className:"HistoryMap_scene_text ".concat(_)},'"',e.script,'"'))}));return e.trigger?c.a.createElement("div",{className:"HistoryMap_popup"},c.a.createElement("div",{className:"HistoryMap_explain"},"\ubc15\uc2a4\ub97c \ub204\ub974\uba74 \ud574\ub2f9 \uc774\uc57c\uae30\ub85c \ub3cc\uc544\uac08 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),c.a.createElement("div",{className:"close_btn",onClick:function(){a(!1)}},c.a.createElement(C,{className:"close_btn",src:"close_2",width:"45",height:"50",color:"#F5F5F5"})),c.a.createElement("div",{className:"HistoryMap-toleft_btn ".concat(_),onClick:Ke},c.a.createElement(C,{src:"arrow_1",width:"100%",height:"100%",color:"#F5F5F5"})),c.a.createElement("div",{className:"HistoryMap-toright_btn ".concat(_),onClick:We},c.a.createElement(C,{src:"arrow_1",width:"100%",height:"100%",color:"#F5F5F5"})),c.a.createElement("div",{className:"HistoryMap_inner ".concat(_),style:{width:15*Je.length+"%"}},y),c.a.createElement(A.a,{visible:E,onOk:function(){!function(e){var t=e.userhistory,a=e.gameId,n=e.sceneId,c=e.targetScene,r=e.setScene,l={data:{sceneIndex:c-1}};b.a.post("/api/game/refreshHistory",l).then((function(e){if(e.data.success){for(var l=document.getElementsByClassName("close_btn"),i=l.length-1;i>=0;i--)l[i].click();r({}),t.replace({pathname:"/gameplay",state:{sceneId:n[c-1],gameId:a}})}else O.a.error("Scene \ubcc0\uacbd \uc694\uccad \uc2e4\ud328")}))}({userhistory:t,gameId:o,sceneId:s,targetScene:$e,setScene:r}),h(!1)},onCancel:function(){h(!1)},getContainer:".gamePlay__container",centered:!0,maskClosable:!1,closable:!1,okText:"\ud655\uc778",cancelText:"\ucde8\uc18c"},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{className:"ending_modal_warning_sign"},c.a.createElement("svg",{color:"#faad14",viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"exclamation-circle",width:"20px",height:"20px",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),c.a.createElement("path",{d:"M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}))),c.a.createElement("div",{className:"ending_modal_warning_textarea"},c.a.createElement("h2",null,"\uc8fc\uc758!"),c.a.createElement("br",null),c.a.createElement("h3",null,$e," \ubc88\uc9f8 \uc52c\uc73c\ub85c \ub3cc\uc544\uac11\ub2c8\ub2e4."),c.a.createElement("h3",null,"\ub3cc\uc544\uac00\ub824\ub294 \uc52c\uae4c\uc9c0\uc758 \uae30\ub85d\uc740 \uc0ad\uc81c\ub429\ub2c8\ub2e4."))))):null},tt=(a(1158),0),at=1,nt=2,ct=3,rt=4,lt=5,it=6,ot=function(){switch(Object(E.c)((function(e){return e.gameplay.loadingType}))){case tt:return null;case at:return c.a.createElement("div",{style:{animation:"1.5s ease-out 0s 1 basic"},className:"loading_page"},c.a.createElement(le.a,{icon:ie.n,className:"loading_icon"}));case nt:return c.a.createElement("div",{style:{animation:"1s ease-out 0s 1 slideLeft"},className:"loading_page"});case ct:case rt:return c.a.createElement("div",{style:{animation:"1s ease-out 0s 1 slideRight"},className:"loading_page"});case lt:return c.a.createElement("div",{style:{animation:"1s ease-out 0s 1 slideDown"},className:"loading_page"});case it:return c.a.createElement("div",{style:{animation:"1s ease-out 0s 1 blackIn"},className:"loading_page"});default:return null}};function st(e){return{type:"load_empty_num",payload:void 0!==e.emptyNum?e.emptyNum:b.a.get("/api/scene/".concat(e.sceneId)).then((function(e){if(e.data.success)return e.data.scene.sceneTmp.emptyNum}))}}function ut(){if("undefined"!==typeof document.fullscreenElement)return"fullscreenElement";if("undefined"!==typeof document.mozFullScreenElement)return"mozFullScreenElement";if("undefined"!==typeof document.msFullscreenElement)return"msFullscreenElement";if("undefined"!==typeof document.webkitFullscreenElement)return"webkitFullscreenElement";throw new Error("fullscreenElement is not supported by this browser")}function mt(e){var t=e.sceneId,a=e.gameId,r=e.isModalVisible,l=e.setIsModalVisible,i=(k.a.Option,x.a.TextArea),o=Object(E.c)((function(e){return e.user})),s=Object(n.useState)(""),m=Object(u.a)(s,2),d=m[0],g=m[1],f=Object(n.useState)(""),v=Object(u.a)(f,2),p=v[0],h=v[1];return c.a.createElement("div",null,c.a.createElement(A.a,{title:"\uc2e0\uace0",visible:r,onOk:function(e){e.preventDefault();var n={title:d,description:p,user:o.userData._id,sceneId:t,gameId:a};b.a.post("/api/complaint/",n).then((function(e){e.data.success?(O.a.success("\uac10\uc0ac\ud569\ub2c8\ub2e4. \uc2e0\uace0\uac00 \uc811\uc218\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),l((function(e){return!e})),g(""),h("")):O.a.error("\uc2e0\uace0\ud558\ub294\ub370 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}))},onCancel:function(){l(!1)}},c.a.createElement("p",null,"\uc2a4\ud1a0\ub9ac\uc5d0 \ub300\ud55c \uc2e0\uace0 \uc0ac\ud56d\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694."),c.a.createElement("p",null),c.a.createElement(w.a.Item,{required:!0},c.a.createElement("p",null),c.a.createElement(x.a,{placeholder:"\uc81c\ubaa9",value:d,onChange:function(e){g(e.currentTarget.value)}}),c.a.createElement("p",null),c.a.createElement(i,{placeholder:"\uc2e0\uace0 \ub0b4\uc6a9",rows:8,value:p,onChange:function(e){h(e.currentTarget.value)}}),c.a.createElement("p",null))))}a(1159);var dt=function(e){var t=e.setTrigger,a=e.trigger,n=e.cutList,r=e.i;function l(){return n.slice(0,r+1).map((function(e,t){return c.a.createElement("div",{className:"log",key:t},null===e||void 0===e?void 0:e.name,": ",null===e||void 0===e?void 0:e.script)}))}return n?a?c.a.createElement("div",{className:"HistoryMap_popup log"},c.a.createElement("div",{className:"close_btn",onClick:function(){t(!1)}},c.a.createElement(C,{className:"close_btn",src:"close_2",width:"45",height:"50",color:"#F5F5F5"})),c.a.createElement("div",{className:"log_container"},c.a.createElement("div",{className:"log_title"},"\ub300\ud654 \uae30\ub85d"),c.a.createElement("div",{className:"log_box"},c.a.createElement(l,null)))):null:c.a.createElement(c.a.Fragment,null)},gt=a(296),ft=a.n(gt),bt=a(294),vt=a.n(bt);var pt=function(e){var t=e.cutList,a=e.onClick_thumbsUp,n=e.thumbsUp,r=e.thumbsUpClicked,l=e.view,i=e.setDislike,o=e.setHistoryMap,s=e.setLog,u=e.mute,m=e.muted,d=e.errorMessage,g=e.isFullscreen,f=e.handleExitFullscreen,b=e.setIsFullscreen,v=e.fullButton,p=e.i;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,p===t.length-1&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"gamePlay__btn preventColorChange",style:{cursor:"unset"}},c.a.createElement(le.a,{icon:ie.g,style:{marginLeft:"3px"}}),l),c.a.createElement("button",{className:"gamePlay__btn preventColorChange",onClick:function(e){a(),e.stopPropagation()}},r?c.a.createElement(le.a,{style:{color:"red",marginLeft:"3px"},icon:ie.i}):c.a.createElement(le.a,{icon:ie.i,style:{marginLeft:"3px"}}),n),c.a.createElement("div",{className:"minimap_icon",onClick:function(e){o((function(e){return!e})),e.stopPropagation()}},c.a.createElement(P,null))),c.a.createElement("button",{className:"gamePlay__btn",onClick:function(e){i((function(e){return!e})),e.stopPropagation()}},"\uc2e0\uace0")),c.a.createElement("div",null,c.a.createElement("button",{className:"gamePlay__btn",onClick:function(e){o((function(e){return!e})),e.stopPropagation()}},"\ubbf8\ub2c8\ub9f5"),c.a.createElement("button",{className:"gamePlay__btn",onClick:function(e){s((function(e){return!e})),e.stopPropagation()}},"\ub300\ud654\uae30\ub85d"),c.a.createElement("div",{className:"gamePlay__btn sound",onClick:function(e){u(),e.stopPropagation()}},m?c.a.createElement(vt.a,null):c.a.createElement(ft.a,null)),d?c.a.createElement("button",{onClick:function(e){alert("Fullscreen is unsupported by this browser, please try another browser."),e.stopPropagation()},className:"gamePlay__btn"},d):g?c.a.createElement("button",{onClick:function(e){f(),e.stopPropagation()},className:"gamePlay__btn full"},c.a.createElement(le.a,{icon:ie.e})):c.a.createElement("button",{ref:v,onClick:function(e){b(),e.stopPropagation()},className:"gamePlay__btn full"},c.a.createElement(le.a,{icon:ie.f}))))},Et=function(e){var t=e.setTag,a=e.tag;return c.a.createElement("div",{className:"tabs info"},c.a.createElement("div",{className:"".concat(1===a?"tab is-selected":"tab"),onClick:function(){return t(1)}},"\uac8c\uc784\uc815\ubcf4"),c.a.createElement("div",{className:"".concat(2===a?"tab is-selected":"tab"),onClick:function(){return t(2)}},"\ucd9c\uc5f0\uc9c4"))};a(85);var ht=function(e){var t,a,n,r,l,i=e.gameDetail,o=e.isMake;return c.a.createElement("div",{className:"gameInfoTab__padding"},c.a.createElement("div",{className:"gameInfoTab__container"},c.a.createElement("div",{className:"gameInfoTab__thumbnail_container"},c.a.createElement("img",{className:"gameInfoTab__thumbnail",src:null===i||void 0===i?void 0:i.thumbnail,alt:"thumbnail"}),c.a.createElement("div",{className:"gameInfoTab__gradation"})),c.a.createElement("div",{className:"gameInfoTab__gamePlay"},c.a.createElement("div",{className:"gameInfoTab__UPTitle"},null===i||void 0===i?void 0:i.title,c.a.createElement("div",{className:"gameInfoTab__genre"},c.a.createElement("div",{style:{display:"block"}},"\uc791\uac00:\xa0",c.a.createElement(U.b,{to:"/profile/".concat(null===i||void 0===i||null===(t=i.creator)||void 0===t?void 0:t._id),className:"bold_text",target:"_blank"},null===i||void 0===i||null===(a=i.creator)||void 0===a||null===(n=a.nickname)||void 0===n?void 0:n.substr(0,20)),"\xa0\xa0"),c.a.createElement("div",{style:{display:"block"}},"\uc7a5\ub974:\xa0",null===i||void 0===i?void 0:i.category,"\xa0"))),c.a.createElement("div",{className:"gameInfoTab__contributer_container_box"},c.a.createElement("div",{className:"gameInfoTab__contributer_container_box fit"},c.a.createElement("div",{className:"gameInfoTab__contributer_container"},c.a.createElement("div",{className:"gameInfoTab__contributer_title"}," \uac00\uc7a5 \ub9ce\uc740 \uae30\uc5ec\ub97c \ud55c \uc0ac\ub78c"),c.a.createElement(fe,{contributerList:null===i||void 0===i?void 0:i.contributerList,creatorNickname:null===i||void 0===i||null===(r=i.creator)||void 0===r?void 0:r.nickname,totalSceneCnt:null===i||void 0===i?void 0:i.sceneCnt,isMake:o})),c.a.createElement("div",{className:"gameInfoTab__gamePlay_container_box"},c.a.createElement("div",{className:"gameInfoTab__gamePlay_container"},c.a.createElement("div",{className:"gameInfoTab__gamePlay_text"},"\ud604\uc7ac \uc2a4\ud1a0\ub9ac"),c.a.createElement("div",{className:"gameInfoTab__gamePlay_sceneCntContainer"},c.a.createElement("div",{className:"gameInfoTab__gamePlay_sceneCnt"},null===i||void 0===i?void 0:i.sceneCnt),c.a.createElement("div",{className:"gameInfoTab__gamePlay_cntText"},"\uac1c"))),c.a.createElement("h1",{className:"gameInfoTab__gamePlay_bar"},"|"),c.a.createElement("div",{className:"gameInfoTab__gamePlay_container"},c.a.createElement("div",{className:"gameInfoTab__gamePlay_text"},"\ud604\uc7ac \uae30\uc5ec\uc790"),c.a.createElement("div",{className:"gameInfoTab__gamePlay_sceneCntContainer"},c.a.createElement("div",{className:"gameInfoTab__gamePlay_sceneCnt"},null===i||void 0===i||null===(l=i.contributerList)||void 0===l?void 0:l.length),c.a.createElement("div",{className:"gameInfoTab__gamePlay_cntText"},"\uba85"))))))),o>0&&c.a.createElement("div",{className:"gameInfoTab__description_title"},"\uac8c\uc784 \uc124\uba85"),o>0&&c.a.createElement("div",{className:"gameInfoTab__description"},null===i||void 0===i?void 0:i.description)))};var _t=function(e){var t,a=e.gameDetail,n=a.character.map((function(e,t){return c.a.createElement("div",{className:"actorTab_character_card",key:t},c.a.createElement("div",{className:"actorTab_profile_image"},c.a.createElement("img",{src:e.image_array[0],alt:"img",className:"actorTab_image"})),c.a.createElement("div",{className:"actorTab_textarea"},c.a.createElement("textarea",{className:"actorTab_profile_text name",defaultValue:e.name,placeholder:"???",readOnly:!0}),c.a.createElement("textarea",{className:"actorTab_profile_text description",defaultValue:e.description,placeholder:"???",readOnly:!0})))}));return c.a.createElement("div",{className:"gameInfoTab__padding actor"},(null===a||void 0===a||null===(t=a.character)||void 0===t?void 0:t.length)>0?c.a.createElement("div",{className:"actorTab__container"},n):c.a.createElement("div",{className:"actorTab__warning"},"\uc5c5\ub85c\ub4dc \ub41c \uce90\ub9ad\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4 :<"))},yt=(a(1160),function(e){var t=e.visible,a=e.setGameInfoModalState,r=e.gameDetail,l=e.isMake,i=Object(n.useState)(1),o=Object(u.a)(i,2),s=o[0],m=o[1],d=function(){a(!1)};return c.a.createElement(A.a,{className:"scenemake_essetmodal info",visible:t,okText:"\ud655\uc778",cancelText:"\ucde8\uc18c",onCancel:d,onOk:d},c.a.createElement("div",{className:"sceenmake_essetmodal_container"},c.a.createElement(Et,{setTag:m,tag:s}),1===s&&c.a.createElement(ht,{gameDetail:r,isMake:l}),2===s&&c.a.createElement(_t,{gameDetail:r})))});a(1161);var Ot=function(e){var t,a,r,l,i=e.gameDetail,o=e.onClick_thumbsUpGame,s=e.isClickedGame,m=e.thumbsupCntGame,d=e.writer,g=e.gameId,f=Object(n.useState)(!1),b=Object(u.a)(f,2),v=b[0],p=b[1];return c.a.createElement("div",{className:"sceneInfo"},c.a.createElement("div",{className:"sceneInfo__container"},c.a.createElement("div",{className:"info_btn",onClick:function(){return p(!0)}},"\uac8c\uc784\uc815\ubcf4"),c.a.createElement("div",{className:"sceneInfo__title"},null===i||void 0===i?void 0:i.title),c.a.createElement("div",{className:"sceneInfo__genre"},c.a.createElement("div",{className:"sceneInfo__creater"},"\uc2a4\ud1a0\ub9ac\ub97c \ub9cc\ub4e0 \uc791\uac00:\xa0",c.a.createElement(U.b,{to:"/profile/".concat(null===i||void 0===i||null===(t=i.creator)||void 0===t?void 0:t._id),className:"bold_text"},null===i||void 0===i||null===(a=i.creator)||void 0===a||null===(r=a.nickname)||void 0===r?void 0:r.substr(0,20)),"\xa0\xa0"),c.a.createElement("div",null,"\ud604\uc7ac \uc2a4\ud1a0\ub9ac\uc5d0 \uae30\uc5ec\ud55c \uc791\uac00:\xa0",c.a.createElement(U.b,{to:"/profile/".concat(null===d||void 0===d?void 0:d._id),className:"bold_text"},null===d||void 0===d||null===(l=d.nickname)||void 0===l?void 0:l.substr(0,20)),"\xa0\xa0"),c.a.createElement("div",{style:{display:"block"}},"\uc7a5\ub974:\xa0",null===i||void 0===i?void 0:i.category,"\xa0")),c.a.createElement("div",{className:"detailPage__info_bar"},c.a.createElement("div",null),c.a.createElement("div",{className:"detailPage__interaction"},c.a.createElement("div",{className:"detailPage__view"},c.a.createElement(le.a,{icon:ie.g,style:{marginLeft:"3px"}}),null===i||void 0===i?void 0:i.view,"\ud68c"),c.a.createElement("div",{onClick:o,className:"detailPage__like"},s?c.a.createElement(le.a,{style:{color:"red",marginLeft:"3px"},icon:ie.i}):c.a.createElement(le.a,{icon:ie.i,style:{marginLeft:"3px"}}),m,"\uac1c"),c.a.createElement("div",{className:"link_bttn",onClick:function(e){_e(g)}},c.a.createElement(le.a,{icon:ie.j}),"\ucd08\ub300\ub9c1\ud06c\ubcf5\uc0ac\xa0"))),c.a.createElement("div",{className:"detailPage__description"},null===i||void 0===i?void 0:i.description),c.a.createElement(yt,{visible:v,setGameInfoModalState:p,gameDetail:i,isMake:!1})))},jt=new Audio;jt.volume=.5;var Nt=new Audio;Nt.volume=.5;var kt=function(e){var t,a=Object(n.useRef)(!1);window.matchMedia("(pointer: coarse)").matches&&(a.current=!0),Object(n.useLayoutEffect)((function(){document.getElementById("menu").className+=" isPlay"}),[]);var r,l,i,o=(null===e||void 0===e||null===(t=e.match)||void 0===t?void 0:t.params).full,s=Object(m.g)().state,d=s.gameId,g=s.sceneId,f=e.history,v=Object(E.b)(),p=Object(E.c)((function(e){return e.user})),h=Object(E.c)((function(e){return e.gameplay.isPause})),_=Object(n.useState)(window.innerWidth),y=Object(u.a)(_,2),j=y[0],N=y[1],k=Object(n.useState)(window.innerHeight),x=Object(u.a)(k,2),A=x[0],w=x[1],I=Object(n.useState)(0),S=Object(u.a)(I,2),C=S[0],L=S[1],M=Object(n.useState)({}),T=Object(u.a)(M,2),D=T[0],B=T[1],F=Object(n.useState)(!1),P=Object(u.a)(F,2),R=P[0],G=P[1],z=Object(n.useState)({}),Q=Object(u.a)(z,2),V=Q[0],U=Q[1],Z=Object(n.useState)(!1),H=Object(u.a)(Z,2),X=H[0],K=H[1],W=Object(n.useState)(!1),J=Object(u.a)(W,2),$=J[0],ee=J[1],te=Object(n.useState)({}),ae=Object(u.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(!1),oe=Object(u.a)(re,2),se=oe[0],ue=oe[1],me=Object(n.useState)(0),ge=Object(u.a)(me,2),fe=ge[0],be=ge[1],ve=Object(n.useState)(0),pe=Object(u.a)(ve,2),Ee=pe[0],he=pe[1],_e=Object(n.useState)(!1),ye=Object(u.a)(_e,2),Oe=ye[0],je=ye[1],Ne=Object(n.useState)({_id:"",nickname:""}),ke=Object(u.a)(Ne,2),xe=ke[0],Ae=ke[1],we=Object(E.c)((function(e){return e.sync.prevSceneId})),Ie=Object(n.useRef)(null),Se=Object(n.useRef)();try{var De=function(e){var t=c.a.useState(null!=document[ut()]),a=Object(u.a)(t,2),n=a[0],r=a[1];return c.a.useLayoutEffect((function(){return document.onfullscreenchange=function(){return r(null!=document[ut()])},function(){return document.onfullscreenchange=void 0}})),[n,function(){null!=e.current&&e.current.requestFullscreen().then((function(){r(null!=document[ut()])})).catch((function(){r(!1)}))}]}(Ie),Be=Object(u.a)(De,2);r=Be[0],l=Be[1]}catch(Ft){i="",r=!1,l=void 0}Object(n.useEffect)((function(){if("full"===o){var e=document.getElementById("root").getElementsByClassName("footer-container");e[0]&&e[0].remove()}return O.a.config({maxCount:2,top:70,getContainer:function(){return document.getElementById("gamePlay__screen")}}),v(q(!0)),v(Y(!0)),v(st({sceneId:g})),function(){jt.pause(),Nt.pause(),document.getElementById("menu").className="menu",O.a.config({maxCount:2,top:70,getContainer:function(){return document.body}})}}),[]),Te("Enter",it),Te("Space",it),Te("Digit1",gt),Te("Digit2",gt),Te("Digit3",gt),Te("Digit4",gt),O.a.config({maxCount:2,top:70,getContainer:function(){return document.getElementById("gamePlay__screen")}}),Object(n.useEffect)((function(){return cn.on("accept_final_change",(function(e){var t=e.sceneId,a=e.title,n=D.nextList?Object(Le.a)(D.nextList):[];n.push({sceneId:t,script:a});var c=Object(Ce.a)(Object(Ce.a)({},D),{},{nextList:n});B(c)})),function(){cn.off("accept_final_change")}}),[D]);var Re=Object(n.useState)(.5),Ge=Object(u.a)(Re,2),ze=Ge[0],Qe=Ge[1],Ve=Object(n.useState)(!1),Ue=Object(u.a)(Ve,2),Ze=Ue[0],qe=Ue[1],Ye=Object(n.useRef)(.5),Ke=function(e){Qe(e),qe(0===e),jt.volume=e,Nt.volume=e},We=Object(n.useState)(!0),Je=Object(u.a)(We,2),$e=Je[0],tt=Je[1];function at(e){var t,a,n,c,r;($e&&tt(!1),null===D||void 0===D||null===(t=D.cutList[e])||void 0===t?void 0:t.bgm.music)&&(e>0&&D.cutList[e-1].bgm.music==(null===(n=D.cutList[e])||void 0===n?void 0:n.bgm.music)||(jt.pause(),jt.src=null===(c=D.cutList[e])||void 0===c?void 0:c.bgm.music,jt.play()));(null===D||void 0===D||null===(a=D.cutList[e])||void 0===a?void 0:a.sound.music)&&(Nt.pause(),Nt.src=null===(r=D.cutList[e])||void 0===r?void 0:r.sound.music,Nt.play())}var nt=Object(n.useState)(!0),ct=Object(u.a)(nt,2),rt=ct[0],lt=ct[1];function it(e){var t,a;rt||h||(C<(null===D||void 0===D||null===(t=D.cutList)||void 0===t?void 0:t.length)-1?(at(C+1),L(C+1),lt(!0)):C==(null===D||void 0===D||null===(a=D.cutList)||void 0===a?void 0:a.length)-1&&ue(!0))}function gt(e){if(C===D.cutList.length-1&&!h)if(D.nextList[parseInt(e.key)-1])f.replace({pathname:"/gameplay",state:{sceneId:D.nextList[parseInt(e.key)-1].sceneId,gameId:d}});else if(parseInt(e.key)-1===D.nextList.length){v(Pe(!0)),e.preventDefault();var t=document.getElementById("choice");t&&t.click()}}var ft=Object(n.useState)(!1),bt=Object(u.a)(ft,2),vt=bt[0],Et=bt[1],ht=Object(n.useState)(0),_t=Object(u.a)(ht,2),yt=_t[0],kt=_t[1];var xt=Object(n.useRef)(""),At=Object(n.useRef)(!0);Object(n.useEffect)((function(){var t=p.userData._id;p&&p.userData&&g!=xt.current&&(xt.current=g,b.a.get("/api/gameplaypage/sceneinfo/".concat(g,"/").concat(t)).then((function(e){e.data.success&&(je(e.data.isClicked),he(e.data.thumbsup),be(e.data.view))})),ue(!1),b.a.get("/api/game/getnextscene/".concat(d,"/").concat(g)).then((function(t){if(t.data.success){B(t.data.scene),Ae(t.data.writer);var a={gameId:d,sceneId:t.data.sceneIdList};lt(!0),U(a),L(0),jt.pause(),Nt.pause(),tt(!0),v(Pe(!1)),v(Fe(0))}else t.data.msg&&O.a.error(t.data.msg),e.history.replace("/game/".concat(d))}))),At.current&&(At.current=!1,b.a.get("/api/gameplaypage/gameinfo/".concat(d,"/").concat(t)).then((function(e){if(e.data.success){var t=e.data,a=t.isClickedGame,n=t.thumbsupCntGame,c=t.gameDetail;ce(c),Et(a),kt(n)}else O.a.error("\uac8c\uc784 \uc815\ubcf4\ub97c \ub85c\ub529\ud558\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})))}),[g,p]),Object(n.useEffect)((function(){return cn.emit("leave room",{room:we}),cn.emit("room",{room:g}),v({type:"SAVE_PREV_SCENE",payload:{prevSceneId:g}.prevSceneId}),cn.on("empty_num_changed",(function(e){v(st({sceneId:g,emptyNum:e.emptyNum}))})),cn.emit("validate_empty_num",{scene_id:g}),function(){cn.off("empty_num_changed")}}),[g]),Object(n.useEffect)((function(){v(Pe(!!(X||R||$)))}),[X,R,$]),Object(n.useEffect)((function(){window.addEventListener("resize",(function(){N(window.innerWidth),w(window.innerHeight)}))}),[window.innerWidth,window.inner]);var wt,It,St,Ct,Lt,Mt,Tt,Dt,Bt=r?0:.1;return wt=.5625*j>A?"full"===o?{width:"".concat(A/.5625,"px"),height:"".concat(A,"px"),minWidth:"".concat(300/.5625,"px"),minHeight:"".concat(300,"px")}:{width:"".concat(A*(1-2*Bt)/.5625,"px"),height:"".concat(A*(1-2*Bt),"px"),minWidth:"".concat(300/.5625,"px"),minHeight:"".concat(300,"px")}:"full"===o?{width:"".concat(j,"px"),height:"".concat(.5625*j,"px"),minWidth:"".concat(300,"px"),minHeight:"".concat(168.75,"px")}:{width:"".concat(j*(1-2*Bt),"px"),height:"".concat(j*(1-2*Bt)*.5625,"px"),minWidth:"".concat(300,"px"),minHeight:"".concat(168.75,"px")},Object(n.useEffect)((function(){return r&&a.current&&window.screen.orientation.lock("landscape"),function(){}}),[r]),void 0!==(null===D||void 0===D?void 0:D.cutList)?(0==C&&$e&&at(0),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"".concat(r?"gamePlay__container gamePlay__container_fullscreen":"gamePlay__container ".concat(o)),ref:Ie,id:"gamePlay__screen"},c.a.createElement("div",{className:"".concat(r?"gamePlay__mainContainer_fullscreen":"gamePlay__mainContainer ".concat(o))},c.a.createElement("div",{className:"".concat(r?"backgroundImg_container_fullscreen":"backgroundImg_container ".concat(o)),style:wt,onClick:function(e){return it()}},c.a.createElement("div",{className:"gamePlay__writer"},c.a.createElement(le.a,{icon:ie.l,style:{marginRight:"5px"}}),c.a.createElement("b",null,"\uc791\uac00:\xa0",xe.nickname)),c.a.createElement(ot,null),D.cutList[C]&&(null===(It=D.cutList[C])||void 0===It?void 0:It.background)?c.a.createElement("img",{className:"backgroundImg",src:null===(St=D.cutList[C])||void 0===St?void 0:St.background,alt:"Network Error"}):c.a.createElement("div",null),c.a.createElement(Me,{characterList:null===D||void 0===D||null===(Ct=D.cutList[C])||void 0===Ct?void 0:Ct.characterList}),C===D.cutList.length-1?c.a.createElement(Xe,{game_id:d,cut_name:null===(Lt=D.cutList[C])||void 0===Lt?void 0:Lt.name,cut_script:null===(Mt=D.cutList[C])||void 0===Mt?void 0:Mt.script,scene_depth:D.depth,scene_id:D._id,scene_next_list:D.nextList,setIsTyping:lt,isTyping:rt,isEnding:D.isEnding,isLastMotion:se,theme:D.theme,setScene:B,isFullscreen:r,isPlay:!0}):c.a.createElement(He,{cut_name:null===(Tt=D.cutList[C])||void 0===Tt?void 0:Tt.name,cut_script:null===(Dt=D.cutList[C])||void 0===Dt?void 0:Dt.script,setIsTyping:lt,isTyping:rt,theme:D.theme,muted:Ze,isFullscreen:r,isPlay:!0}),c.a.createElement(et,{userhistory:f,history:V,trigger:X,setTrigger:K,setScene:B,isFullscreen:r}),c.a.createElement(dt,{trigger:$,setTrigger:ee,cutList:D.cutList,i:C}),c.a.createElement("div",{className:"gamePlay__btn_container"},c.a.createElement(pt,{cutList:D.cutList,onClick_thumbsUp:function(){var e;if(null===p||void 0===p||null===(e=p.userData)||void 0===e?void 0:e.isAuth){var t={userId:p.userData._id,objectId:g,flag:"1"};Oe?(je(!1),he((function(e){return e-1}))):(je(!0),he((function(e){return e+1}))),b.a.post("/api/thumbsup/",t)}else O.a.error("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")},thumbsUp:Ee,thumbsUpClicked:Oe,view:fe,setDislike:G,setHistoryMap:K,setLog:ee,mute:function(){Ze?(qe(!1),Ke(Ye.current)):(Ye.current=ze,qe(!0),Ke(0))},muted:Ze,errorMessage:i,isFullscreen:r,handleExitFullscreen:function(){return document.exitFullscreen()},setIsFullscreen:l,fullButton:Se,i:C})),c.a.createElement(mt,{sceneId:g,gameId:d,isModalVisible:R,setIsModalVisible:G})))),c.a.createElement("div",{className:"detail_relative_container"}),c.a.createElement(Ot,{gameDetail:ne,onClick_thumbsUpGame:function(){var e;if(null===p||void 0===p||null===(e=p.userData)||void 0===e?void 0:e.isAuth){var t={userId:p.userData._id,objectId:d,flag:"1"};vt?(Et(!1),kt((function(e){return e-1}))):(Et(!0),kt((function(e){return e+1}))),b.a.post("/api/thumbsup/",t)}else O.a.error("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")},isClickedGame:vt,thumbsupCntGame:yt,history:e.history,writer:xe,gameId:d,sceneId:g}),c.a.createElement(de,{sceneId:g,gameId:d}))):c.a.createElement("div",{className:"loader_container"},c.a.createElement("div",{className:"loader"}))},xt=a(1228),At=(a(579),a(85));var wt=function(e){var t=e.imgUrl,a=e.setBackgroundImg,n=e.curImg,r=e.setReload;return c.a.createElement("div",{className:"backSidebar_image_container ".concat(n===t),onClick:function(){a(n!==t?t:"".concat(At.STORAGE,"/uploads/defaultBackground.png")),r((function(e){return e+1}))}},c.a.createElement("img",{src:t,alt:"img",className:"backSidebar_image"}))};var It=Object(n.memo)((function(e){var t,a,n=e.gameDetail,r=e.curImg,l=e.setBackgroundImg,i=e.onEssetModal,o=e.isFirstScene,s=e.setReload,u=e.isWriter,m=n.background.map((function(e,t){return c.a.createElement("div",{className:"backSidebar_box",key:"".concat(t)},c.a.createElement(wt,{imgUrl:e.image,setBackgroundImg:l,curImg:r,setReload:s}))}));return c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"sidebar__container"},(o.current||u)&&c.a.createElement(xt.a,{onClick:i,className:0===(null===n||void 0===n||null===(t=n.background)||void 0===t?void 0:t.length)?"sidebar_add_esset_btn":"sidebar_add_esset_btn_side"}),m),0===(null===n||void 0===n||null===(a=n.background)||void 0===a?void 0:a.length)&&c.a.createElement("div",{className:"sidebar_line"}))}));function St(e){return{type:"select_character",payload:e}}function Ct(e){for(var t,a=e.oldArray,n=e.index,c=0;c<a.length;c++)if(a[c].index===n){a.splice(c,1),t=Object(Le.a)(a);break}return{type:"pop_character",payload:t}}function Lt(e){for(var t,a=e.oldArray,n=e.characterSchema,c=0;c<(null===a||void 0===a?void 0:a.length);c++)if(a[c].index===n.index){t=[].concat(Object(Le.a)(a.slice(0,c)),[Object(Ce.a)(Object(Ce.a)({},a[c]),{},{image:n.image})],Object(Le.a)(a.slice(c+1,4)));break}return!t&&(null===a||void 0===a?void 0:a.length)>=3&&(O.a.info("\uc778\ubb3c\uc740 \ucd5c\ub300 \uc138\uba85\uae4c\uc9c0 \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4."),t=a),{type:"push_character",payload:t=t||[].concat(Object(Le.a)(a||[]),[n])}}function Mt(e){var t=e.oldArray,a=e.data,n=e.index;return{type:"update_character",payload:[].concat(Object(Le.a)(t.slice(0,n)),[Object(Ce.a)(Object(Ce.a)({},t[n]),a)],Object(Le.a)(t.slice(n+1,4)))}}function Tt(e){return{type:"set_character_list",payload:e.CharacterList}}function Dt(e){for(var t=e.oldArray,a=e.index,n=e.num,c=t.length-1,r=Object(Le.a)(t),l=0;l<c+1;l++)if(r[l].index===a)if("double"===n){if(l>0){var i=[r[0],r[l]];r[l]=i[0],r[0]=i[1]}}else if("pull"===n){var o=r[l];r.splice(l,1),r.push(o)}else if(l>0){var s=[r[l-1],r[l]];r[l]=s[0],r[l-1]=s[1]}return{type:"order_character",payload:r}}var Bt=function(e){var t=e.character,a=e.index,n=e.setName,r=Object(E.b)(),l=Object(E.c)((function(e){return e.character.CharacterList})),i=Object(E.c)((function(e){return e.character.characterSelected})),o=null===l||void 0===l?void 0:l.some((function(e){return e.index===a})),s=o?"selected":"",u=(null===i||void 0===i?void 0:i.index)===a?"focused":"";return c.a.createElement("div",{className:"characterSidebar_box ".concat(u," ").concat(s),key:"".concat(a)},c.a.createElement("div",{className:"characterSidebar_image_box ".concat(s),onClick:function(){var e={index:a,image:t.image_array[0],posX:30,posY:15,reverse:0,size:90},c={oldArray:l,characterSchema:e};r(St(Object(Ce.a)(Object(Ce.a)({},t),{},{index:a}))),o&&(null===i||void 0===i?void 0:i.index)===a?(r(Ct({oldArray:l,index:a})),n("")):(r(Lt(c)),n(null===t||void 0===t?void 0:t.name))}},c.a.createElement("img",{src:t.image_array[0],alt:"img",className:"characterSidebar_image"})))};a(1162);var Ft=Object(n.memo)((function(e){var t,a,n=e.gameDetail,r=e.setName,l=e.onEssetModal,i=e.isFirstScene,o=e.isWriter,s=n.character.map((function(e,t){return c.a.createElement(Bt,{key:t,character:e,index:t,setName:r})}));return c.a.createElement("div",null,(i.current||o)&&c.a.createElement("div",{className:"sidebar__container"},c.a.createElement(xt.a,{onClick:l,className:0===(null===n||void 0===n||null===(t=n.character)||void 0===t?void 0:t.length)?"sidebar_add_esset_btn":"sidebar_add_esset_btn_side"})),0!==(null===n||void 0===n||null===(a=n.character)||void 0===a?void 0:a.length)&&c.a.createElement("div",{className:"characterSidebar__container"},s),c.a.createElement("div",{className:"sidebar_line"}))}));a(580);var Pt=function(e){var t=e.bgm_audio,a=e.bgm,n=e.setBgmFile,r=e.setReload,l=t.src.lastIndexOf("/")+1,i=decodeURI(t.src.substr(l));return c.a.createElement("div",{className:"bgmSidebar_box ".concat(i===decodeURI(a.music.substr(l))),onClick:function(){i===decodeURI(a.music.substr(l))?(t.src="",n("")):(t.src=a.music,t.play(),n(a)),r((function(e){return e+1}))}},a.name)};var Rt=Object(n.memo)((function(e){var t,a,n=e.gameDetail,r=e.bgm_audio,l=e.setBgmFile,i=e.onEssetModal,o=e.isFirstScene,s=e.setReload,u=e.isWriter,m=n.bgm.map((function(e,t){return c.a.createElement("div",{className:"bgmSidebar_box",key:"".concat(t)},c.a.createElement(Pt,{bgm_audio:r,bgm:e,setBgmFile:l,setReload:s}))}));return c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"sidebar__container"},(o.current||u)&&c.a.createElement(xt.a,{onClick:i,className:0===(null===n||void 0===n||null===(t=n.bgm)||void 0===t?void 0:t.length)?"sidebar_add_esset_btn":"sidebar_add_esset_btn_side"}),c.a.createElement("div",null,m)),0===(null===n||void 0===n||null===(a=n.bgm)||void 0===a?void 0:a.length)&&c.a.createElement("div",{className:"sidebar_line"}))}));var Gt=function(e){var t=e.sound_audio,a=e.sound,n=e.setSoundFile,r=e.setReload,l=t.src.lastIndexOf("/")+1,i=decodeURI(t.src.substr(l));return c.a.createElement("div",{className:"bgmSidebar_box ".concat(i===decodeURI(a.music.substr(l))),onClick:function(){i===decodeURI(a.music.substr(l))?(t.src="",n("")):(t.src=a.music,t.play(),n(a)),r((function(e){return e+1}))}},a.name)};var zt=Object(n.memo)((function(e){var t,a,n=e.gameDetail,r=e.sound_audio,l=e.setSoundFile,i=e.onEssetModal,o=e.isFirstScene,s=e.setReload,u=e.isWriter,m=n.sound.map((function(e,t){return c.a.createElement("div",{className:"bgmSidebar_box",key:"".concat(t)},c.a.createElement(Gt,{sound_audio:r,sound:e,setSoundFile:l,setReload:s}))}));return c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"sidebar__container"},(o.current||u)&&c.a.createElement(xt.a,{onClick:i,className:0===(null===n||void 0===n||null===(t=n.sound)||void 0===t?void 0:t.length)?"sidebar_add_esset_btn":"sidebar_add_esset_btn_side"}),c.a.createElement("div",null,m)),0===(null===n||void 0===n||null===(a=n.sound)||void 0===a?void 0:a.length)&&c.a.createElement("div",{className:"sidebar_line"}))})),Qt=(a(178),function(e){var t=e.setTag,a=e.tag;return c.a.createElement("div",{className:"tabs"},c.a.createElement("div",{className:"".concat(1===a?"tab is-selected":"tab"),onClick:function(){return t(1)}},"\uce90\ub9ad\ud130"),c.a.createElement("div",{className:"".concat(2===a?"tab is-selected":"tab"),onClick:function(){return t(2)}},"\ubc30\uacbd"),c.a.createElement("div",{className:"".concat(3===a?"tab is-selected":"tab"),onClick:function(){return t(3)}},"\ubc30\uacbd\uc74c\uc545"),c.a.createElement("div",{className:"".concat(4===a?"tab is-selected":"tab"),onClick:function(){return t(4)}},"\ud6a8\uacfc\uc74c"))}),Vt=a(96);a(1163);var Ut=function(e){var t,a,r,l,i,o=e.blobGame,s=e.setBlobGame,m=e.charPageNum,d=e.setCharFileQueue,g=e.setCharBlobList,f=e.uploadFlag,b=Object(n.useState)(""),v=Object(u.a)(b,2),p=v[0],E=v[1],h=Object(n.useState)(""),_=Object(u.a)(h,2),y=_[0],j=_[1],N=Object(n.useState)(0),k=Object(u.a)(N,2),x=k[0],A=k[1],I=Object(n.useRef)(0),S=function(e){s((function(t){return t.character[m.current].name=e.currentTarget.value,t})),A((function(e){return e+1}))},L=function(e){s((function(t){return t.character[m.current].description=e.currentTarget.value,t})),A((function(e){return e+1}))},M=function(e){for(var t=function(){if(!e[a])return O.a.error("10MB \uc774\ud558\uc758 \uc774\ubbf8\uc9c0 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud574\uc8fc\uc138\uc694."),{v:void 0};var t=URL.createObjectURL(e[a]);g((function(e){return[].concat(Object(Le.a)(e),[t])})),"-1"===I.current?(s((function(e){return e.character=[].concat(Object(Le.a)(e.character),[{name:"",description:"",image_array:[t]}]),e})),I.current=o.character.length-1):s((function(e){return e.character[I.current].image_array=[].concat(Object(Le.a)(e.character[I.current].image_array),[t]),e}))},a=0;a<e.length;a++){var n=t();if("object"===typeof n)return n.v}d((function(t){return[].concat(Object(Le.a)(t),[{index:Number(I.current),array:e}])})),A((function(e){return e+1}))};return Object(n.useEffect)((function(){if(o.character&&m.current<o.character.length){E((function(){var e=o.character[m.current].image_array[0];return c.a.createElement("div",null,c.a.createElement("div",{className:"characterTab_profile_image"},c.a.createElement("img",{className:"characterTab_image",src:e,alt:"img"})),c.a.createElement(w.a,null,c.a.createElement("input",{onChange:S,value:o.character[m.current].name,className:"characterTab_profile_name",maxLength:15,placeholder:"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."}),c.a.createElement("textarea",{onChange:L,value:o.character[m.current].description,className:"characterTab_profile_text",maxLength:300,placeholder:"\uc124\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."})))}));var e=o.character[m.current].image_array.map((function(e,t){return c.a.createElement("div",{id:m.current,key:t,className:"characterTab_cards"},c.a.createElement("img",{className:"characterTab_image",src:e,alt:"img"}))}));j(e)}else E(""),j("")}),[x,o]),ze("mousedown",(function(e){for(var t=0;t<e.path.length;t++)if(e.path[t].id)return void(I.current=e.path[t].id)})),c.a.createElement("div",{className:"characterTab-container"},(null===(t=o.character)||void 0===t?void 0:t.length)>0&&(null===(a=o.character)||void 0===a?void 0:a.length)!==m.current&&c.a.createElement("div",null,c.a.createElement("div",null,p),c.a.createElement("div",{className:"characterTab_cards_Box"},y),c.a.createElement("div",{className:"characterTab_char_dropzone",id:m.current},c.a.createElement(Vt.a,{onDrop:M,multiple:!0,maxSize:10485761,accept:"image/*",type:"character",icon:"image",uploadFlag:f})),o.character&&c.a.createElement("div",{className:"characterTab_pagenum"},m.current+1,"/",o.character.length)),(null===(r=o.character)||void 0===r?void 0:r.length)===m.current&&c.a.createElement("div",{className:"characterTab_empty_dropzone",id:-1},c.a.createElement(Vt.a,{onDrop:M,multiple:!0,maxSize:10485761,accept:"image/*",type:"character",icon:"image",uploadFlag:f}),c.a.createElement("div",{className:"characterTab_instruct"},"\uce90\ub9ad\ud130\ub97c \ucd94\uac00\ud574\uc8fc\uc138\uc694")),0!==m.current&&c.a.createElement("div",{className:"characterTab_leftarrow",onClick:function(){m.current--,A((function(e){return e+1}))}},c.a.createElement(C,{src:"arrow_1",width:"50",height:"50",color:"#222831"})),(null===(l=o.character)||void 0===l?void 0:l.length)>0&&(null===o||void 0===o||null===(i=o.character)||void 0===i?void 0:i.length)!==m.current&&c.a.createElement("div",{className:"characterTab_rightarrow",onClick:function(){m.current++,A((function(e){return e+1}))}},c.a.createElement(C,{src:"arrow_1",width:"100%",height:"100%",color:"#222831"})))};a(1164);var Zt=function(e){var t,a=e.gameDetail,r=e.setFileQueue,l=e.setTypeQueue,i=e.setBackBlobList,o=e.backBlobList,s=e.uploadFlag,m=Object(n.useState)(""),d=Object(u.a)(m,2),g=d[0],f=d[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),p=v[0],E=v[1];return Object(n.useEffect)((function(){a.background&&f(a.background.map((function(e,t){return c.a.createElement("div",{className:"backgroundTab_image_box",key:t},c.a.createElement("img",{className:"backgroundTab_image",src:e.image,alt:"img"}))})))}),[a]),Object(n.useEffect)((function(){o&&E(o.map((function(e,t){return c.a.createElement("div",{className:"backgroundTab_image_box",key:t},c.a.createElement("img",{className:"backgroundTab_image",src:e,alt:"img"}))})))}),[o]),c.a.createElement("div",{className:"backgroundTab_container"},c.a.createElement("div",{className:"backgroundTab_dropzone"},c.a.createElement(Vt.a,{onDrop:function(e){for(var t=0;t<e.length;t++){if(!e[t])return void O.a.error("10MB \uc774\ud558\uc758 \uc774\ubbf8\uc9c0 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud574\uc8fc\uc138\uc694.");r((function(a){return[].concat(Object(Le.a)(a),[e[t]])})),l((function(e){return[].concat(Object(Le.a)(e),[1])})),i((function(a){return[].concat(Object(Le.a)(a),[URL.createObjectURL(e[t])])}))}},multiple:!0,maxSize:10485761,accept:"image/*",type:"background",icon:"image",uploadFlag:s})),((null===o||void 0===o?void 0:o.length)>0||(null===(t=a.background)||void 0===t?void 0:t.length)>0)&&c.a.createElement("div",{className:"backgroundTab_Box"},g," ",p))},qt=(a(581),new Audio);qt.loop=!0;var Yt=function(e){var t=e.gameDetail,a=e.setFileQueue,r=e.setTypeQueue,l=e.setBgmBlobList,i=e.bgmBlobList,o=e.setBgmBlobNames,s=e.bgmBlobNames,m=e.uploadFlag,d=Object(n.useState)([]),g=Object(u.a)(d,2),f=g[0],b=g[1],v=Object(n.useState)([]),p=Object(u.a)(v,2),E=p[0],h=p[1],_=Object(n.useState)(0),y=Object(u.a)(_,2),j=y[0],N=y[1];return Object(n.useEffect)((function(){t.bgm&&b(t.bgm.map((function(e,t){var a=qt.src.lastIndexOf("/")+1,n=decodeURI(qt.src.substr(a));return c.a.createElement("div",{className:"bgmTab_text_box ".concat(n===e.music.substr(a)),key:t,onClick:function(){qt.paused||n!==e.music.substr(a)?(qt.src=e.music,qt.play()):(qt.src="",qt.pause()),N((function(e){return e+1}))}},e.name)})))}),[t,j]),Object(n.useEffect)((function(){i&&h(i.map((function(e,t){return c.a.createElement("div",{className:"bgmTab_text_box ".concat(qt.src===e),key:t,onClick:function(){qt.paused||qt.src!==e?(qt.src=e,qt.play()):(qt.src="",qt.pause()),N((function(e){return e+1}))}},s[t].name)})))}),[i,j]),Object(n.useEffect)((function(){return function(){qt.pause(),qt.src=""}}),[]),c.a.createElement("div",{className:"bgmTab_container"},c.a.createElement("div",{className:"bgmTab_dropzone"},c.a.createElement(Vt.a,{onDrop:function(e){e.length||O.a.error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ud30c\uc77c\uc785\ub2c8\ub2e4. 10MB \uc774\ud558\uc758 \uc74c\uc6d0 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud574\uc8fc\uc138\uc694.");for(var t=0;t<e.length;t++){if(!e[t])return void O.a.error("10MB \uc774\ud558\uc758 \uc74c\uc6d0 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud574\uc8fc\uc138\uc694.");a((function(a){return[].concat(Object(Le.a)(a),[e[t]])})),r((function(e){return[].concat(Object(Le.a)(e),[2])})),o((function(a){return[].concat(Object(Le.a)(a),[e[t]])})),l((function(a){return[].concat(Object(Le.a)(a),[URL.createObjectURL(e[t])])}))}},multiple:!0,maxSize:10485761,accept:"audio/*",type:"bgm",icon:"audio",uploadFlag:m})),((null===t||void 0===t?void 0:t.bgm.length)>0||(null===i||void 0===i?void 0:i.length)>0)&&c.a.createElement("div",{className:"bgmTab_Box"},0!==f&&c.a.createElement("div",null,f),0!==E&&c.a.createElement("div",null,E)))},Ht=new Audio;var Xt=function(e){var t=e.gameDetail,a=e.setFileQueue,r=e.setTypeQueue,l=e.setSoundBlobList,i=e.soundBlobList,o=e.setSoundBlobNames,s=e.soundBlobNames,m=e.uploadFlag,d=Object(n.useState)([]),g=Object(u.a)(d,2),f=g[0],b=g[1],v=Object(n.useState)([]),p=Object(u.a)(v,2),E=p[0],h=p[1],_=Object(n.useState)(0),y=Object(u.a)(_,2),j=y[0],N=y[1];return Object(n.useEffect)((function(){t.sound&&b(t.sound.map((function(e,t){var a=Ht.src.lastIndexOf("/")+1,n=decodeURI(Ht.src.substr(a));return c.a.createElement("div",{className:"bgmTab_text_box ".concat(n===e.music.substr(a)),key:t,onClick:function(){Ht.paused||n!==e.music.substr(a)?(Ht.src=e.music,Ht.play()):(Ht.src="",Ht.pause()),N((function(e){return e+1}))}},e.name)})))}),[t,j]),Object(n.useEffect)((function(){i&&h(i.map((function(e,t){return c.a.createElement("div",{className:"bgmTab_text_box ".concat(Ht.src===e),key:t,onClick:function(){Ht.paused||Ht.src!==e?(Ht.src=e,Ht.play()):(Ht.src="",Ht.pause()),N((function(e){return e+1}))}},s[t].name)})))}),[i,j]),Object(n.useEffect)((function(){return function(){Ht.pause(),Ht.src=""}}),[]),c.a.createElement("div",{className:"bgmTab_container"},c.a.createElement("div",{className:"bgmTab_dropzone"},c.a.createElement(Vt.a,{onDrop:function(e){for(var t=0;t<e.length;t++){if(!e[t])return void O.a.error("10MB \uc774\ud558\uc758 \uc74c\uc6d0 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud574\uc8fc\uc138\uc694.");a((function(a){return[].concat(Object(Le.a)(a),[e[t]])})),r((function(e){return[].concat(Object(Le.a)(e),[3])})),o((function(a){return[].concat(Object(Le.a)(a),[e[t]])})),l((function(a){return[].concat(Object(Le.a)(a),[URL.createObjectURL(e[t])])}))}},multiple:!0,maxSize:10485761,accept:"audio/*",type:"sound",icon:"audio",uploadFlag:m})),((null===t||void 0===t?void 0:t.sound.length)>0||(null===i||void 0===i?void 0:i.length)>0)&&c.a.createElement("div",{className:"bgmTab_Box"},0!==f&&c.a.createElement("div",null,f),0!==E&&c.a.createElement("div",null,E)))},Kt=a(380),Wt=a.n(Kt),Jt=(a(85),function(e){var t=e.gameDetail,a=e.gameId,r=e.visible,l=e.setTag,i=e.tag,o=e.setReload,s=Object(n.useState)([]),m=Object(u.a)(s,2),d=m[0],g=m[1],f=Object(n.useState)([]),v=Object(u.a)(f,2),p=v[0],E=v[1],h=Object(n.useState)([]),_=Object(u.a)(h,2),y=_[0],j=_[1],N=Object(n.useState)([]),k=Object(u.a)(N,2),x=k[0],w=k[1],I=Object(n.useState)([]),S=Object(u.a)(I,2),C=S[0],L=S[1],M=Object(n.useState)([]),T=Object(u.a)(M,2),D=T[0],B=T[1],F=Object(n.useState)([]),P=Object(u.a)(F,2),R=P[0],G=P[1],z=Object(n.useState)([]),Q=Object(u.a)(z,2),V=Q[0],U=Q[1],Z=Object(n.useRef)(0),q=Object(n.useState)([]),Y=Object(u.a)(q,2),H=Y[0],X=Y[1],K=Object(n.useState)([]),W=Object(u.a)(K,2),J=W[0],$=W[1];Object(n.useEffect)((function(){t&&U(Wt.a.cloneDeep(t))}),[t]);var ee=function(){J.forEach((function(e){e&&URL.revokeObjectURL(e)})),y.forEach((function(e){e&&URL.revokeObjectURL(e)})),x.forEach((function(e){e&&URL.revokeObjectURL(e)})),D.forEach((function(e){e&&URL.revokeObjectURL(e)}))},te=Object(n.useRef)(!1),ae=Object(n.useState)(!1),ne=Object(u.a)(ae,2),ce=(ne[0],ne[1]),re=function(){var e,t;H.length?function(){var a=Array.from({length:V.character.length},(function(){return 0})),n=new FormData;for(e=0;e<V.character.length;e++)for(t=0;t<H.length;t++)H[t].index===e&&(a[e]+=H[t].array.length,H[t].array.forEach((function(e){n.append("files",e)})));b.a.post("/api/game/uploadfile",n,{header:{encrpyt:"multipart/form-data"}}).then((function(e){e.data.success?le(a,e.data.files):alert("\uce90\ub9ad\ud130 DB \uc5c5\ub85c\ub4dc \uc2e4\ud328")}))}():le(null,null)},le=function(e,n){for(var c=0,r=0;r<V.character.length;r++)if(t.character[r]||t.character.push({name:"",description:"",image_array:[]}),t.character[r].name=V.character[r].name,t.character[r].description=V.character[r].description,e){for(var i=c;i<c+e[r];i++)t.character[r].image_array.push(n[i].location);c+=e[r]}var s={gameId:a,character:t.character};b.a.post("/api/game/putCharDB",s).then((function(e){e.data.success?d.length||(o((function(e){return e+1})),l(0)):O.a.error("DB \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328")}))},ie=function(){var e=new FormData;d.forEach((function(t){e.append("files",t)}));b.a.post("/api/game/uploadfile",e,{header:{encrpyt:"multipart/form-data"}}).then((function(e){e.data.success?oe(e.data.files):alert("\uc5c5\ub85c\ub4dc \uc2e4\ud328")}))},oe=function(e){for(var t={gameId:a,background:[],bgm:[],sound:[]},n=0;n<e.length;n++)switch(p[n]){case 1:t.background.push({name:e[n].originalname,image:e[n].location});break;case 2:t.bgm.push({name:e[n].originalname,music:e[n].location});break;case 3:t.sound.push({name:e[n].originalname,music:e[n].location});break;default:O.a.error("\uc815\uc758\ub418\uc9c0 \uc54a\uc740 \uc5c5\ub85c\ub4dc \ubc84\ud2bc\uc785\ub2c8\ub2e4.")}b.a.post("/api/game/putDB",t).then((function(e){e.data.success?(o((function(e){return e+1})),l(0)):O.a.error("DB \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328")}))};return c.a.createElement(A.a,{className:"scenemake_essetmodal",visible:r,okText:"\uc5c5\ub85c\ub4dc",cancelText:"\ucde8\uc18c",onCancel:function(){ee(),l(0)},onOk:function(){te.current||(ce(!0),te.current=!0,ee(),re(),d.length&&ie())},closable:!1,keyboard:!1,maskClosable:!1},c.a.createElement("div",{className:"sceenmake_essetmodal_container"},c.a.createElement(Qt,{setTag:l,tag:i}),1===i&&c.a.createElement(Ut,{blobGame:V,setBlobGame:U,charPageNum:Z,setCharFileQueue:X,setCharBlobList:$,uploadFlag:te}),2===i&&c.a.createElement(Zt,{gameDetail:t,setFileQueue:g,setTypeQueue:E,setBackBlobList:j,backBlobList:y,uploadFlag:te}),3===i&&c.a.createElement(Yt,{gameDetail:t,setFileQueue:g,setTypeQueue:E,setBgmBlobList:w,bgmBlobList:x,setBgmBlobNames:L,bgmBlobNames:C,uploadFlag:te}),4===i&&c.a.createElement(Xt,{gameDetail:t,setFileQueue:g,setTypeQueue:E,setSoundBlobList:B,soundBlobList:D,setSoundBlobNames:G,soundBlobNames:R,uploadFlag:te})))}),$t=a(280),ea=function(e){var t=e.isEnding,a=e.visible,r=e.setEndingModalState,l=e.onSubmit_saveScene,i=Object(n.useState)(!1),o=Object(u.a)(i,2),s=o[0],m=o[1],d=function(){r(!1)};return c.a.createElement(A.a,{className:"ending_modal",title:"\uc9c4\ud589\ubc29\uc2dd \uc120\ud0dd",visible:a,onCancel:d,closable:!1,footer:null},c.a.createElement("div",{className:"ending_modal_cancel_btn",onClick:d},"X"),c.a.createElement("div",{className:"ending_modal_choice_btn",onClick:function(e){e.preventDefault(),t.current=!1,l(),r(!1)}},c.a.createElement("div",{className:"ending_modal_choice_container"},c.a.createElement(L,null),c.a.createElement("div",{className:"ending_modal_description"},"\ub2e4\ub978 \uc0ac\ub78c\uc774 \ud574\ub2f9 \ucef7\uc5d0\uc11c \uacc4\uc18d \uc774\uc57c \uae30\ub97c \uc9c4\ud589\ud574 \ub098\uac08 \uc218 \uc788\uac8c \uc120\ud0dd\uc9c0\uac00 \ub124 \uac1c \uc81c\uacf5\ub429\ub2c8\ub2e4")),"\uc774\uc5b4 \uac00\uae30"),c.a.createElement("div",{className:"ending_modal_choice_btn",onClick:function(){return m(!0)}},c.a.createElement("div",{className:"ending_modal_choice_container"},c.a.createElement(M,null),c.a.createElement("div",{className:"ending_modal_description"},"\ud574\ub2f9 \ucef7\uc774 \uc774\uc57c\uae30 \uc758 \ub9c8\uc9c0\ub9c9\uc774 \ub418\uba70 \ub2e4\ub978 \uc0ac\uc6a9\uc790\ub294 \ub354 \uc774\uc0c1 \uc774\uc57c\uae30\ub97c \ub367 \ubd99\uc77c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")),"\uc5d4\ub529"),c.a.createElement(A.a,{visible:s,onOk:function(e){e.preventDefault(),t.current=!0,l()},onCancel:function(){return m(!1)},centered:!0,closable:!1,width:650,bodyStyle:{height:"170px",display:"flex"},okText:"\ud655\uc778",cancelText:"\ucde8\uc18c"},c.a.createElement("div",{className:"ending_modal_warning_sign"},c.a.createElement("svg",{color:"#faad14",viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"exclamation-circle",width:"20px",height:"20px",fill:"currentColor","aria-hidden":"true"},c.a.createElement("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),c.a.createElement("path",{d:"M464 688a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}))),c.a.createElement("div",{className:"ending_modal_warning_textarea"},c.a.createElement("h2",null,"\uc8fc\uc758!"),c.a.createElement("br",null),c.a.createElement("h3",null,"\uc5d4\ub529\uc73c\ub85c \uc5c5\ub85c\ub4dc \ub429\ub2c8\ub2e4."),c.a.createElement("h3",null,"\ub530\ub77c\uc11c \uc774 \uc774\uc57c\uae30 \uc774\ud6c4\uc5d0 \ub2e4\ub978 \uc791\uac00\uac00 \ub354\uc774\uc0c1 \uc774\uc57c\uae30\ub97c \uc774\uc5b4\uac08 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))))},ta=(a(1165),{}),aa=function(e,t,a,n){e in ta||(ta[e]={}),t in ta[e]||(ta[e][t]=[]),ta[e][t].push([a,n]),e.addEventListener(t,a,n)},na=function(e,t){if(e in ta){var a=ta[e];if(t in a)for(var n=a[t],c=n.length;c--;){var r=n[c];e.removeEventListener(t,r[0],r[1])}}};var ca=Object(n.memo)((function(e){var t=Object(E.b)(),a=Object(E.c)((function(e){return e.character.CharacterList})),r=e.charSchema,l=e.GameCharacterList,i=e.index,o=e.setName,s=Object(n.useRef)(),m=Object(n.useRef)(),d=Object(n.useState)(!0),g=Object(u.a)(d,2),f=g[0],b=(g[1],Object(n.useState)(!0)),v=Object(u.a)(b,2),p=v[0],h=v[1],_=Object(n.useState)(!1),y=Object(u.a)(_,2),O=y[0],j=y[1],N=Object(n.useState)(0),k=Object(u.a)(N,2),x=k[0],A=k[1],w=Object(n.useState)(96),I=Object(u.a)(w,2),S=I[0],C=I[1],L=document.getElementById("backgroundImg_container"),M=[0,0],T=!1;function D(e,a){var n;L&&e.target===e.currentTarget&&("mouse"===a?(aa(L,"mousemove",(function(e){B(e,"mouse")}),!1),aa(L,"mouseup",F,!1),M=[e.pageX,e.pageY]):(aa(L,"touchmove",(function(e){B(e,"touch")}),!1),aa(L,"touchend",F,!1),M=[e.changedTouches[0].clientX,e.changedTouches[0].clientY]),T=!0,t(St(Object(Ce.a)(Object(Ce.a)({},l[r.index]),{},{index:r.index}))),C(97),o(null===(n=l[r.index])||void 0===n?void 0:n.name),e.cancelable&&e.preventDefault())}function B(e,t){if(e.cancelable){var a;if(a="mouse"===t?[e.pageX,e.pageY]:[e.changedTouches[0].clientX,e.changedTouches[0].clientY],T&&f&&p){if(M[0]-a[0]>3||M[1]-a[1]>3||M[0]-a[0]<-3||M[1]-a[1]<-3){var n=L.offsetWidth,c=L.offsetHeight,r=Number(s.current.style.left.replace(/%/g,"")),l=Number(m.current.style.top.replace(/%/g,"").replace(/px/g,"")),o=r+100*(a[0]-M[0])/n,u=l+100*(a[1]-M[1])/c;s.current.style.left=String(o)+"%",m.current.style.top=String(u)+"%",M=a}}else if(T&&f&&O&&(M[0]-a[0]>7||M[0]-a[0]<-7)){var d=document.getElementById("".concat(i)).offsetWidth,g=Number(m.current.style.height.replace(/%/g,"")),b=0;(b=(M[0],a[0],g*(d-1*(M[0]-a[0]))/d))>20&&(m.current.style.height=String(b)+"%"),M=a}A(document.getElementById("".concat(i)).offsetWidth),e.stopPropagation(),e.preventDefault()}}Object(n.useEffect)((function(){if(L)return A(document.getElementById("".concat(i)).offsetWidth),function(){na(L,"mousemove"),na(L,"mouseup"),na(L,"touchmove"),na(L,"touchend")}}),[a]);var F=function(e){na(L,"mousemove"),na(L,"mouseup"),na(L,"touchmove"),na(L,"touchend");var n={oldArray:a,data:{posX:Number(s.current.style.left.replace(/%/g,"")),posY:Number(m.current.style.top.replace(/%/g,"").replace(/px/g,"")),size:Number(m.current.style.height.replace(/%/g,""))},index:i};t(Mt(n)),M=[e.pageX,e.pageY],T=!1,j(!1),h(!0),C(96),t(Dt({oldArray:a?Mt(n).payload:null,index:r.index,num:"pull"}))},P=function(e){t(Dt({oldArray:a,index:r.index,num:e}))};return c.a.createElement("div",{ref:s,key:i,className:"CharacterBlock",style:{left:"".concat(r.posX,"%"),zIndex:"".concat(S)}},c.a.createElement("div",{ref:m,className:"character__container",style:{height:"".concat(r.size,"%"),top:"".concat(r.posY,"%")}},c.a.createElement("img",{className:r.reverse?"characterImg_clicked reverse":"characterImg_clicked",id:"".concat(i),src:r.image,alt:"img",onMouseDown:function(e){D(e,"mouse")},onTouchStart:function(e){D(e,"touch")}}),x&&c.a.createElement(c.a.Fragment,null,c.a.createElement(le.a,{icon:ie.o,className:"bttn btn_character_delete",style:{left:"".concat(x-17,"px")},onClick:function(e){e.stopPropagation(),t(Ct({oldArray:a,index:r.index}))}}),c.a.createElement(le.a,{icon:ie.a,className:"bttn btn_character_Doubledown",style:{left:"".concat(x-34,"px")},onClick:function(e){P("double")}}),c.a.createElement(le.a,{icon:ie.b,className:"bttn btn_character_down",style:{left:"".concat(x-51,"px")},onClick:function(e){P("")}}),c.a.createElement(le.a,{icon:ie.c,className:"bttn btn_character_down",style:{left:"".concat(x-75,"px")},onClick:function(e){t(function(e){for(var t,a=e.oldArray,n=e.index,c=0;c<a.length;c++)if(a[c].index===n){a[c].reverse=Math.abs(a[c].reverse-1),t=Object(Le.a)(a);break}return{type:"pop_character",payload:t}}({oldArray:a,index:r.index}))}}),c.a.createElement("div",{className:"".concat(O?"bttn btn_sizing_clicked":"bttn btn_sizing"),onMouseOver:function(e){h(!1),j(!0),e.stopPropagation()},onMouseOut:function(e){h(!0),j(!1),e.stopPropagation()},onMouseDown:function(e){D(e,"mouse")},style:{left:"".concat(x-3,"px")}}))))})),ra=(a(1166),Object(n.memo)((function(e){var t=e.GameCharacterList,a=e.setName,n=Object(E.c)((function(e){return e.character.CharacterList})),r=null===n||void 0===n?void 0:n.map((function(e,n){return c.a.createElement("div",{key:e.index},c.a.createElement(ca,{GameCharacterList:t,index:n,charSchema:e,setName:a}))}));return(null===n||void 0===n?void 0:n.length)>0&&c.a.createElement("div",{className:"CharacterBlocks",id:"CharacterBlocks"},r)})));a(1167);var la=Object(n.memo)((function(e){var t,a=e.setName,n=e.character,r=e.GameCharacterList,l=Object(E.b)(),i=Object(E.c)((function(e){return e.character.CharacterList})),o=(null===i||void 0===i||i.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("div",{className:"characterList_Info",onClick:function(){!function(e){a(r[e].name),l(St(Object(Ce.a)(Object(Ce.a)({},r[e]),{},{index:e})))}(e.index)}},c.a.createElement("img",{src:null===e||void 0===e?void 0:e.image,alt:"",className:"characterList_image_height"})),c.a.createElement("div",null,null===e||void 0===e?void 0:e.name,"\uc774\ub984 \uc0ad\uc81c"))})),null===n||void 0===n||null===(t=n.image_array)||void 0===t?void 0:t.map((function(e,t){var r=(null===i||void 0===i?void 0:i.some((function(t){return t.image===e})))?"selected":"";return c.a.createElement("div",{key:t,className:"image_array__box ".concat(r),onClick:function(){!function(e,t){var c={index:n.index,image:t,posX:30,posY:15,reverse:0,size:90};l(Lt({oldArray:i,characterSchema:c})),a(null===n||void 0===n?void 0:n.name)}(0,e)}},c.a.createElement("img",{src:e,id:t,className:"image_array_image",alt:""}))})));return c.a.createElement("div",{className:"image_array__container"},o)}));a(1168);var ia=Object(n.memo)((function(e){var t=e.GameCharacterList,a=e.setName,r=Object(E.b)(),l=Object(E.c)((function(e){return e.character.CharacterList})),i=Object(E.c)((function(e){return e.character}));h((function(){r({type:"detach_character"})}));var o=Object(n.useState)(!1),s=Object(u.a)(o,2),m=(s[0],s[1]);return Object(n.useEffect)((function(){for(var e=0,t=0;t<(null===l||void 0===l?void 0:l.length);t++)if(l[t].index===i.characterSelected.index){e=1;break}m(1===e)}),[i,l]),c.a.createElement("div",null,c.a.createElement(la,{setName:a,GameCharacterList:t,character:i.characterSelected}))}));a(582),a(1169);var oa=Object(n.memo)((function(e){var t=e.CutList,a=e.CutNumber,n=e.displayCut,r=e.setCutNumber,l=e.Hover,i=(e.setHover,e.EmptyCutList),o=e.saveCut,s=e.onClick_plusBtn,u=e.onRemove_cut,m=function(e){if(a>29)return n(e),void r(e);a!==e&&(o(),n(e),r(e))},d=t.map((function(e,t){return a===t?c.a.createElement("div",{className:"scene__SceneBox",key:"".concat(t)},c.a.createElement("div",{className:"scene__CurrentSceneBox"})):l?c.a.createElement("div",{className:"scene__SceneBox",key:"".concat(t),onMouseOver:function(){return m(t)}}):c.a.createElement("div",{className:"scene__SceneBox",key:"".concat(t),onClick:function(){return m(t)}},c.a.createElement("div",{className:"scene__SceneBox_color"}))})),g=i.map((function(e,n){return a-t.length!==n?0===n||1===n&&a-t.length===0?c.a.createElement("div",{className:"scene__SceneBox",onClick:s,key:"".concat(n)},c.a.createElement("div",{className:"sceneBox_plus"},c.a.createElement("div",{className:"sceneBox_plus_horizonal"}),c.a.createElement("div",{className:"sceneBox_plus_vertical"}))):c.a.createElement("div",{className:"scene__SceneBox",key:"".concat(n)},c.a.createElement("div",{className:"scene__EmptySceneBox"})):0===n?c.a.createElement("div",{className:"scene__SceneBox",key:"".concat(n)},c.a.createElement("div",{className:"scene__CurrentSceneBox"})):void 0}));return c.a.createElement("div",{className:"sceneBox"},c.a.createElement("div",{className:30===t.length||a+1===30?"sceneBox_cutnumber max":"sceneBox_cutnumber"},a-t.length===0||a-t.length===-1?"".concat(a+1,"/30"):"".concat(a+1,"/").concat(t.length)),d,g,c.a.createElement("div",{className:"sceneBox_del_btn",onClick:u},"\ucef7 \uc0ad\uc81c"))})),sa=a(604),ua=a.n(sa),ma=a(1227),da=a(1256),ga=a(1257),fa=(a(1175),a(221),a(1253));a(1176);var ba=Object(n.memo)((function(e){var t=e.audio,a=e.volume,n=e.setVolume,r=e.muted,l=e.setMuted,i=e.tempVolume,o=function(e,a){n(a),l(0===a),t.volume=a};return c.a.createElement("div",{className:"volumeController_container"},c.a.createElement("div",{className:"volumeController_icon_container",onClick:function(){r?(l(!1),o(null,i.current)):(i.current=a,l(!0),o(null,0))}},r?c.a.createElement(vt.a,{className:"volumeController_icon"}):c.a.createElement(ft.a,{className:"volumeController_icon"})),c.a.createElement("div",{className:"volumeController_slide"},c.a.createElement(fa.a,{min:0,max:1,step:.02,value:a,onChange:o})))}));a(1177);var va=function(){return c.a.createElement("div",{className:"portraitWarning"},"\uc544\uc9c1 \uc138\ub85c \ud654\uba74\uc740 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",c.a.createElement("p",null),"\uac00\ub85c \ud654\uba74\uc73c\ub85c \uc990\uaca8\uc8fc\uc2dc\uba74 \uac10\uc0ac\ud558\uaca0\uc2b5\ub2c8\ub2e4. ",c.a.createElement($.a,{type:"smile"}))},pa=new Audio;pa.loop=!0,pa.volume=.5;var Ea=new Audio;Ea.volume=.5;var ha=a(85),_a=function(e){var t,a,r,l=Object(n.useState)(window.matchMedia("(orientation: portrait)").matches),i=Object(u.a)(l,2),d=i[0],g=i[1],f=function(){window.matchMedia("(orientation: portrait)").matches!==d&&g(window.matchMedia("(orientation: portrait)").matches)};Object(n.useEffect)((function(){return window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}}),[d]);var v=Object(n.useRef)(!1);window.matchMedia("(pointer: coarse)").matches&&(v.current=!0),Object(n.useLayoutEffect)((function(){var e=document.getElementById("root").getElementsByClassName("footer-container");e[0]&&e[0].remove(),document.getElementById("menu").className+=" isMake"}),[]),Object(n.useEffect)((function(){if(v.current){var e=function(e){if("TEXTAREA"===e.target.tagName||"INPUT"===e.target.tagName){if("actorTab_profile_text"===e.target.className.split(" ")[0])return;"180%"!==document.body.style.zoom&&(document.body.style.zoom="180%")}else"100%"!==document.body.style.zoom&&(document.body.style.zoom="100%")};return document.addEventListener("mousedown",e),function(t){document.removeEventListener("mousedown",e)}}}),[]);var p=Object(E.b)(),h=Object(m.f)(),_=Object(m.g)(),y=_.state,j=y.gameId,N=y.sceneId;void 0===_.state&&window.history.back();var k,x=Object(E.c)((function(e){return e.user})),A=Object(E.c)((function(e){return e.character.CharacterList})),w=Object(n.useState)(window.innerWidth),I=Object(u.a)(w,2),S=I[0],L=I[1],M=Object(n.useState)(window.innerHeight),T=Object(u.a)(M,2),D=T[0],B=T[1],F=Object(n.useState)({}),P=Object(u.a)(F,2),R=(P[0],P[1]),G=Object(n.useState)(0),z=Object(u.a)(G,2),Q=z[0],V=z[1],U=Object(n.useState)(!1),Z=Object(u.a)(U,2),q=Z[0],H=Z[1],X=Object(n.useState)(!1),K=Object(u.a)(X,2),W=K[0],J=K[1],$=Object(n.useState)(!1),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(0),ce=Object(u.a)(ne,2),re=ce[0],le=ce[1],ie=Object(n.useState)(!0),oe=Object(u.a)(ie,2),se=oe[0],ue=(oe[1],Object(n.useState)("".concat(ha.STORAGE,"/uploads/defaultBackground.png"))),me=Object(u.a)(ue,2),de=me[0],ge=me[1],fe=Object(n.useState)(""),be=Object(u.a)(fe,2),ve=be[0],pe=be[1],Ee=Object(n.useState)(""),he=Object(u.a)(Ee,2),_e=he[0],ye=he[1],Oe=Object(n.useState)(""),je=Object(u.a)(Oe,2),Ne=je[0],ke=je[1],xe=Object(n.useState)(null),Ae=Object(u.a)(xe,2),we=(Ae[0],Ae[1]),Ie=Object(n.useState)({name:"",music:""}),Se=Object(u.a)(Ie,2),Ce=Se[0],Me=Se[1],De=Object(n.useState)({name:"",music:""}),Be=Object(u.a)(De,2),Pe=Be[0],Re=Be[1],Ge=Object(n.useRef)(!1),ze=Object(n.useState)(0),Qe=Object(u.a)(ze,2),Ve=Qe[0],Ue=Qe[1],Ze=Object(n.useState)(0),qe=Object(u.a)(Ze,2),Ye=qe[0],Xe=qe[1],Ke=Object(n.useState)(!1),We=Object(u.a)(Ke,2),Je=We[0],$e=We[1],et=Object(n.useState)([]),tt=Object(u.a)(et,2),at=tt[0],nt=tt[1],ct=Object(n.useState)(Array.from({length:30},(function(){return 0}))),rt=Object(u.a)(ct,2),lt=rt[0],it=rt[1],st=Object(n.useRef)(!1);!function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),c=a[0],r=a[1];c||(e(),r(!0))}((function(){p(Tt({CharacterList:[]}))})),Object(n.useEffect)((function(){p(Y(!1))}),[]),Object(n.useEffect)((function(){var t,a,n,c;x.userData&&(cn.emit("leave room",{room:null===(t=x.userData)||void 0===t||null===(a=t._id)||void 0===a?void 0:a.toString()}),cn.emit("room",{room:null===(n=x.userData)||void 0===n||null===(c=n._id)||void 0===c?void 0:c.toString()}));return cn.on("timeout_making",(function(t){e.history.replace("/")})),function(){cn.off("timeout_making")}}),[x]);var ut=Object(n.useRef)(null),mt=Object(n.useRef)(null);Object(n.useEffect)((function(){Object(s.a)(o.a.mark((function t(){var a,n,c,r,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("/api/game/getSceneInfo/".concat(N));case 2:return a=t.sent,t.next=5,b.a.post("/api/game/scene/validate",{sceneId:N,gameId:j,isMaking:!0});case 5:if(n=t.sent,!a.data.success||!n.data.success){t.next=11;break}k=a.data.scene,ut.current=a.data.creator,t.next=14;break;case 11:return O.a.error("\ub2e4\ub978 \uc2a4\ud1a0\ub9ac \uac10\uc0c1 \uc2dc\ub3c4\ub97c \uac10\uc9c0\ud558\uc600\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),e.history.replace("/"),t.abrupt("return");case 14:mt.current=k.theme,we(k.writer),c=new Date(k.createdAt).getTime()+36e5,Ue(c),ye(k.title),k.cutList.length?(k.isFirst&&(Ge.current=!0),it(Array.from({length:30-k.cutList.length},(function(){return 0}))),nt(k.cutList),r=k.cutList[0],p(Tt({CharacterList:Object(Le.a)(r.characterList)})),ge(r.background),ke(r.name),pe(r.script),Xe(k.cutList.length-1),p(Fe(0)),p(Fe(1))):k.isFirst?Ge.current=!0:(l={sceneId:k.prevSceneId},b.a.post("/api/scene/scenedetail",l).then((function(e){if(e.data.success){var t=e.data.lastCut;p(Tt({CharacterList:t.characterList})),ge(t.background),ke(t.name),p(Fe(0)),p(Fe(1))}else O.a.error("\uc774\uc804 Scene\uc758 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))),le((function(e){return e+1}));case 21:case"end":return t.stop()}}),t)})))()}),[]);var dt=Object(n.useRef)(),gt=Object(n.useRef)(),ft=Object(n.useRef)(),bt=Object(n.useRef)(),vt=Object(n.useRef)(),pt=Object(n.useRef)(),Et=function(e){ht(),e.current.style.display="block"},ht=function(){dt.current.style.display="none",gt.current.style.display="none",ft.current.style.display="none",bt.current.style.display="none"},_t=Object(n.useRef)(1),Ot=function(){"none"===ft.current.style.display&&(Et(ft),le((function(e){return e+1})),_t.current=3)},jt=function(){"none"===bt.current.style.display&&(Et(bt),le((function(e){return e+1})),_t.current=4)},Nt=function(){pa.src&&pa.paused?pa.play():pa.pause(),le((function(e){return e+1})),Ot()};Object(n.useEffect)((function(){return pa.addEventListener("ended",(function(){return le((function(e){return e+1}))})),Ea.addEventListener("ended",(function(){return le((function(e){return e+1}))})),function(){pa.addEventListener("ended",(function(){return le((function(e){return e+1}))})),Ea.removeEventListener("ended",(function(){return le((function(e){return e+1}))}))}}),[]);var kt=function(){Ea.src&&Ea.paused?Ea.play():Ea.pause(),le((function(e){return e+1})),jt()};Te("Enter",(function(e){(null===vt||void 0===vt?void 0:vt.current)&&(pt.current===document.activeElement?vt.current.focus():vt.current===document.activeElement&&vt.current?wt(e):vt.current.focus())}));var xt=function(){var e={characterList:A,background:de,script:ve,name:Ne,bgm:Ce,sound:Pe};Re({name:"",music:""}),nt((function(t){return[].concat(Object(Le.a)(t.slice(0,Ye)),[e],Object(Le.a)(t.slice(Ye+1,31)))})),at.length===Ye&&it((function(e){return Object(Le.a)(e.slice(0,lt.length-1))}))},At=function(e){var t,a,n,c,r,l,i,o,s;if(p(Tt({CharacterList:null===(t=at[e])||void 0===t?void 0:t.characterList})),ge(null===(a=at[e])||void 0===a?void 0:a.background),pe(null===(n=at[e])||void 0===n?void 0:n.script),ke(null===(c=at[e])||void 0===c?void 0:c.name),Me(null===(r=at[e])||void 0===r?void 0:r.bgm),Re(null===(l=at[e])||void 0===l?void 0:l.sound),null===(i=at[e])||void 0===i?void 0:i.bgm.music){var u,m=pa.src.lastIndexOf("/")+1;if(pa.src.substr(m)!==at[e].bgm.music.substr(m))pa.src=null===(u=at[e])||void 0===u?void 0:u.bgm.music,pa.play()}else pa.pause();(null===(o=at[e])||void 0===o?void 0:o.sound.music)?(Ea.src=null===(s=at[e])||void 0===s?void 0:s.sound.music,Ea.play()):Ea.pause()},wt=function(e){e.preventDefault(),Ye>=29?O.a.error("\ub354\uc774\uc0c1 Cut\uc744 \uc0dd\uc131\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):(24===Ye&&O.a.warning("\uc0dd\uc131 \uac00\ub2a5\ud55c Cut\uc774 5\uac1c \ub0a8\uc558\uc2b5\ub2c8\ub2e4."),xt(),Ye<at.length-1?At(Ye+1):(nt((function(e){return e})),p(Tt({CharacterList:A.length?Object(Le.a)(A):[]})),pe("")),Xe((function(e){return e+1})),v.current||vt.current.focus())},St=function(){b.a.post("/api/treedata/").then((function(e){}))},Lt=Object(n.useRef)(!1),Mt=Object(n.useRef)(!1),Dt=function(){var t=Object(s.a)(o.a.mark((function t(a){var n,c,r,l,i,s=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:0,!(at.length<1||1===at.length&&at[Ye])){t.next=4;break}return O.a.error("\ucd5c\uc18c 2\uac1c\uc758 \ucef7\uc744 \uc0dd\uc131\ud574\uc8fc\uc138\uc694."),t.abrupt("return");case 4:if(!st.current){t.next=6;break}return t.abrupt("return");case 6:if(pa.pause(),c={characterList:A,background:de,script:ve,name:Ne,bgm:Ce,sound:Pe},r=[].concat(Object(Le.a)(at.slice(0,Ye)),[c],Object(Le.a)(at.slice(Ye+1,31))),!(n||Lt.current||window.confirm("\uc2a4\ud1a0\ub9ac \uc81c\uc791\uc744 \uc644\ub8cc\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))){t.next=37;break}return Mt.current=!0,le((function(e){return e+1})),O.a.loading("\ub370\uc774\ud130 \uc804\uc1a1 \uc911...",2),l={cutList:r,isEnding:Lt.current,gameId:j,sceneId:N,isTmp:n},n||(st.current=!0),t.next=17,b.a.post("/api/scene/save",l);case 17:if(!(i=t.sent).data.success){t.next=24;break}St(),p({type:"detach_character"}),O.a.loading(n?"\uc784\uc2dc \uc800\uc7a5 \uc911...":"\uac8c\uc784 \uc5c5\ub85c\ub4dc \uc911...",1).then((function(){n?O.a.success("\uc784\uc2dc \uc800\uc7a5 \uc644\ub8cc."):O.a.success("\uc2a4\ud1a0\ub9ac \uc81c\uc791\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",1)})).then((function(){if(!n&&Ge.current)h.replace("/game/".concat(j));else if(!n){var e;cn.emit("final_submit",{prevSceneId:i.data.scene.prevSceneId,sceneId:i.data.scene._id,title:i.data.scene.title,userId:null===(e=x.userData._id)||void 0===e?void 0:e.toString()}),h.replace({pathname:"/gameplay",state:{sceneId:i.data.scene._id,gameId:j}})}})),t.next=35;break;case 24:if("expired"!==i.data.msg){t.next=32;break}return O.a.error("\uc81c\uc791 \uc720\ud6a8\uae30\uac04\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4..",1),Mt.current=!1,le((function(e){return e+1})),e.history.replace({pathname:"/gameplay",state:{sceneId:i.data.prevSceneId,gameId:j}}),t.abrupt("return");case 32:O.a.error("DB\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4."),Mt.current=!1,le((function(e){return e+1}));case 35:t.next=38;break;case 37:O.a.error("\uc81c\ucd9c \ucde8\uc18c");case 38:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Bt=function(){V(_t.current)},Pt=Object(n.useState)([]),Gt=Object(u.a)(Pt,2),Qt=Gt[0],Vt=Gt[1],Ut=Object(n.useState)([]),Zt=Object(u.a)(Ut,2),qt=Zt[0],Yt=Zt[1];Object(n.useEffect)((function(){b.a.get("/api/game/detail/".concat(j)).then((function(e){e.data.success?Vt(e.data.gameDetail):alert("\uc2a4\ud1a0\ub9ac \uc815\ubcf4\ub97c \ub85c\ub529\ud558\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[re,j]);var Ht=(null===(t=ut.current)||void 0===t?void 0:t.toString())===(null===(a=x.userData)||void 0===a||null===(r=a._id)||void 0===r?void 0:r.toString());Object(n.useEffect)((function(){if(Qt.character){var e=c.a.createElement("div",{className:"sideBar"},c.a.createElement("div",{ref:dt},c.a.createElement("div",{className:"modal"},c.a.createElement(ia,{reload:re,setName:ke,GameCharacterList:Qt.character}),c.a.createElement(Ft,{gameDetail:Qt,setName:ke,onEssetModal:Bt,isFirstScene:Ge,isWriter:Ht}))),c.a.createElement("div",{ref:gt,style:{display:"none"}},c.a.createElement(It,{gameDetail:Qt,setBackgroundImg:ge,onEssetModal:Bt,isFirstScene:Ge,curImg:de,setReload:le,isWriter:Ht})),c.a.createElement("div",{ref:ft,style:{display:"none"}},c.a.createElement(Rt,{gameDetail:Qt,bgm_audio:pa,setBgmFile:Me,onEssetModal:Bt,isFirstScene:Ge,setReload:le,isWriter:Ht})),c.a.createElement("div",{ref:bt,style:{display:"none"}},c.a.createElement(zt,{gameDetail:Qt,sound_audio:Ea,setSoundFile:Re,onEssetModal:Bt,isFirstScene:Ge,setReload:le,isWriter:Ht})));Yt(e)}}),[Qt,A,re]),Object(n.useEffect)((function(){window.addEventListener("resize",(function(){L(window.innerWidth),B(window.innerHeight)})),R(.5625*S>D?{width:"".concat(.8*D/.5625,"px"),height:"".concat(.8*D,"px"),minWidth:"".concat(300/.5625,"px"),minHeight:"".concat(300,"px")}:{width:"".concat(.8*S,"px"),height:"".concat(.8*S*.5625,"px"),minWidth:"".concat(300,"px"),minHeight:"".concat(168.75,"px")})}),[window.innerWidth,window.innerHeight]);Object(n.useEffect)((function(){return function(){pa.pause(),Ea.pause()}}),[]);var Xt=Object(n.useState)(.5),Kt=Object(u.a)(Xt,2),Wt=Kt[0],ta=Kt[1],aa=Object(n.useState)(!1),na=Object(u.a)(aa,2),ca=na[0],la=na[1],sa=Object(n.useRef)(.5),fa=Object(n.useState)(.5),_a=Object(u.a)(fa,2),ya=_a[0],Oa=_a[1],ja=Object(n.useState)(!1),Na=Object(u.a)(ja,2),ka=Na[0],xa=Na[1],Aa=Object(n.useRef)(.5);return d?c.a.createElement(va,null):Ge.current&&(null===Qt||void 0===Qt?void 0:Qt._id)||!Ge.current&&_e?c.a.createElement("div",{className:"wrapper"},!Ge.current&&c.a.createElement("div",{className:"info_btn",onClick:function(){return ae(!0)}},"\uac8c\uc784\uc815\ubcf4"),c.a.createElement("div",{className:"title"},c.a.createElement("div",{className:"scenemake_title_container"},Ge.current?c.a.createElement("span",null,"[",null===Qt||void 0===Qt?void 0:Qt.title,"]"):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"scenemake_title_clock"},c.a.createElement("span",null,"[",_e,"]")),c.a.createElement("div",{className:"scenemake_tooltip_container"},c.a.createElement("span",null,"\uc81c\uc791 \ub9c8\uac10\uc2dc\uac04 : "),c.a.createElement("span",{className:"scenemake_tooltip_text"},"\ud55c \uc774\uc57c\uae30\uc5d0\ub294 4\uac1c\uc758 \uc120\ud0dd\uc9c0 \uc81c\ud55c\uc774 \uc788\uc2b5\ub2c8\ub2e4.\n\uc120\ud0dd\uc9c0 \ub3c5\uc810\uc744 \ub9c9\uae30 \uc704\ud574\n\uc2dc\uac04 \uc81c\ud55c\uc744 \ub450\uc5c8\uc2b5\ub2c8\ub2e4."),c.a.createElement(ua.a,{format:"HH:mm:ss",date:Ve}))))),c.a.createElement(oa,{CutList:at,CutNumber:Ye,displayCut:At,setCutNumber:Xe,Hover:Je,setHover:$e,EmptyCutList:lt,saveCut:xt,onClick_plusBtn:function(e){e.preventDefault(),at.length+1===24&&O.a.warning("\uc0dd\uc131 \uac00\ub2a5\ud55c Cut\uc774 5\uac1c \ub0a8\uc558\uc2b5\ub2c8\ub2e4."),xt(),pe(""),Ye===at.length?Xe(at.length+1):Xe(at.length),v.current||vt.current.focus()},onRemove_cut:function(){if(at.length<=1&&Ye<1)O.a.info("\uccab\ubc88\uc9f8 \ucef7 \uc785\ub2c8\ub2e4.");else{if(at.length-1<=Ye)return at[Ye]&&(nt((function(e){return Object(Le.a)(e.slice(0,Ye))})),it((function(e){return[0].concat(Object(Le.a)(e))}))),At(Ye-1),void Xe(Ye-1);O.a.success("".concat(Ye+1,"\ubc88\uc9f8 \ucef7\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),nt((function(e){return[].concat(Object(Le.a)(e.slice(0,Ye)),Object(Le.a)(e.slice(Ye+1,31)))})),it((function(e){return[0].concat(Object(Le.a)(e))})),At(Ye+1)}}}),c.a.createElement("div",{className:"scene"},c.a.createElement("div",{className:"scene left-arrow",onClick:function(){0!==Ye&&(xt(),At(Ye-1),Xe(Ye-1))}},c.a.createElement(C,{src:"arrow_1",width:"100%",height:"100%",color:"#F5F5F5"})),c.a.createElement("div",{className:"backgroundImg",id:"backgroundImg_container",style:{overflow:"hidden"}},c.a.createElement("img",{className:"backgroundImg",src:"".concat(de),alt:"img"}),c.a.createElement(ra,{GameCharacterList:Qt.character,onRemovech_aracter:function(e){p(Ct({oldArray:A,index:e}))},setName:ke}),se&&ve&&c.a.createElement(He,{cut_name:Ne||"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",cut_script:ve||"\ub300\uc0ac\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",setIsTyping:null,isTyping:null,theme:mt.current}),c.a.createElement("div",{className:"scene__sound_container"},(null===Ce||void 0===Ce?void 0:Ce.name)?c.a.createElement("div",{className:"scene__sound_box",onClick:Nt},Ce.name&&pa.paused&&c.a.createElement(ma.a,{className:"scene__sound_icon bgm"}),Ce.name&&!pa.paused&&c.a.createElement(da.a,{className:"scene__sound_icon bgm"}),c.a.createElement("div",{className:"scene__sound_bgm_name"},Ce.name)):c.a.createElement("div",{className:"scene__sound_box",onClick:Nt},c.a.createElement(ga.a,{className:"scene__sound_icon bgm"}),c.a.createElement("div",{className:"scene__sound_bgm_name"},"BGM")),(null===Pe||void 0===Pe?void 0:Pe.name)?c.a.createElement("div",{className:"scene__sound_box",onClick:kt},Pe.name&&Ea.paused&&c.a.createElement(ma.a,{className:"scene__sound_icon sound"}),Pe.name&&!Ea.paused&&c.a.createElement(da.a,{className:"scene__sound_icon sound"}),c.a.createElement("div",{className:"scene__sound_sound_name"},Pe.name)):c.a.createElement("div",{className:"scene__sound_box",onClick:kt},c.a.createElement(ga.a,{className:"scene__sound_icon sound"}),c.a.createElement("div",{className:"scene__sound_sound_name"},"Sound")))),c.a.createElement("div",{className:"scene right-arrow",onClick:wt},c.a.createElement(C,{src:"arrow_1",width:"100%",height:"100%",color:Ye<29?"#F5F5F5":"black"}))),c.a.createElement("div",{className:"scene__btn_top"},c.a.createElement("div",{className:"scene_btn",onClick:function(){window.confirm("\uc2a4\ud1a0\ub9ac \uc81c\uc791\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&b.a.delete("/api/scene",{data:{gameId:j,sceneId:N,isFirst:Ge.current,userId:x.userData._id,exp:Ve}}).then((function(t){t.data.success&&(t.data.prevSceneId?(cn.emit("empty_num_increase",{scene_id:t.data.prevSceneId,user_id:x.userData._id}),e.history.replace("/game/".concat(j))):e.history.replace("/"))}))}},"\uc81c\uc791 \ucde8\uc18c"),c.a.createElement("div",{className:"scene_btn",onClick:function(e){Dt(e,1)}},"\uc784\uc2dc \uc800\uc7a5"),c.a.createElement("div",{className:"scene_btn scene_btn_blue",onClick:function(){re&&(Ge.current?H(!0):J(!0))}},"\uc644\ub8cc")),c.a.createElement("div",{className:"btn_side"},c.a.createElement("div",{className:1===_t.current?"scene_side_btn light":"scene_side_btn",onClick:function(){"none"===dt.current.style.display&&(Et(dt),le((function(e){return e+1})),_t.current=1)}},"\uce90\ub9ad\ud130"),c.a.createElement("div",{className:2===_t.current?"scene_side_btn light":"scene_side_btn",onClick:function(){"none"===gt.current.style.display&&(Et(gt),le((function(e){return e+1})),_t.current=2)}},"\ubc30\uacbd"),c.a.createElement("div",{className:3===_t.current?"scene_side_btn light":"scene_side_btn",onClick:Ot},"\ubc30\uacbd\uc74c"),c.a.createElement("div",{className:4===_t.current?"scene_side_btn light":"scene_side_btn",onClick:jt},"\ud6a8\uacfc\uc74c")),0!==qt&&qt,c.a.createElement("div",{className:"textbox_name"}),c.a.createElement("input",{onChange:function(e){ke(e.currentTarget.value)},placeholder:"\uc774\ub984",value:Ne,ref:pt,maxLength:15,className:"textbox_name"}),c.a.createElement("div",{className:"textbox_bottom"},c.a.createElement("div",{className:"enter",onClick:wt},"Enter",c.a.createElement("br",null),ve.length,"/",50),c.a.createElement("textarea",{onChange:function(e){51===e.currentTarget.value.length?O.a.error({content:"\uae00\uc790 \uc218 \uc81c\ud55c\uc744 \ucd08\uacfc\ud558\uc600\uc2b5\ub2c8\ub2e4."}):"\n"!==e.currentTarget.value[e.currentTarget.value.length-1]&&pe(e.currentTarget.value)},value:ve,placeholder:"\ub300\uc0ac\uac00 \uc5c6\uc73c\uba74 \uc2a4\ud06c\ub9bd\ud2b8 \ucc3d\uc774 \ud45c\uc2dc\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",className:"textbox_script",maxLength:50,ref:vt})),c.a.createElement("div",{className:"options"},c.a.createElement("div",{className:"scenemake_volume"},c.a.createElement("div",{className:"scenemake_volume_text"},"\ubc30\uacbd\uc74c"),c.a.createElement(ba,{audio:pa,volume:Wt,setVolume:ta,muted:ca,setMuted:la,tempVolume:sa})),c.a.createElement("div",{className:"scenemake_volume"},c.a.createElement("div",{className:"scenemake_volume_text"},"\ud6a8\uacfc\uc74c"),c.a.createElement(ba,{audio:Ea,volume:ya,setVolume:Oa,muted:ka,setMuted:xa,tempVolume:Aa}))),c.a.createElement($t.b,{gameId:j,visible:q,setUploadModalState:H,onSubmit_saveScene:Dt,defaultTitle:Qt.title,defaultDescription:Qt.description,defaultCategory:Qt.category}),c.a.createElement(ea,{isEnding:Lt,visible:W,setEndingModalState:J,onSubmit_saveScene:Dt}),c.a.createElement(yt,{visible:te,setGameInfoModalState:ae,gameDetail:Qt,isMake:!0}),0!==Q&&c.a.createElement(Jt,{gameDetail:Qt,gameId:j,visible:Boolean(Q),tag:Q,setTag:V,setReload:le})):c.a.createElement(ot,null)},ya=a(1249);var Oa=Object(m.h)((function(e){var t,a=Object(E.c)((function(e){return e.user})),n=Object(E.b)();return a.userData?a.userData.isAuth?a.userData.isAuth?c.a.createElement(ya.a,{mode:e.mode},c.a.createElement(ya.a.Item,{key:"profile"},(null===a||void 0===a||null===(t=a.userData)||void 0===t?void 0:t._id)?c.a.createElement(U.b,{to:"/profile/".concat(a.userData._id)},"\ud504\ub85c\ud544"):"\ud504\ub85c\ud544"),c.a.createElement(ya.a.Item,{key:"logout"},c.a.createElement(U.b,{to:"/",onClick:function(){b.a.get("".concat("/api/users","/logout")).then((function(t){200===t.status?(n({type:"logout_user",payload:null}),e.history.push("/login")):alert("Log Out Failed")}))}},"\ub85c\uadf8\uc544\uc6c3"))):void 0:c.a.createElement(ya.a,{mode:e.mode},c.a.createElement(ya.a.Item,{key:"login"},c.a.createElement(U.b,{to:"/login"},"\ub85c\uadf8\uc778")),c.a.createElement(ya.a.Item,{key:"register"},c.a.createElement(U.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"))):null})),ja=a(1251);a(1178),a(1179);function Na(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.controlpage.searchOn})),a=Object(n.useState)(!1),r=Object(u.a)(a,2),l=r[0],i=r[1],o=Object(n.useRef)(null),s=function(){i(!1),o.current.value="",e(H(""))};return l?c.a.createElement("div",{className:"search-container-on"},c.a.createElement("div",{className:"search-icon",onClick:function(){return s()}},c.a.createElement(C,{src:"search_1",width:"100%",height:"100%",color:"#F5F5F5"})),c.a.createElement("input",{className:"search-textinput-on",ref:o,onChange:function(){e(H(o.current.value))},onBlur:function(){""===t&&i(!1)}}),c.a.createElement("div",{className:"search-close",onClick:function(){return s()}},c.a.createElement(C,{src:"close_1",width:"100%",height:"100%",color:"#F5F5F5"}))):c.a.createElement("div",{className:"search-container-off"},c.a.createElement("div",{className:"search-icon",onClick:function(){i(!0),o.current.focus()}},c.a.createElement(C,{src:"search_1",width:"100%",height:"100%",color:"#F5F5F5"})),c.a.createElement("input",{className:"search-textinput-off",ref:o}))}var ka=Object(n.memo)((function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],l={};return l=Object(E.c)((function(e){return e.controlpage.navbarOn}))?{position:"fixed",zIndex:5,width:"100%"}:{position:"fixed",zIndex:5,width:"100%",opacity:0,animation:"0.8s ease-out 0s 1 hide"},c.a.createElement("nav",{id:"menu",className:"menu",style:l},c.a.createElement("div",{className:"menu__logo"},c.a.createElement(U.b,{to:"/"},c.a.createElement(T,null))),c.a.createElement("div",{className:"menu__container"},c.a.createElement(Na,null),c.a.createElement("div",{className:"menu_rigth"},c.a.createElement(Oa,{mode:"horizontal"})),c.a.createElement(Ne.a,{className:"menu__mobile-button",type:"primary",onClick:function(){r(!0)}},c.a.createElement($.a,{type:"align-right"})),c.a.createElement(ja.a,{title:" ",placement:"right",className:"menu_drawer",closable:!0,onClose:function(){r(!1)},visible:a},c.a.createElement(Oa,{mode:"inline"}))))}));a(1180);var xa=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(E.c)((function(e){return e.controlpage.footerOn}))?c.a.createElement("div",{className:"footer-container"},c.a.createElement("div",{className:"footer-info"},c.a.createElement("p",null,"\ubcf8 \uc0ac\uc774\ud2b8\ub294 SW\uc815\uae00\uc0ac\uad00\ud559\uad50\uc5d0\uc11c\uc758 \uad50\uc721\uc801 \ubaa9\uc801\uc73c\ub85c \uc81c\uc791\ub418\uc5c8\uc73c\uba70, \uc5b4\ub5a0\ud55c \uc0c1\uc5c5\uc801 \uc774\uc775\ub3c4 \ucde8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),c.a.createElement("p",null,"\uc800\uc791\uad8c \ub4f1 \uae30\ud0c0 \ubb38\uc758\ub294 ",c.a.createElement("a",{onClick:function(){r(!0)}},"\uc774\uacf3"),"\uc73c\ub85c \ubb38\uc758 \uac00\ub2a5\ud569\ub2c8\ub2e4."),c.a.createElement(I,{isModalVisible:a,setIsModalVisible:r})),c.a.createElement("div",{className:"footer-icons"},c.a.createElement("div",{className:"jg-icon",onClick:function(){window.open("https://swjungle.net/")}},c.a.createElement("img",{className:"jg-img",src:"https://swjungle.net/static/image/logo.png"})))):c.a.createElement("div",{className:"footer-container-off"})};a(1181),a(85);function Aa(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.controlpage.searchOn})),a=Object(n.useState)([]),r=Object(u.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){return document.documentElement.scrollTop=0,t.length>=1&&b.a.post("/api/game/search-game",{input:t}).then((function(t){t.data.games.length&&i(t.data.games.map((function(t,a){var n;return n=t.thumbnail,c.a.createElement("div",{className:"searchResult-game",key:a,onClick:function(){e(H(""))}},c.a.createElement(U.b,{to:"/game/".concat(t._id)},c.a.createElement("img",{className:"searchResult-image",src:n,alt:t.title}),c.a.createElement("div",{className:"searchResult-title"},t.title)),c.a.createElement("div",{className:"searchResult-category"},t.category))})))})),function(){0===t.length&&i([])}}),[t]),t?c.a.createElement("div",{className:"searchResult-background"},c.a.createElement("div",{className:"searchResult-container"},c.a.createElement("div",{className:"searchResult-result"},"\uac80\uc0c9\uacb0\uacfc"),l.length?c.a.createElement("div",{className:"searchResult-flex"},l):c.a.createElement("div",{className:"searchResult-result",style:{fontSize:"3vmin",opacity:"0.8"}},"\uc77c\uce58\ud558\ub294 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."))):null}a(1182);var wa=a(292),Ia=a(605),Sa=a(1245),Ca=a(1252),La=a(297),Ma=a(1254),Ta=a(1255),Da=a(606),Ba=a(607),Fa=a(229),Pa=a(613),Ra=a(612),Ga=a(95),za=a(608),Qa=a(609),Va=a(277),Ua=a(70),Za=a(386),qa=a.n(Za);a(1211),a(1212);var Ya=function(e){var t=e.complaint;return c.a.createElement("div",{className:"complaintCard_container"},c.a.createElement("div",{className:"complaintCard_title"},t.title),c.a.createElement("div",{className:"complaintCard_description"},t.description))},Ha=w.a.create({name:"modal_form"})((function(e){var t=e.visible,a=e.onCancel,r=e.node,l=Object(n.useState)({userInfo:null,cutList:null,totalSceneCnt:0,complaints:[]}),i=Object(u.a)(l,2),o=i[0],s=i[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),g=d[0],f=d[1];Object(n.useEffect)((function(){if(r){var e=r.data,t=e.userId,a=e.sceneId,n=e.gameId;b.a.get("/api/treedata/nodeInfo/".concat(t,"/").concat(a,"/").concat(n)).then((function(e){e.data.success&&s({userInfo:Object(Ce.a)(Object(Ce.a)({},e.data.sceneUserInfo),{},{userId:t}),cutList:e.data.cutList,totalSceneCnt:e.data.totalSceneCnt,complaints:e.data.complaints})}))}else s({userInfo:null,cutList:null,totalSceneCnt:0,complaints:[]})}),[r]);var v=o.userInfo?o.complaints.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(Ya,{complaint:e}))})):"",p=o.userInfo?Math.round(o.userInfo.contributedSceneList[0].sceneCnt/o.totalSceneCnt*100):0;return c.a.createElement(A.a,{visible:t,title:"\uc2a4\ud1a0\ub9ac \uc815\ubcf4",footer:[c.a.createElement(Ne.a,{key:"move",onClick:function(){f((function(e){return!e}))}},"\ub300\ud654 \ub0b4\uc5ed"),c.a.createElement(Ne.a,{key:"submit",type:"primary",onClick:a},"\ub2eb\uae30")],onCancel:a,closable:!1,bodyStyle:{height:"480px",width:"520px",fontFamily:"Noto Sans KR",fontSize:"18px",fontWeight:"300"}},c.a.createElement(w.a,{layout:"vertical"},o.userInfo&&c.a.createElement("div",{className:"adminModalForm_container"},c.a.createElement("div",{className:"adminModalForm_title"},"\uc2a4\ud1a0\ub9ac \uc81c\uc791\uc790",c.a.createElement("div",{className:"adminModalForm_card"},t&&c.a.createElement(ge,{contributer:o.userInfo,fakeRatio:p,contributeRatio:p}))),c.a.createElement("div",{className:"complaint_description"},c.a.createElement("div",{className:"adminModalForm_nickname"},o.userInfo.nickname),"\ub2d8\uc740 \uac8c\uc784\uc5d0\uc11c",c.a.createElement("div",{className:"adminModalForm_number"},o.userInfo.contributedSceneList[0].sceneCnt),"\uac1c\uc758 \uc2a4\ud1a0\ub9ac\ub97c \uc81c\uc791\ud588\uc2b5\ub2c8\ub2e4."),c.a.createElement("div",{className:"adminModalForm_title complaint"},"\uc2e0\uace0"),c.a.createElement("div",{className:"complaint_description"},c.a.createElement("div",{className:"adminModalForm_number"},o.complaints.length),"\uac74\uc758 \uc2e0\uace0\uac00 \uc811\uc218\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),c.a.createElement("div",{className:"complaint_container"},c.a.createElement("div",null,v)),c.a.createElement("div",{className:"complaint_gradation"}),c.a.createElement(dt,{trigger:g,setTrigger:f,cutList:o.cutList,i:40}))))}));function Xa(e){return e.data.isExpanded?e:e.parent?Xa(e.parent):null}function Ka(e,t){var a=Object(Ua.pointRadial)(e,t),n=Object(u.a)(a,2);return{x:n[0],y:n[1]}}var Wa=function(e){Object(Pa.a)(a,e);var t=Object(Ra.a)(a);function a(e){var n;return Object(Da.a)(this,a),(n=t.call(this,e)).state={visible:!1,node:null},n.handleVisible=n.handleVisible.bind(Object(Fa.a)(n)),n.handleNode=n.handleNode.bind(Object(Fa.a)(n)),n}return Object(Ba.a)(a,[{key:"handleVisible",value:function(){this.setState((function(e){return{visible:!e.visible}}))}},{key:"handleNode",value:function(e){this.setState((function(t){return{node:e}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.width,r=t.height,l=(t.events,t.margin),i=void 0===l?{top:0,left:0,right:0,bottom:0}:l,u=(t.userId,t.dummy),m=t.isDelete,d=t.updateTree,g=t.selectedUser,f=t.threshold;if(n<10)return null;var v=function(t){e.handleVisible(),e.state.visible?e.handleNode(null):e.handleNode(t)};function p(){return(p=Object(s.a)(o.a.mark((function e(t,a){var n,c,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=10;break}if("\ub354\ubbf8 Scene \uc0dd\uc131 by \uc720\uc12d - \uc52c\ub9cc\ub4e4\uace0 \uc9c0\uc6b0\uae30 \ub108\ubb34 \ud798\ub4e4\uc5b4\uc11c \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4.",!window.confirm("\ub354\ubbf8 Scene \uc0dd\uc131 by \uc720\uc12d - \uc52c\ub9cc\ub4e4\uace0 \uc9c0\uc6b0\uae30 \ub108\ubb34 \ud798\ub4e4\uc5b4\uc11c \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4.")){e.next=9;break}return n={prevSceneId:t.data.sceneId,userId:t.data.userId,gameId:t.data.gameId},e.next=6,b.a.post("/api/scene/makedummy",n);case 6:d(),O.a.info("\ub354\ubbf8 \uc0dd\uc131"),a.forceUpdate();case 9:return e.abrupt("return");case 10:m?("\ud074\ub9ad\ud558\uc2e0 \uc2a4\ud1a0\ub9ac\uc640 \uc774\uc5b4\uc9c0\ub294 \uc2a4\ud1a0\ub9ac\ub4e4\uc744 \ubaa8\ub450 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\ud55c \ubc88 \uc0ad\uc81c\ud558\uba74 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\"\uc0ad\uc81c\ud558\uaca0\uc2b5\ub2c8\ub2e4.\"\ub97c \uc785\ub825\ucc3d\uc5d0 \uc785\ub825\ud574\uc8fc\uc138\uc694.\n\n(\uc0ad\uc81c\ub97c \uc911\uc9c0\ud558\uae38 \uc6d0\ud558\ub294 \uacbd\uc6b0 \uc624\ub978\ucabd \ud558\ub2e8\uc758 '\uc0ad\uc81c \uc911\uc9c0' \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694.)","\uc0ad\uc81c\ud558\uaca0\uc2b5\ub2c8\ub2e4."===window.prompt("\ud074\ub9ad\ud558\uc2e0 \uc2a4\ud1a0\ub9ac\uc640 \uc774\uc5b4\uc9c0\ub294 \uc2a4\ud1a0\ub9ac\ub4e4\uc744 \ubaa8\ub450 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\ud55c \ubc88 \uc0ad\uc81c\ud558\uba74 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\"\uc0ad\uc81c\ud558\uaca0\uc2b5\ub2c8\ub2e4.\"\ub97c \uc785\ub825\ucc3d\uc5d0 \uc785\ub825\ud574\uc8fc\uc138\uc694.\n\n(\uc0ad\uc81c\ub97c \uc911\uc9c0\ud558\uae38 \uc6d0\ud558\ub294 \uacbd\uc6b0 \uc624\ub978\ucabd \ud558\ub2e8\uc758 '\uc0ad\uc81c \uc911\uc9c0' \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694.)")?(c=t.data,r=c.sceneId,l=c.gameId,O.a.loading("\uc0ad\uc81c \uc911 \uc785\ub2c8\ub2e4...",1.5).then(Object(s.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("/api/treedata/".concat(r,"/").concat(l));case 2:(n=e.sent).data.success?(O.a.success("".concat(n.data.messege),1.5),d(),cn.emit("scene_deleted",{prevScene_id:t.data.parentSceneId}),a.forceUpdate()):O.a.info("\uc0ad\uc81c \uc2e4\ud328 \ud588\uc2b5\ub2c8\ub2e4.");case 4:case"end":return e.stop()}}),e)}))))):O.a.info("\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):v(t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ha,{visible:this.state.visible,onCancel:v,node:this.state.node}),c.a.createElement("svg",{width:n,height:r},c.a.createElement("rect",{width:n,height:r,rx:14,fill:"#222831"}),c.a.createElement(za.Tree,{top:i.top,left:i.left,root:Object(Va.hierarchy)(a,(function(e){return e.isExpanded?null:e.children})),size:[2*Math.PI,.45*n],separation:function(e,t){return e.parent,t.parent,1/e.depth}},(function(t){var a=t.links,l=t.descendants;return c.a.createElement(Ga.Group,{top:n/2,left:r/2},c.a.createElement(qa.a,{data:a,keyAccessor:function(e,t){return"".concat(e.source.data.sceneId,"_").concat(e.target.data.sceneId)},start:function(e){var t=e.source;e.target;return{source:{x:t.data.x0,y:t.data.y0},target:{x:t.data.x0,y:t.data.y0}}},enter:function(e){var t=e.source,a=e.target;return{source:{x:[t.x],y:[t.y]},target:{x:[a.x],y:[a.y]}}},update:function(e){var t=e.source,a=e.target;return{source:{x:[t.x],y:[t.y]},target:{x:[a.x],y:[a.y]}}},leave:function(e){var t=e.source,a=(e.target,Xa(t));if(a)return{source:{x:[a.data.x0],y:[a.data.y0]},target:{x:[a.data.x0],y:[a.data.y0]}}}},(function(e){return c.a.createElement(Ga.Group,null,e.map((function(e){var t=e.key,a=e.data,n=e.state;return n.source.x=a.source.x,n.source.y=a.source.y,n.target.x=a.target.x,n.target.y=a.target.y,c.a.createElement(Qa.LinkRadial,{data:n,stroke:"#777479",strokeWidth:"2",fill:"none",key:t})})))})),c.a.createElement(qa.a,{data:l,keyAccessor:function(e){return e.data.sceneId},start:function(e){var t=e.parent,a=Ka(t?t.x:0,t?t.y:0);return{x:a.x,y:a.y,opacity:0}},enter:function(e){var t=Ka(e.x,e.y);return{x:[t.x],y:[t.y],opacity:[1]}},update:function(e){var t=Ka(e.x,e.y);return{x:[t.x],y:[t.y],opacity:[1]}},leave:function(e){var t=Xa(e.parent);if(t){var a=Ka(t.data.x0,t.data.y0);return{x:[a.x],y:[a.y],opacity:[0]}}}},(function(t){return c.a.createElement(Ga.Group,null,t.map((function(t){var a,n=t.key,r=t.data,l=t.state;return c.a.createElement(Ga.Group,{top:l.y,left:l.x,key:n,opacity:l.opacity},c.a.createElement("circle",{r:"rootNode"===r.data.parentSceneId?20:10,fill:g===r.data.userId?"#026cc3":r.data.complaintCnt>f?"#ca0011":"#d65d16",onClick:function(){!function(e,t){p.apply(this,arguments)}(r,e)}}),c.a.createElement("text",{dy:"0.4em",fontSize:12,fontFamily:"Arial",textAnchor:"middle",style:{pointerEvents:"none"},fill:(null===(a=r.data)||void 0===a?void 0:a.children)&&r.data.children.length>0?"bisque":"#000"},"rootNode"===r.data.parentSceneId?"\uc2dc\uc791":""))})))})))}))))}}]),a}(c.a.Component);a(1213);function Ja(e){e.onPointerDown,e.onPointerUp,e.onPointerMove;var t=e.onDragMove,a=e.children,r=e.style,l=e.className,i=Object(n.useRef)(),o=Object(n.useState)(!1),s=Object(u.a)(o,2),m=s[0],d=s[1],g=function(e){d(!0)},f=function(e){d(!1)};return c.a.createElement("div",{ref:i,onPointerDown:g,onPointerUp:f,onPointerMove:function(e){m&&t(e)},onTouchStart:g,onTouchEnd:f,style:r,className:l},a)}var $a=a(1248),en=k.a.Option,tn=(a(85),function(e,t){return Object(Ca.a)(e[t])});var an=function(e){var t=e.match.params.gameId,a=Object(E.c)((function(e){return e.user.userData})),r=Object(n.useState)([]),l=Object(u.a)(r,2),i=(l[0],l[1]),o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],d=s[1],g=Object(n.useState)(!1),f=Object(u.a)(g,2),v=f[0],p=f[1],h=Object(n.useState)(""),_=Object(u.a)(h,2),y=_[0],j=_[1],N=Object(n.useState)(20),x=Object(u.a)(N,2),A=x[0],w=x[1],I=Object(n.useState)({name:"",userId:"",complaint:0,children:[]}),S=Object(u.a)(I,2),C=S[0],L=S[1];function M(){b.a.get("/api/treedata/".concat(t)).then((function(e){if(e.data.success){for(var t=e.data,a=t.rawData,n=t.firstNodeId,c={},r=0;r<a.length;r++)c=Object(Ce.a)(Object(Ce.a)({},c),{},Object(wa.a)({},a[r]._id,a[r]));(function e(t,a){return tn(t,a).pipe(Object(La.a)((function(e){return{parent:{name:e.name,sceneId:e.sceneId,gameId:e.gameId,userId:e.userId,_id:e._id,complaintCnt:e.complaintCnt,characterName:e.characterName,firstScript:e.firstScript,parentSceneId:e.parentSceneId,children:[]},childIds:e.children}})),Object(Ma.a)((function(a){return Object(Sa.a)([Object(Ca.a)(a.parent)].concat(Object(Le.a)(a.childIds.map((function(a){return e(t,a)})))))})),Object(Ta.a)((function(e){var t=Object(Ia.a)(e),a=t[0],n=t.slice(1);return a.children=n})),Object(La.a)((function(e){return Object(u.a)(e,1)[0]})))})(c,n).subscribe((function(e){L(e)}))}}))}Object(n.useEffect)((function(){b.a.get("/api/game/detail/".concat(t)).then((function(e){if(e.data.success){i(e.data.gameDetail);for(var t=[],a=0;a<e.data.gameDetail.contributerList.length;a++)t.push({value:e.data.gameDetail.contributerList[a].userId,label:e.data.gameDetail.contributerList[a].nickname});d(t)}else O.a.error("\uc2a4\ud1a0\ub9ac \uc815\ubcf4\ub97c \ub85c\ub529\ud558\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")})),M()}),[]);var T=Object(n.useState)({x:240,y:20}),D=Object(u.a)(T,2),B=D[0],F=D[1],P=Object(n.useState)(700),R=Object(u.a)(P,2),G=R[0],z=R[1];return c.a.createElement("div",{className:"adminPage__container"},c.a.createElement("div",{className:"adminPage__body"},""!==C.userId&&(null===a||void 0===a?void 0:a._id)===C.userId?c.a.createElement(c.a.Fragment,null,c.a.createElement(U.b,{to:"/game/".concat(t),className:"admin_btn"},"\uac8c\uc784\uc73c\ub85c \ub3cc\uc544\uac00\uae30"),c.a.createElement("div",{className:"admin_title"},"\uc2a4\ud1a0\ub9ac \ubbf8\ub2c8\ub9f5"),c.a.createElement("div",{onClick:function(){"\uac8c\uc784\uc744 \uc0ad\uc81c\ud558\uaca0\uc2b5\ub2c8\ub2e4."===window.prompt('\uac8c\uc784\uc744 \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\ud55c \ubc88 \uc0ad\uc81c\ud558\uba74 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n"\uac8c\uc784\uc744 \uc0ad\uc81c\ud558\uaca0\uc2b5\ub2c8\ub2e4."\ub97c \uc785\ub825\ucc3d\uc5d0 \uc785\ub825\ud574\uc8fc\uc138\uc694.')&&(O.a.loading("\uac8c\uc784 \uc0ad\uc81c \uc911..",1),b.a.delete("/api/game/".concat(t)).then((function(t){O.a.info("".concat(t.data.messege),1.5),"\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."===t.data.messege&&e.history.push("/")})))},style:{color:"black"}},"\uac8c\uc784 \uc0ad\uc81c"),c.a.createElement("div",{className:"dragDrop_container"},c.a.createElement(Ja,{onDragMove:function(e){F({x:B.x+e.movementX,y:B.y+e.movementY})}},c.a.createElement("div",{style:{transform:"translateX(".concat(B.x,"px) translateY(").concat(B.y,"px)")}},c.a.createElement(Wa,{data:C,width:G,height:G,userId:a._id,dummy:!1,isDelete:v,updateTree:M,selectedUser:y,threshold:A})))),c.a.createElement("div",{className:"admin_delete"},c.a.createElement("div",{className:"description"},v?"\ubbf8\ub2c8\ub9f5\uc758 \uc2a4\ud1a0\ub9ac\ub97c \ud074\ub9ad\ud558\uba74 \ud574\ub2f9 \uc2a4\ud1a0\ub9ac\uc640 \ud574\ub2f9 \uc2a4\ud1a0\ub9ac\ub85c\ubd80\ud130 \uc774\uc5b4\uc9c0\ub294 \ubaa8\ub4e0 \uc2a4\ud1a0\ub9ac\uac00 \uc81c\uac70\ub429\ub2c8\ub2e4.   ":"\ubbf8\ub2c8\ub9f5\uc758 \uc2a4\ud1a0\ub9ac\ub97c \ud074\ub9ad\ud558\uba74 \ud574\ub2f9 \uc2a4\ud1a0\ub9ac\uc758 \uc790\uc138\ud55c \uc815\ubcf4\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.   "),c.a.createElement("div",{className:"admin_btn",onClick:function(){v||alert("\uc9c0\ub3c4\uc5d0\uc11c \uc2a4\ud1a0\ub9ac\ub97c \ud074\ub9ad\ud558\uba74 \uc2a4\ud1a0\ub9ac\uac00 \uc0ad\uc81c\ub429\ub2c8\ub2e4. \n\ud574\ub2f9 \uc2a4\ud1a0\ub9ac\ub85c\ubd80\ud130 \uc774\uc5b4\uc9c0\ub294 \uc2a4\ud1a0\ub9ac\ub4e4\ub3c4 \ud568\uaed8 \uc0ad\uc81c\ub418\ub2c8 \uc2e0\uc911\ud788 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),p((function(e){return!e}))}},v?"\uc0ad\uc81c \uc911\uc9c0 ":"\uc0ad\uc81c \uc2dc\uc791")),c.a.createElement("div",{className:"adminPage_options"},c.a.createElement(k.a,{defaultValue:"\uc2a4\ud1a0\ub9ac \uc81c\uc791\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694",style:{width:300},onChange:function(e){j(e)}},c.a.createElement(en,{key:0,value:""},"\uc120\ud0dd\ud574\uc81c"),m.map((function(e){return c.a.createElement(en,{key:e.value,value:e.value},e.label)}))),c.a.createElement($a.a,{min:1,max:100,style:{width:290},onChange:function(e){w(e)},value:A}),c.a.createElement("div",{className:"admin_searchComplaint"},c.a.createElement("div",{className:"complaint_circle"}),c.a.createElement("div",{className:"complaint_threshold"},"\uc2e0\uace0 \ud69f\uc218\uac00 ".concat(A," \uc774\uc0c1\uc778 \uc2a4\ud1a0\ub9ac"))),c.a.createElement("div",{onClick:function(){G<2e3&&(z((function(e){return e+300})),F({x:B.x-150,y:B.y-150}))},className:"edit_btn"},c.a.createElement(le.a,{icon:ie.m})),c.a.createElement("div",{onClick:function(){G>400&&(z((function(e){return e-300})),F({x:B.x+150,y:B.y+150}))},className:"edit_btn"},c.a.createElement(le.a,{icon:ie.k})),c.a.createElement("div",{onClick:function(){F({x:240,y:20}),z(700)},className:"edit_btn"},c.a.createElement(le.a,{icon:ie.d})))):c.a.createElement(c.a.Fragment,null)))},nn=a(85),cn=g()(nn.SOCKET,{transports:["websocket"]});var rn=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(E.b)();return h(Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(window.navigator.userAgent.indexOf("MSIE")>=0)){e.next=3;break}return alert("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4. \ud06c\ub86c \ube0c\ub77c\uc6b0\uc800 \uc0ac\uc6a9\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4."),e.abrupt("return",null);case 3:l(p()).then((function(){r(!0)}));case 4:case"end":return e.stop()}}),e)})))),a?c.a.createElement(n.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(ka,null),c.a.createElement("div",{className:"app"},c.a.createElement(m.c,null,c.a.createElement(m.a,{exact:!0,path:"/",component:_(K,null)}),c.a.createElement(m.a,{exact:!0,path:"/login",component:_(ne,!1)}),c.a.createElement(m.a,{exact:!0,path:"/register",component:_(ce,!1)}),c.a.createElement(m.a,{exact:!0,path:"/passport/register",component:_(re,!1)}),c.a.createElement(m.a,{exact:!0,path:"/profile/:userId",component:_(se,null)}),c.a.createElement(m.a,{exact:!0,path:"/game/upload",component:_(Se,!0)}),c.a.createElement(m.a,{path:"/game/:gameId",component:_(Oe,null)}),c.a.createElement(m.a,{path:"/gameplay",component:y(_(kt,null))}),c.a.createElement(m.a,{path:"/admin/:gameId",component:_(an,!0)}),c.a.createElement(m.a,{exact:!0,path:"/scene/make",component:y(_(_a,!0))})),c.a.createElement(Aa,null)),c.a.createElement(xa,null)):c.a.createElement(ot,null)};function ln(){var e=Object(m.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var on=a(159),sn={navbarOn:!0,footerOn:!0,searchOn:""},un={loadingType:1,isPause:!1},mn={description:"",image:"",image_array:[],name:"",_id:"",index:-1},dn={index:-1},gn={movingTarget:-1},fn=Object(on.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register_user":return Object(Ce.a)(Object(Ce.a)({},e),{},{register:t.payload});case"login_user":return Object(Ce.a)(Object(Ce.a)({},e),{},{loginSuccess:t.payload});case"auth_user":return Object(Ce.a)(Object(Ce.a)({},e),{},{userData:t.payload});case"logout_user":return Object(Ce.a)(Object(Ce.a)({},e),{},{loginSuccess:t.payload});default:return e}},controlpage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"navbar_control":return Object(Ce.a)(Object(Ce.a)({},e),{},{navbarOn:t.payload});case"footer_control":return Object(Ce.a)(Object(Ce.a)({},e),{},{footerOn:t.payload});case"search_control":return Object(Ce.a)(Object(Ce.a)({},e),{},{searchOn:t.payload});default:return e}},gameplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"gameLoading_gamePlay":return Object(Ce.a)(Object(Ce.a)({},e),{},{loadingType:t.payload});case"pause_gamePlay":return Object(Ce.a)(Object(Ce.a)({},e),{},{isPause:t.payload});default:return e}},sync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"load_empty_num":return Object(Ce.a)(Object(Ce.a)({},e),{},{emptyNum:t.payload});case"SAVE_PREV_SCENE":return Object(Ce.a)(Object(Ce.a)({},e),{},{prevSceneId:t.payload});default:return e}},character:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{characterSelected:mn,CharacterList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"select_character":return Object(Ce.a)(Object(Ce.a)({},e),{},{characterSelected:t.payload});case"detach_character":return Object(Ce.a)(Object(Ce.a)({},e),{},{characterSelected:mn});case"push_character":case"pop_character":case"update_character":case"set_character_list":case"order_character":case"toggle_character":return Object(Ce.a)(Object(Ce.a)({},e),{},{CharacterList:t.payload});default:return e}},characterDisplayed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{characterDisplayed:dn},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"select_displayed":return Object(Ce.a)(Object(Ce.a)({},e),{},{characterDisplayed:t.payload});default:return e}},movingTarget:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"select_movingtarget":case"detach_movingtarget":return Object(Ce.a)(Object(Ce.a)({},e),{},{movingTarget:t.payload});default:return e}}}),bn=a(610),vn=a.n(bn),pn=a(611);a(164).b.add(ie.o);var En=Object(on.a)(vn.a,pn.a)(on.d);l.a.render(c.a.createElement(E.a,{store:En(fn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},c.a.createElement(U.a,null,c.a.createElement(ln,null),c.a.createElement(rn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},178:function(e,t,a){},280:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(24),c=a.n(n),r=a(40),l=a(2),i=a(0),o=a.n(i),s=a(1225),u=a(310),m=a(616),d=a(188),g=a(4),f=a.n(g),b=a(7),v=a(96),p=(a(910),s.a.TextArea,[{value:0,label:"\uc0b4\uc544\ub0a8\uae30"},{value:1,label:"\ub85c\ub9e8\uc2a4"},{value:2,label:"\uc2a4\ud1a0\ub9ac"},{value:3,label:"\ucd94\ub9ac"},{value:4,label:"\ubcd1\ub9db"}]);t.b=function(e){var t=e.gameId,a=e.visible,n=e.setUploadModalState,s=e.onSubmit_saveScene,g=e.defaultTitle,E=e.defaultDescription,h=e.defaultCategory,_=e.uploadFlag,y=Object(b.c)((function(e){return e.user})),O=Object(i.useState)({defaultTitle:g}),j=Object(l.a)(O,2),N=j[0],k=j[1],x=Object(i.useState)({defaultDescription:E}),A=Object(l.a)(x,2),w=A[0],I=A[1],S=Object(i.useState)(0),C=Object(l.a)(S,2),L=C[0],M=(C[1],Object(i.useState)(h||"\uc0b4\uc544\ub0a8\uae30")),T=Object(l.a)(M,2),D=T[0],B=T[1],F=Object(i.useState)(""),P=Object(l.a)(F,2),R=P[0],G=P[1],z=Object(i.useState)([]),Q=Object(l.a)(z,2),V=Q[0],U=Q[1];Object(i.useEffect)((function(){k(g),I(E)}),[g,E]);var Z=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==N&&""!==w&&""!==R){e.next=4;break}return u.a.error("\ubaa8\ub4e0 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),e.abrupt("return");case 4:q(),s();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,a={header:{encrpyt:"multipart/form-data"}},V.forEach((function(e){t.append("files",e)})),e.next=5,f.a.post("/api/game/uploadfile",t,a).then((function(e){e.data.success?Y(e.data.files[0].location):u.a.error("\uc5c5\ub85c\ub4dc \uc2e4\ud328")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(r.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={gameId:t,creator:y.userData._id,title:N,description:w,thumbnail:a,privacy:L,category:D,writer:[y.userData._id]},e.next=3,f.a.post("/api/game/uploadgameInfo",n).then((function(e){e.data.success||u.a.error("game\uc81c\uc791 \uc2e4\ud328")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(m.a,{className:"scenemake_uploadmodal",visible:a,okText:"\uc5c5\ub85c\ub4dc",cancelText:"\ucde8\uc18c",onCancel:function(){R&&URL.revokeObjectURL(R),n(!1)},onOk:Z,closable:!1},o.a.createElement("div",{className:"scenemake_uploadmodal_form_container"},"\uc2a4\ud1a0\ub9ac \uc5c5\ub85c\ub4dc",o.a.createElement(d.a,{onSubmit:Z},o.a.createElement("div",{className:"scenemake_uploadmodal_form"},o.a.createElement("div",{className:"scenemake_dropzone_container"},o.a.createElement(v.a,{onDrop:function(e){e[0]?(URL.revokeObjectURL(R),G(URL.createObjectURL(e[0])),U(e)):u.a.error("10MB \uc774\ud558\uc758 \uc774\ubbf8\uc9c0 \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud574\uc8fc\uc138\uc694.")},multiple:!1,maxSize:10485761,accept:"image/*",blobURL:R,type:"thumbnail",icon:"image",uploadFlag:_}))),o.a.createElement("div",{className:"scenemake_uploadmodal_detail"},o.a.createElement("div",{className:"scenemake_uploadmodal_detail_title_container"},"\uc81c\ubaa9",o.a.createElement("textarea",{maxLength:30,className:"scenemake_uploadmodal_detail_title",onChange:function(e){k(e.currentTarget.value.substr(0,50))},value:N})),o.a.createElement("div",{className:"scenemake_uploadmodal_detail_description_container"},"\uc2a4\ud1a0\ub9ac \uc124\uba85",o.a.createElement("textarea",{maxLength:1e3,className:"scenemake_uploadmodal_detail_description",rows:"4",onChange:function(e){I(e.currentTarget.value.substr(0,5e3))},value:w})),o.a.createElement("div",{className:"scenemake_modal_detail_category_container"},o.a.createElement("select",{className:"scenemake_modal_category",onChange:function(e){var t=e.currentTarget.value;B(e.currentTarget[t].text)},defaultValue:{label:"\uc0b4\uc544\ub0a8\uae30",value:"\uc0b4\uc544\ub0a8\uae30"}},o.a.createElement("option",{value:"",disabled:!0,hidden:!0},D),p.map((function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.label)}))))))))}},378:function(e,t,a){"use strict";a.r(t),a.d(t,"TitleModalForm",(function(){return o}));var n=a(0),c=a.n(n),r=a(616),l=a(188),i=(a(906),a(280)),o=l.a.create({name:"modal_form"})((function(e){var t=e.type,a=e.visible,o=e.onCancel,s=e.onCreate,u=e.setGameTitle,m=e.setGameDescription,d=e.setCategory,g=Object(n.useRef)(null);return"fork"===t?g.current="\uc774 \uc2a4\ud1a0\ub9ac\uc758 \uc0ac\uc9c4\uacfc \uc74c\uc545 \uc790\uc6d0\uc774 \ubaa8\ub450 \ubcf5\uc0ac\ub429\ub2c8\ub2e4.\n\uac19\uc740 \uc790\uc6d0\uc744 \uc774\uc6a9\ud574\uc11c \ub2e4\ub978 \ubc84\uc804\uc758 \uc2a4\ud1a0\ub9ac\ub97c \ub9cc\ub4e4\uc5b4\ubcf4\uc138\uc694!":"create"===t&&(g.current="\uc5ec\ub7ec\ubd84\uc758 \uc2a4\ud1a0\ub9ac\ub97c \uc81c\uc791\ud574\ubcf4\uc138\uc694!"),c.a.createElement(r.a,{visible:a,title:"\uc5b4\ub5a4 \uc774\uc57c\uae30\ub97c \ub9cc\ub4dc\uc2e4\uac74\uac00\uc694?",okText:"\uc81c\uc791",cancelText:"\ucde8\uc18c",onCancel:o,onOk:s,closable:!1,centered:!0,bodyStyle:{height:"515px",fontFamily:"Noto Sans KR",fontSize:"18px",fontWeight:"300"}},c.a.createElement("div",{className:"title_modalform_msg"},g.current),c.a.createElement(l.a,{layout:"vertical"},c.a.createElement(l.a.Item,{label:"\uc81c\ubaa9",name:"title",rules:[{required:!0,message:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"},{max:20,message:"\uc81c\ubaa9\uc740 20\uc790 \uc774\ub0b4\uc5ec\uc57c \ud569\ub2c8\ub2e4."}]},c.a.createElement("textarea",{className:"title_modalform_title",required:"required",maxLength:20,onChange:function(e){u(e.currentTarget.value)}})),c.a.createElement(l.a.Item,{label:"\uc2a4\ud1a0\ub9ac \uc124\uba85",name:"description",rules:[{required:!0,message:"\uc2a4\ud1a0\ub9ac \uc124\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!"},{max:1e3,message:"\uc124\uba85\uc740 1000\uc790 \uc774\ub0b4\uc5ec\uc57c \ud569\ub2c8\ub2e4."}]},c.a.createElement("textarea",{maxLength:1001,onChange:function(e){m(e.currentTarget.value.substr(0,5e3))},className:"title_modalform_description",required:"required"})),c.a.createElement(l.a.Item,{label:"\uce74\ud14c\uace0\ub9ac",name:"description"},c.a.createElement("select",{onChange:function(e){var t=e.currentTarget.value;d(e.currentTarget[t].text)}},i.a.map((function(e,t){return c.a.createElement("option",{key:t,value:e.value},e.label)}))))))}))},521:function(e,t,a){},573:function(e,t,a){},575:function(e,t,a){},576:function(e,t,a){},577:function(e,t,a){},579:function(e,t,a){},580:function(e,t,a){},581:function(e,t,a){},582:function(e,t,a){},621:function(e,t,a){e.exports=a(1222)},85:function(e,t,a){e.exports=a(1029)},853:function(e,t,a){},905:function(e,t,a){},906:function(e,t,a){},907:function(e,t,a){},910:function(e,t,a){},96:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(1226),l=a(1227),i=a(1228),o=a(130);a(907);t.a=function(e){var t,a=e.onDrop,n=e.multiple,s=e.maxSize,u=e.accept,m=e.blobURL,d=e.type,g=e.icon,f=e.uploadFlag;return"background"===d||"thumbnail"===d?t="16 : 9 \ube44\uc728\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.":"character"===d?t="\ubc30\uacbd\uc5c6\ub294 \uc0ac\uc9c4\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.":"bgm"!==d&&"sound"!==d||(t="\uc74c\uc6d0\uc744 \uc5c5\ub85c\ub4dc \ud574\uc8fc\uc138\uc694."),f&&(null===f||void 0===f?void 0:f.current)?c.a.createElement("div",{className:"dropzone"},c.a.createElement("div",{className:"upload_text"},"\uc5c5\ub85c\ub4dc\uac00 \uc9c4\ud589\uc911\uc785\ub2c8\ub2e4.",c.a.createElement("br",null),"\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694 :)"),c.a.createElement("div",{className:"upload_text_small"},"\uc5c5\ub85c\ub4dc \uc911 :)"),c.a.createElement("div",{className:"lds-dual-ring"})):c.a.createElement(o.a,{onDrop:a,multiple:n,maxSize:s,accept:u},(function(e){var a=e.getRootProps,n=e.getInputProps;return c.a.createElement("div",Object.assign({className:"dropzone"},a()),c.a.createElement("input",n()),m?c.a.createElement("div",{className:"thumbnail__container"},c.a.createElement("img",{className:"thumbnail__img",src:m,alt:"thumbnail"})):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("p",{className:"thumbnail__msg"},c.a.createElement("b",null,"thumbnail"===d?"Thumbnail Upload":"\ud30c\uc77c \uc5c5\ub85c\ub4dc")),"  "),"image"===g&&c.a.createElement(r.a,{className:"dropzone-icon"}),"audio"===g&&c.a.createElement(l.a,{className:"dropzone-icon"}),"file"===g&&c.a.createElement(i.a,{className:"dropzone-icon"}),c.a.createElement("div",null,c.a.createElement("p",{className:"thumbnail__msg ".concat("character"===d)},c.a.createElement("b",null,t)))))}))}}},[[621,1,2]]]);